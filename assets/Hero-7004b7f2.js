import{r as P,g as Vd,L as Pl,T as Si,R as Xd,U as yr,a as Wd,O as oa,P as xs,S as As,b as Gl,N as Mm,A as Tm,V as yt,c as Ot,d as Yd,B as aa,M as Bi,C as On,W as Im,e as Zd,f as Rm,h as Dm,i as Fm,k as Pm,l as qd,m as Gm,D as kr,t as Jr,n as fs,o as Um,p as ou,q as $d,s as Ms,u as Du,I as Om,v as Zn,w as eh,x as Kr,F as Wo,y as Hm,z as Lm,E as bm,G as ds,H as Er,J as Yo,K as Nm,Q as th,X as km,Y as zm,Z as Xn,_ as Jm,$ as hn,a0 as nh,a1 as au,a2 as Km,a3 as jm,a4 as rh,a5 as Qm,a6 as Vm,a7 as Xm,a8 as Wm,a9 as Ym,aa as Zm,ab as Ul,ac as qm,ad as ih,ae as $m,af as ev,ag as sh,ah as Bs,ai as tv,aj as nv,ak as rv,al as iv,am as sv,an as ov,ao as oh,ap as av,aq as lv,ar as Lf,as as uv,at as cv,au as fv,av as dv,aw as ah,ax as Cn,ay as gr,az as gi,aA as hv,aB as Sn,aC as lh,aD as pv,aE as mv,aF as vv,aG as gv,aH as Ii,aI as Av,aJ as Bv,aK as yv,aL as Cv,aM as Lo,aN as Fu,aO as We,aP as Vr,aQ as uh,aR as ch,aS as bf,j as Pe}from"./index-81dbf3b9.js";function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Cr.apply(this,arguments)}var fh={exports:{}},Xr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xr.ConcurrentRoot=1;Xr.ContinuousEventPriority=4;Xr.DefaultEventPriority=16;Xr.DiscreteEventPriority=1;Xr.IdleEventPriority=536870912;Xr.LegacyRoot=0;fh.exports=Xr;var Ai=fh.exports,dh={exports:{}},hh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ue){var se=Q.length;Q.push(ue);e:for(;0<se;){var ge=se-1>>>1,le=Q[ge];if(0<a(le,ue))Q[ge]=ue,Q[se]=le,se=ge;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ue=Q[0],se=Q.pop();if(se!==ue){Q[0]=se;e:for(var ge=0,le=Q.length,Be=le>>>1;ge<Be;){var Ve=2*(ge+1)-1,Oe=Q[Ve],Ee=Ve+1,ct=Q[Ee];if(0>a(Oe,se))Ee<le&&0>a(ct,Oe)?(Q[ge]=ct,Q[Ee]=se,ge=Ee):(Q[ge]=Oe,Q[Ve]=se,ge=Ve);else if(Ee<le&&0>a(ct,se))Q[ge]=ct,Q[Ee]=se,ge=Ee;else break e}}return ue}function a(Q,ue){var se=Q.sortIndex-ue.sortIndex;return se!==0?se:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var d=[],v=[],h=1,g=null,B=3,C=!1,E=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Q){for(var ue=i(v);ue!==null;){if(ue.callback===null)s(v);else if(ue.startTime<=Q)s(v),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=i(v)}}function F(Q){if(T=!1,w(Q),!E)if(i(d)!==null)E=!0,ke(z);else{var ue=i(v);ue!==null&&Te(F,ue.startTime-Q)}}function z(Q,ue){E=!1,T&&(T=!1,_(K),K=-1),C=!0;var se=B;try{for(w(ue),g=i(d);g!==null&&(!(g.expirationTime>ue)||Q&&!G());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,B=g.priorityLevel;var le=ge(g.expirationTime<=ue);ue=t.unstable_now(),typeof le=="function"?g.callback=le:g===i(d)&&s(d),w(ue)}else s(d);g=i(d)}if(g!==null)var Be=!0;else{var Ve=i(v);Ve!==null&&Te(F,Ve.startTime-ue),Be=!1}return Be}finally{g=null,B=se,C=!1}}var H=!1,j=null,K=-1,J=5,X=-1;function G(){return!(t.unstable_now()-X<J)}function q(){if(j!==null){var Q=t.unstable_now();X=Q;var ue=!0;try{ue=j(!0,Q)}finally{ue?pe():(H=!1,j=null)}}else H=!1}var pe;if(typeof M=="function")pe=function(){M(q)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,me=Me.port2;Me.port1.onmessage=q,pe=function(){me.postMessage(null)}}else pe=function(){x(q,0)};function ke(Q){j=Q,H||(H=!0,pe())}function Te(Q,ue){K=x(function(){Q(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||C||(E=!0,ke(z))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(Q){switch(B){case 1:case 2:case 3:var ue=3;break;default:ue=B}var se=B;B=ue;try{return Q()}finally{B=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=B;B=Q;try{return ue()}finally{B=se}},t.unstable_scheduleCallback=function(Q,ue,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,Q){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=se+le,Q={id:h++,callback:ue,priorityLevel:Q,startTime:se,expirationTime:le,sortIndex:-1},se>ge?(Q.sortIndex=se,e(v,Q),i(d)===null&&Q===i(v)&&(T?(_(K),K=-1):T=!0,Te(F,se-ge))):(Q.sortIndex=le,e(d,Q),E||C||(E=!0,ke(z))),Q},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(Q){var ue=B;return function(){var se=B;B=ue;try{return Q.apply(this,arguments)}finally{B=se}}}})(ph);hh.exports=ph;var lu=hh.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=function(e){var i={},s=P,a=lu,u=Object.assign;function c(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),v=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),z=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}function j(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case h:return"Fragment";case v:return"Portal";case B:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case E:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case T:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:j(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return j(n(r))}catch{}}return null}function K(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(r);case 8:return r===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function J(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,r.flags&4098&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function X(n){if(J(n)!==n)throw Error(c(188))}function G(n){var r=n.alternate;if(!r){if(r=J(n),r===null)throw Error(c(188));return r!==n?null:n}for(var o=n,l=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return X(f),n;if(m===l)return X(f),r;m=m.sibling}throw Error(c(188))}if(o.return!==l.return)o=f,l=m;else{for(var S=!1,R=f.child;R;){if(R===o){S=!0,o=f,l=m;break}if(R===l){S=!0,l=f,o=m;break}R=R.sibling}if(!S){for(R=m.child;R;){if(R===o){S=!0,o=m,l=f;break}if(R===l){S=!0,l=m,o=f;break}R=R.sibling}if(!S)throw Error(c(189))}}if(o.alternate!==l)throw Error(c(190))}if(o.tag!==3)throw Error(c(188));return o.stateNode.current===o?n:r}function q(n){return n=G(n),n!==null?pe(n):null}function pe(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=pe(n);if(r!==null)return r;n=n.sibling}return null}function Me(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=Me(n);if(r!==null)return r}n=n.sibling}return null}var me=Array.isArray,ke=e.getPublicInstance,Te=e.getRootHostContext,Q=e.getChildHostContext,ue=e.prepareForCommit,se=e.resetAfterCommit,ge=e.createInstance,le=e.appendInitialChild,Be=e.finalizeInitialChildren,Ve=e.prepareUpdate,Oe=e.shouldSetTextContent,Ee=e.createTextInstance,ct=e.scheduleTimeout,Ct=e.cancelTimeout,qn=e.noTimeout,ht=e.isPrimaryRenderer,Ie=e.supportsMutation,Jt=e.supportsPersistence,tt=e.supportsHydration,_n=e.getInstanceFromNode,Ln=e.preparePortalMount,Pi=e.getCurrentEventPriority,pn=e.detachDeletedInstance,Yr=e.supportsMicrotasks,Sr=e.scheduleMicrotask,wn=e.supportsTestSelectors,Gi=e.findFiberRoot,Ui=e.getBoundingRect,Zr=e.getTextContent,bn=e.isHiddenSubtree,_r=e.matchAccessibilityRole,Oi=e.setFocusIfFocusable,mn=e.setupIntersectionObserver,Hs=e.appendChild,qr=e.appendChildToContainer,Aa=e.commitTextUpdate,Ba=e.commitMount,ya=e.commitUpdate,wr=e.insertBefore,Rt=e.insertInContainerBefore,Ls=e.removeChild,$n=e.removeChildFromContainer,Lt=e.resetTextContent,Et=e.hideInstance,Ca=e.hideTextInstance,oe=e.unhideInstance,xr=e.unhideTextInstance,Ea=e.clearContainer,Sa=e.cloneInstance,bs=e.createContainerChildSet,Ns=e.appendChildToContainerChildSet,_a=e.finalizeContainerChildren,ks=e.replaceContainerChildren,zs=e.cloneHiddenInstance,Js=e.cloneHiddenTextInstance,wa=e.canHydrateInstance,xa=e.canHydrateTextInstance,Ma=e.canHydrateSuspenseInstance,Mr=e.isSuspenseInstancePending,Hi=e.isSuspenseInstanceFallback,Tr=e.registerSuspenseInstanceRetry,vn=e.getNextHydratableSibling,Ge=e.getFirstHydratableChild,Ks=e.getFirstHydratableChildWithinContainer,Ta=e.getFirstHydratableChildWithinSuspenseInstance,A=e.hydrateInstance,y=e.hydrateTextInstance,I=e.hydrateSuspenseInstance,O=e.getNextHydratableInstanceAfterSuspenseInstance,b=e.commitHydratedContainer,N=e.commitHydratedSuspenseInstance,W=e.clearSuspenseBoundary,V=e.clearSuspenseBoundaryFromContainer,ee=e.shouldDeleteUnhydratedTailInstances,$=e.didNotMatchHydratedContainerTextInstance,te=e.didNotMatchHydratedTextInstance,Z;function Ze(n){if(Z===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Z=r&&r[1]||""}return`
`+Z+n}var ce=!1;function de(n,r){if(!n||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Y){var l=Y}Reflect.construct(n,[],r)}else{try{r.call()}catch(Y){l=Y}n.call(r.prototype)}else{try{throw Error()}catch(Y){l=Y}n()}}catch(Y){if(Y&&l&&typeof Y.stack=="string"){for(var f=Y.stack.split(`
`),m=l.stack.split(`
`),S=f.length-1,R=m.length-1;1<=S&&0<=R&&f[S]!==m[R];)R--;for(;1<=S&&0<=R;S--,R--)if(f[S]!==m[R]){if(S!==1||R!==1)do if(S--,R--,0>R||f[S]!==m[R]){var k=`
`+f[S].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=S&&0<=R);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Ze(n):""}var ye=Object.prototype.hasOwnProperty,we=[],Ne=-1;function He(n){return{current:n}}function Ae(n){0>Ne||(n.current=we[Ne],we[Ne]=null,Ne--)}function xe(n,r){Ne++,we[Ne]=n.current,n.current=r}var Le={},$e=He(Le),Re=He(!1),nt=Le;function Dt(n,r){var o=n.type.contextTypes;if(!o)return Le;var l=n.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=f),f}function pt(n){return n=n.childContextTypes,n!=null}function Tt(){Ae(Re),Ae($e)}function Xe(n,r,o){if($e.current!==Le)throw Error(c(168));xe($e,r),xe(Re,o)}function At(n,r,o){var l=n.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var f in l)if(!(f in r))throw Error(c(108,K(n)||"Unknown",f));return u({},o,l)}function qe(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Le,nt=$e.current,xe($e,n),xe(Re,Re.current),!0}function ze(n,r,o){var l=n.stateNode;if(!l)throw Error(c(169));o?(n=At(n,r,nt),l.__reactInternalMemoizedMergedChildContext=n,Ae(Re),Ae($e),xe($e,n)):Ae(Re),xe(Re,o)}var ot=Math.clz32?Math.clz32:xn,Nn=Math.log,bt=Math.LN2;function xn(n){return n>>>=0,n===0?32:31-(Nn(n)/bt|0)|0}var js=64,Qs=4194304;function Li(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vs(n,r){var o=n.pendingLanes;if(o===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,S=o&268435455;if(S!==0){var R=S&~f;R!==0?l=Li(R):(m&=S,m!==0&&(l=Li(m)))}else S=o&~f,S!==0?l=Li(S):m!==0&&(l=Li(m));if(l===0)return 0;if(r!==0&&r!==l&&!(r&f)&&(f=l&-l,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(l&4&&(l|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=l;0<r;)o=31-ot(r),f=1<<o,l|=n[o],r&=~f;return l}function bp(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(n,r){for(var o=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var S=31-ot(m),R=1<<S,k=f[S];k===-1?(!(R&o)||R&l)&&(f[S]=bp(R,r)):k<=r&&(n.expiredLanes|=R),m&=~R}}function Ia(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ra(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function bi(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-ot(r),n[r]=o}function kp(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var l=n.eventTimes;for(n=n.expirationTimes;0<o;){var f=31-ot(o),m=1<<f;r[f]=0,l[f]=-1,n[f]=-1,o&=~m}}function Da(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var l=31-ot(o),f=1<<l;f&r|n[l]&r&&(n[l]|=r),o&=~f}}var Je=0;function oc(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Fa=a.unstable_scheduleCallback,ac=a.unstable_cancelCallback,zp=a.unstable_shouldYield,Jp=a.unstable_requestPaint,St=a.unstable_now,Pa=a.unstable_ImmediatePriority,Kp=a.unstable_UserBlockingPriority,Ga=a.unstable_NormalPriority,jp=a.unstable_IdlePriority,Xs=null,Mn=null;function Qp(n){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Xs,n,void 0,(n.current.flags&128)===128)}catch{}}function Vp(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Tn=typeof Object.is=="function"?Object.is:Vp,kn=null,Ws=!1,Ua=!1;function lc(n){kn===null?kn=[n]:kn.push(n)}function Xp(n){Ws=!0,lc(n)}function In(){if(!Ua&&kn!==null){Ua=!0;var n=0,r=Je;try{var o=kn;for(Je=1;n<o.length;n++){var l=o[n];do l=l(!0);while(l!==null)}kn=null,Ws=!1}catch(f){throw kn!==null&&(kn=kn.slice(n+1)),Fa(Pa,In),f}finally{Je=r,Ua=!1}}return null}var Wp=p.ReactCurrentBatchConfig;function Ys(n,r){if(Tn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!ye.call(r,f)||!Tn(n[f],r[f]))return!1}return!0}function Yp(n){switch(n.tag){case 5:return Ze(n.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function gn(n,r){if(n&&n.defaultProps){r=u({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}var Zs=He(null),qs=null,$r=null,Oa=null;function Ha(){Oa=$r=qs=null}function uc(n,r,o){ht?(xe(Zs,r._currentValue),r._currentValue=o):(xe(Zs,r._currentValue2),r._currentValue2=o)}function La(n){var r=Zs.current;Ae(Zs),ht?n._currentValue=r:n._currentValue2=r}function ba(n,r,o){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===o)break;n=n.return}}function ei(n,r){qs=n,Oa=$r=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&r&&(Wt=!0),n.firstContext=null)}function qt(n){var r=ht?n._currentValue:n._currentValue2;if(Oa!==n)if(n={context:n,memoizedValue:r,next:null},$r===null){if(qs===null)throw Error(c(308));$r=n,qs.dependencies={lanes:0,firstContext:n}}else $r=$r.next=n;return r}var Rn=null,er=!1;function Na(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function zn(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function tr(n,r){var o=n.updateQueue;o!==null&&(o=o.shared,mt!==null&&n.mode&1&&!(Fe&2)?(n=o.interleaved,n===null?(r.next=r,Rn===null?Rn=[o]:Rn.push(o)):(r.next=n.next,n.next=r),o.interleaved=r):(n=o.pending,n===null?r.next=r:(r.next=n.next,n.next=r),o.pending=r))}function $s(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,Da(n,o)}}function fc(n,r){var o=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var S={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=S:m=m.next=S,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,effects:l.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function eo(n,r,o,l){var f=n.updateQueue;er=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var k=R,Y=k.next;k.next=null,S===null?m=Y:S.next=Y,S=k;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,R=ae.lastBaseUpdate,R!==S&&(R===null?ae.firstBaseUpdate=Y:R.next=Y,ae.lastBaseUpdate=k))}if(m!==null){var Se=f.baseState;S=0,ae=Y=k=null,R=m;do{var ve=R.lane,et=R.eventTime;if((l&ve)===ve){ae!==null&&(ae=ae.next={eventTime:et,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=n,Ut=R;switch(ve=r,et=o,Ut.tag){case 1:if(he=Ut.payload,typeof he=="function"){Se=he.call(et,Se,ve);break e}Se=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ut.payload,ve=typeof he=="function"?he.call(et,Se,ve):he,ve==null)break e;Se=u({},Se,ve);break e;case 2:er=!0}}R.callback!==null&&R.lane!==0&&(n.flags|=64,ve=f.effects,ve===null?f.effects=[R]:ve.push(R))}else et={eventTime:et,lane:ve,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ae===null?(Y=ae=et,k=Se):ae=ae.next=et,S|=ve;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ve=R,R=ve.next,ve.next=null,f.lastBaseUpdate=ve,f.shared.pending=null}}while(1);if(ae===null&&(k=Se),f.baseState=k,f.firstBaseUpdate=Y,f.lastBaseUpdate=ae,r=f.shared.interleaved,r!==null){f=r;do S|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);ui|=S,n.lanes=S,n.memoizedState=Se}}function dc(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var l=n[r],f=l.callback;if(f!==null){if(l.callback=null,l=o,typeof f!="function")throw Error(c(191,f));f.call(l)}}}var hc=new s.Component().refs;function ka(n,r,o,l){r=n.memoizedState,o=o(l,r),o=o==null?r:u({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var to={isMounted:function(n){return(n=n._reactInternals)?J(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var l=kt(),f=ir(n),m=zn(l,f);m.payload=r,o!=null&&(m.callback=o),tr(n,m),r=rn(n,f,l),r!==null&&$s(r,n,f)},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var l=kt(),f=ir(n),m=zn(l,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),tr(n,m),r=rn(n,f,l),r!==null&&$s(r,n,f)},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=kt(),l=ir(n),f=zn(o,l);f.tag=2,r!=null&&(f.callback=r),tr(n,f),r=rn(n,l,o),r!==null&&$s(r,n,l)}};function pc(n,r,o,l,f,m,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,S):r.prototype&&r.prototype.isPureReactComponent?!Ys(o,l)||!Ys(f,m):!0}function mc(n,r,o){var l=!1,f=Le,m=r.contextType;return typeof m=="object"&&m!==null?m=qt(m):(f=pt(r)?nt:$e.current,l=r.contextTypes,m=(l=l!=null)?Dt(n,f):Le),r=new r(o,m),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=to,n.stateNode=r,r._reactInternals=n,l&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),r}function vc(n,r,o,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==n&&to.enqueueReplaceState(r,r.state,null)}function za(n,r,o,l){var f=n.stateNode;f.props=o,f.state=n.memoizedState,f.refs=hc,Na(n);var m=r.contextType;typeof m=="object"&&m!==null?f.context=qt(m):(m=pt(r)?nt:$e.current,f.context=Dt(n,m)),f.state=n.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(ka(n,r,m,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&to.enqueueReplaceState(f,f.state,null),eo(n,o,f,l),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}var ti=[],ni=0,no=null,ro=0,$t=[],en=0,Ir=null,Jn=1,Kn="";function Rr(n,r){ti[ni++]=ro,ti[ni++]=no,no=n,ro=r}function gc(n,r,o){$t[en++]=Jn,$t[en++]=Kn,$t[en++]=Ir,Ir=n;var l=Jn;n=Kn;var f=32-ot(l)-1;l&=~(1<<f),o+=1;var m=32-ot(r)+f;if(30<m){var S=f-f%5;m=(l&(1<<S)-1).toString(32),l>>=S,f-=S,Jn=1<<32-ot(r)+f|o<<f|l,Kn=m+n}else Jn=1<<m|o<<f|l,Kn=n}function Ja(n){n.return!==null&&(Rr(n,1),gc(n,1,0))}function Ka(n){for(;n===no;)no=ti[--ni],ti[ni]=null,ro=ti[--ni],ti[ni]=null;for(;n===Ir;)Ir=$t[--en],$t[en]=null,Kn=$t[--en],$t[en]=null,Jn=$t[--en],$t[en]=null}var Vt=null,Xt=null,at=!1,Ni=!1,An=null;function Ac(n,r){var o=sn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function Bc(n,r){switch(n.tag){case 5:return r=wa(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,Vt=n,Xt=Ge(r),!0):!1;case 6:return r=xa(r,n.pendingProps),r!==null?(n.stateNode=r,Vt=n,Xt=null,!0):!1;case 13:if(r=Ma(r),r!==null){var o=Ir!==null?{id:Jn,overflow:Kn}:null;return n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=sn(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,Vt=n,Xt=null,!0}return!1;default:return!1}}function ja(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Qa(n){if(at){var r=Xt;if(r){var o=r;if(!Bc(n,r)){if(ja(n))throw Error(c(418));r=vn(o);var l=Vt;r&&Bc(n,r)?Ac(l,o):(n.flags=n.flags&-4097|2,at=!1,Vt=n)}}else{if(ja(n))throw Error(c(418));n.flags=n.flags&-4097|2,at=!1,Vt=n}}}function yc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Vt=n}function ki(n){if(!tt||n!==Vt)return!1;if(!at)return yc(n),at=!0,!1;if(n.tag!==3&&(n.tag!==5||ee(n.type)&&!Oe(n.type,n.memoizedProps))){var r=Xt;if(r){if(ja(n)){for(n=Xt;n;)n=vn(n);throw Error(c(418))}for(;r;)Ac(n,r),r=vn(r)}}if(yc(n),n.tag===13){if(!tt)throw Error(c(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));Xt=O(n)}else Xt=Vt?vn(n.stateNode):null;return!0}function ri(){tt&&(Xt=Vt=null,Ni=at=!1)}function Va(n){An===null?An=[n]:An.push(n)}function zi(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(c(309));var l=o.stateNode}if(!l)throw Error(c(147,n));var f=l,m=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(S){var R=f.refs;R===hc&&(R=f.refs={}),S===null?delete R[m]:R[m]=S},r._stringRef=m,r)}if(typeof n!="string")throw Error(c(284));if(!o._owner)throw Error(c(290,n))}return n}function io(n,r){throw n=Object.prototype.toString.call(r),Error(c(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Cc(n){var r=n._init;return r(n._payload)}function Ec(n){function r(U,D){if(n){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function o(U,D){if(!n)return null;for(;D!==null;)r(U,D),D=D.sibling;return null}function l(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function f(U,D){return U=or(U,D),U.index=0,U.sibling=null,U}function m(U,D,L){return U.index=L,n?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=2,D):L):(U.flags|=2,D)):(U.flags|=1048576,D)}function S(U){return n&&U.alternate===null&&(U.flags|=2),U}function R(U,D,L,ie){return D===null||D.tag!==6?(D=Rl(L,U.mode,ie),D.return=U,D):(D=f(D,L),D.return=U,D)}function k(U,D,L,ie){var fe=L.type;return fe===h?ae(U,D,L.props.children,ie,L.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Cc(fe)===D.type)?(ie=f(D,L.props),ie.ref=zi(U,D,L),ie.return=U,ie):(ie=Oo(L.type,L.key,L.props,null,U.mode,ie),ie.ref=zi(U,D,L),ie.return=U,ie)}function Y(U,D,L,ie){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Dl(L,U.mode,ie),D.return=U,D):(D=f(D,L.children||[]),D.return=U,D)}function ae(U,D,L,ie,fe){return D===null||D.tag!==7?(D=Hr(L,U.mode,ie,fe),D.return=U,D):(D=f(D,L),D.return=U,D)}function Se(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Rl(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case d:return L=Oo(D.type,D.key,D.props,null,U.mode,L),L.ref=zi(U,null,D),L.return=U,L;case v:return D=Dl(D,U.mode,L),D.return=U,D;case w:var ie=D._init;return Se(U,ie(D._payload),L)}if(me(D)||H(D))return D=Hr(D,U.mode,L,null),D.return=U,D;io(U,D)}return null}function ve(U,D,L,ie){var fe=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return fe!==null?null:R(U,D,""+L,ie);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===fe?k(U,D,L,ie):null;case v:return L.key===fe?Y(U,D,L,ie):null;case w:return fe=L._init,ve(U,D,fe(L._payload),ie)}if(me(L)||H(L))return fe!==null?null:ae(U,D,L,ie,null);io(U,L)}return null}function et(U,D,L,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return U=U.get(L)||null,R(D,U,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case d:return U=U.get(ie.key===null?L:ie.key)||null,k(D,U,ie,fe);case v:return U=U.get(ie.key===null?L:ie.key)||null,Y(D,U,ie,fe);case w:var De=ie._init;return et(U,D,L,De(ie._payload),fe)}if(me(ie)||H(ie))return U=U.get(L)||null,ae(D,U,ie,fe,null);io(D,ie)}return null}function he(U,D,L,ie){for(var fe=null,De=null,_e=D,Ke=D=0,wt=null;_e!==null&&Ke<L.length;Ke++){_e.index>Ke?(wt=_e,_e=null):wt=_e.sibling;var je=ve(U,_e,L[Ke],ie);if(je===null){_e===null&&(_e=wt);break}n&&_e&&je.alternate===null&&r(U,_e),D=m(je,D,Ke),De===null?fe=je:De.sibling=je,De=je,_e=wt}if(Ke===L.length)return o(U,_e),at&&Rr(U,Ke),fe;if(_e===null){for(;Ke<L.length;Ke++)_e=Se(U,L[Ke],ie),_e!==null&&(D=m(_e,D,Ke),De===null?fe=_e:De.sibling=_e,De=_e);return at&&Rr(U,Ke),fe}for(_e=l(U,_e);Ke<L.length;Ke++)wt=et(_e,U,Ke,L[Ke],ie),wt!==null&&(n&&wt.alternate!==null&&_e.delete(wt.key===null?Ke:wt.key),D=m(wt,D,Ke),De===null?fe=wt:De.sibling=wt,De=wt);return n&&_e.forEach(function(ar){return r(U,ar)}),at&&Rr(U,Ke),fe}function Ut(U,D,L,ie){var fe=H(L);if(typeof fe!="function")throw Error(c(150));if(L=fe.call(L),L==null)throw Error(c(151));for(var De=fe=null,_e=D,Ke=D=0,wt=null,je=L.next();_e!==null&&!je.done;Ke++,je=L.next()){_e.index>Ke?(wt=_e,_e=null):wt=_e.sibling;var ar=ve(U,_e,je.value,ie);if(ar===null){_e===null&&(_e=wt);break}n&&_e&&ar.alternate===null&&r(U,_e),D=m(ar,D,Ke),De===null?fe=ar:De.sibling=ar,De=ar,_e=wt}if(je.done)return o(U,_e),at&&Rr(U,Ke),fe;if(_e===null){for(;!je.done;Ke++,je=L.next())je=Se(U,je.value,ie),je!==null&&(D=m(je,D,Ke),De===null?fe=je:De.sibling=je,De=je);return at&&Rr(U,Ke),fe}for(_e=l(U,_e);!je.done;Ke++,je=L.next())je=et(_e,U,Ke,je.value,ie),je!==null&&(n&&je.alternate!==null&&_e.delete(je.key===null?Ke:je.key),D=m(je,D,Ke),De===null?fe=je:De.sibling=je,De=je);return n&&_e.forEach(function(xm){return r(U,xm)}),at&&Rr(U,Ke),fe}function on(U,D,L,ie){if(typeof L=="object"&&L!==null&&L.type===h&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:e:{for(var fe=L.key,De=D;De!==null;){if(De.key===fe){if(fe=L.type,fe===h){if(De.tag===7){o(U,De.sibling),D=f(De,L.props.children),D.return=U,U=D;break e}}else if(De.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Cc(fe)===De.type){o(U,De.sibling),D=f(De,L.props),D.ref=zi(U,De,L),D.return=U,U=D;break e}o(U,De);break}else r(U,De);De=De.sibling}L.type===h?(D=Hr(L.props.children,U.mode,ie,L.key),D.return=U,U=D):(ie=Oo(L.type,L.key,L.props,null,U.mode,ie),ie.ref=zi(U,D,L),ie.return=U,U=ie)}return S(U);case v:e:{for(De=L.key;D!==null;){if(D.key===De)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){o(U,D.sibling),D=f(D,L.children||[]),D.return=U,U=D;break e}else{o(U,D);break}else r(U,D);D=D.sibling}D=Dl(L,U.mode,ie),D.return=U,U=D}return S(U);case w:return De=L._init,on(U,D,De(L._payload),ie)}if(me(L))return he(U,D,L,ie);if(H(L))return Ut(U,D,L,ie);io(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,D!==null&&D.tag===6?(o(U,D.sibling),D=f(D,L),D.return=U,U=D):(o(U,D),D=Rl(L,U.mode,ie),D.return=U,U=D),S(U)):o(U,D)}return on}var ii=Ec(!0),Sc=Ec(!1),Ji={},tn=He(Ji),Ki=He(Ji),si=He(Ji);function Dn(n){if(n===Ji)throw Error(c(174));return n}function Xa(n,r){xe(si,r),xe(Ki,n),xe(tn,Ji),n=Te(r),Ae(tn),xe(tn,n)}function oi(){Ae(tn),Ae(Ki),Ae(si)}function _c(n){var r=Dn(si.current),o=Dn(tn.current);r=Q(o,n.type,r),o!==r&&(xe(Ki,n),xe(tn,r))}function Wa(n){Ki.current===n&&(Ae(tn),Ae(Ki))}var lt=He(0);function so(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Mr(o)||Hi(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ya=[];function Za(){for(var n=0;n<Ya.length;n++){var r=Ya[n];ht?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}Ya.length=0}var oo=p.ReactCurrentDispatcher,nn=p.ReactCurrentBatchConfig,ai=0,ft=null,Ft=null,_t=null,ao=!1,ji=!1,Qi=0,Zp=0;function Pt(){throw Error(c(321))}function qa(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Tn(n[o],r[o]))return!1;return!0}function $a(n,r,o,l,f,m){if(ai=m,ft=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,oo.current=n===null||n.memoizedState===null?tm:nm,n=o(l,f),ji){m=0;do{if(ji=!1,Qi=0,25<=m)throw Error(c(301));m+=1,_t=Ft=null,r.updateQueue=null,oo.current=rm,n=o(l,f)}while(ji)}if(oo.current=ho,r=Ft!==null&&Ft.next!==null,ai=0,_t=Ft=ft=null,ao=!1,r)throw Error(c(300));return n}function el(){var n=Qi!==0;return Qi=0,n}function jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ft.memoizedState=_t=n:_t=_t.next=n,_t}function Fn(){if(Ft===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var r=_t===null?ft.memoizedState:_t.next;if(r!==null)_t=r,Ft=n;else{if(n===null)throw Error(c(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},_t===null?ft.memoizedState=_t=n:_t=_t.next=n}return _t}function Dr(n,r){return typeof r=="function"?r(n):r}function lo(n){var r=Fn(),o=r.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=n;var l=Ft,f=l.baseQueue,m=o.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}l.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,l=l.baseState;var R=S=null,k=null,Y=m;do{var ae=Y.lane;if((ai&ae)===ae)k!==null&&(k=k.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),l=Y.hasEagerState?Y.eagerState:n(l,Y.action);else{var Se={lane:ae,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};k===null?(R=k=Se,S=l):k=k.next=Se,ft.lanes|=ae,ui|=ae}Y=Y.next}while(Y!==null&&Y!==m);k===null?S=l:k.next=R,Tn(l,r.memoizedState)||(Wt=!0),r.memoizedState=l,r.baseState=S,r.baseQueue=k,o.lastRenderedState=l}if(n=o.interleaved,n!==null){f=n;do m=f.lane,ft.lanes|=m,ui|=m,f=f.next;while(f!==n)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function uo(n){var r=Fn(),o=r.queue;if(o===null)throw Error(c(311));o.lastRenderedReducer=n;var l=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var S=f=f.next;do m=n(m,S.action),S=S.next;while(S!==f);Tn(m,r.memoizedState)||(Wt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,l]}function wc(){}function xc(n,r){var o=ft,l=Fn(),f=r(),m=!Tn(l.memoizedState,f);if(m&&(l.memoizedState=f,Wt=!0),l=l.queue,Xi(Ic.bind(null,o,l,n),[n]),l.getSnapshot!==r||m||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Vi(9,Tc.bind(null,o,l,f,r),void 0,null),mt===null)throw Error(c(349));ai&30||Mc(o,r,f)}return f}function Mc(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=ft.updateQueue,r===null?(r={lastEffect:null,stores:null},ft.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Tc(n,r,o,l){r.value=o,r.getSnapshot=l,Rc(r)&&rn(n,1,-1)}function Ic(n,r,o){return o(function(){Rc(r)&&rn(n,1,-1)})}function Rc(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Tn(n,o)}catch{return!0}}function tl(n){var r=jn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:n},r.queue=n,n=n.dispatch=em.bind(null,ft,n),[r.memoizedState,n]}function Vi(n,r,o,l){return n={tag:n,create:r,destroy:o,deps:l,next:null},r=ft.updateQueue,r===null?(r={lastEffect:null,stores:null},ft.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(l=o.next,o.next=n,n.next=l,r.lastEffect=n)),n}function Dc(){return Fn().memoizedState}function co(n,r,o,l){var f=jn();ft.flags|=n,f.memoizedState=Vi(1|r,o,void 0,l===void 0?null:l)}function fo(n,r,o,l){var f=Fn();l=l===void 0?null:l;var m=void 0;if(Ft!==null){var S=Ft.memoizedState;if(m=S.destroy,l!==null&&qa(l,S.deps)){f.memoizedState=Vi(r,o,m,l);return}}ft.flags|=n,f.memoizedState=Vi(1|r,o,m,l)}function nl(n,r){return co(8390656,8,n,r)}function Xi(n,r){return fo(2048,8,n,r)}function Fc(n,r){return fo(4,2,n,r)}function Pc(n,r){return fo(4,4,n,r)}function Gc(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Uc(n,r,o){return o=o!=null?o.concat([n]):null,fo(4,4,Gc.bind(null,r,n),o)}function rl(){}function Oc(n,r){var o=Fn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&qa(r,l[1])?l[0]:(o.memoizedState=[n,r],n)}function Hc(n,r){var o=Fn();r=r===void 0?null:r;var l=o.memoizedState;return l!==null&&r!==null&&qa(r,l[1])?l[0]:(n=n(),o.memoizedState=[n,r],n)}function qp(n,r){var o=Je;Je=o!==0&&4>o?o:4,n(!0);var l=nn.transition;nn.transition={};try{n(!1),r()}finally{Je=o,nn.transition=l}}function Lc(){return Fn().memoizedState}function $p(n,r,o){var l=ir(n);o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},bc(n)?Nc(r,o):(kc(n,r,o),o=kt(),n=rn(n,l,o),n!==null&&zc(n,r,l))}function em(n,r,o){var l=ir(n),f={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(bc(n))Nc(r,f);else{kc(n,r,f);var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var S=r.lastRenderedState,R=m(S,o);if(f.hasEagerState=!0,f.eagerState=R,Tn(R,S))return}catch{}finally{}o=kt(),n=rn(n,l,o),n!==null&&zc(n,r,l)}}function bc(n){var r=n.alternate;return n===ft||r!==null&&r===ft}function Nc(n,r){ji=ao=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function kc(n,r,o){mt!==null&&n.mode&1&&!(Fe&2)?(n=r.interleaved,n===null?(o.next=o,Rn===null?Rn=[r]:Rn.push(r)):(o.next=n.next,n.next=o),r.interleaved=o):(n=r.pending,n===null?o.next=o:(o.next=n.next,n.next=o),r.pending=o)}function zc(n,r,o){if(o&4194240){var l=r.lanes;l&=n.pendingLanes,o|=l,r.lanes=o,Da(n,o)}}var ho={readContext:qt,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},tm={readContext:qt,useCallback:function(n,r){return jn().memoizedState=[n,r===void 0?null:r],n},useContext:qt,useEffect:nl,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,co(4194308,4,Gc.bind(null,r,n),o)},useLayoutEffect:function(n,r){return co(4194308,4,n,r)},useInsertionEffect:function(n,r){return co(4,2,n,r)},useMemo:function(n,r){var o=jn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var l=jn();return r=o!==void 0?o(r):r,l.memoizedState=l.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},l.queue=n,n=n.dispatch=$p.bind(null,ft,n),[l.memoizedState,n]},useRef:function(n){var r=jn();return n={current:n},r.memoizedState=n},useState:tl,useDebugValue:rl,useDeferredValue:function(n){var r=tl(n),o=r[0],l=r[1];return nl(function(){var f=nn.transition;nn.transition={};try{l(n)}finally{nn.transition=f}},[n]),o},useTransition:function(){var n=tl(!1),r=n[0];return n=qp.bind(null,n[1]),jn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var l=ft,f=jn();if(at){if(o===void 0)throw Error(c(407));o=o()}else{if(o=r(),mt===null)throw Error(c(349));ai&30||Mc(l,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,nl(Ic.bind(null,l,m,n),[n]),l.flags|=2048,Vi(9,Tc.bind(null,l,m,o,r),void 0,null),o},useId:function(){var n=jn(),r=mt.identifierPrefix;if(at){var o=Kn,l=Jn;o=(l&~(1<<32-ot(l)-1)).toString(32)+o,r=":"+r+"R"+o,o=Qi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Zp++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},nm={readContext:qt,useCallback:Oc,useContext:qt,useEffect:Xi,useImperativeHandle:Uc,useInsertionEffect:Fc,useLayoutEffect:Pc,useMemo:Hc,useReducer:lo,useRef:Dc,useState:function(){return lo(Dr)},useDebugValue:rl,useDeferredValue:function(n){var r=lo(Dr),o=r[0],l=r[1];return Xi(function(){var f=nn.transition;nn.transition={};try{l(n)}finally{nn.transition=f}},[n]),o},useTransition:function(){var n=lo(Dr)[0],r=Fn().memoizedState;return[n,r]},useMutableSource:wc,useSyncExternalStore:xc,useId:Lc,unstable_isNewReconciler:!1},rm={readContext:qt,useCallback:Oc,useContext:qt,useEffect:Xi,useImperativeHandle:Uc,useInsertionEffect:Fc,useLayoutEffect:Pc,useMemo:Hc,useReducer:uo,useRef:Dc,useState:function(){return uo(Dr)},useDebugValue:rl,useDeferredValue:function(n){var r=uo(Dr),o=r[0],l=r[1];return Xi(function(){var f=nn.transition;nn.transition={};try{l(n)}finally{nn.transition=f}},[n]),o},useTransition:function(){var n=uo(Dr)[0],r=Fn().memoizedState;return[n,r]},useMutableSource:wc,useSyncExternalStore:xc,useId:Lc,unstable_isNewReconciler:!1};function il(n,r){try{var o="",l=r;do o+=Yp(l),l=l.return;while(l);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:r,stack:f}}function sl(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var im=typeof WeakMap=="function"?WeakMap:Map;function Jc(n,r,o){o=zn(-1,o),o.tag=3,o.payload={element:null};var l=r.value;return o.callback=function(){Io||(Io=!0,Sl=l),sl(n,r)},o}function Kc(n,r,o){o=zn(-1,o),o.tag=3;var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var f=r.value;o.payload=function(){return l(f)},o.callback=function(){sl(n,r)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){sl(n,r),typeof l!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})}),o}function jc(n,r,o){var l=n.pingCache;if(l===null){l=n.pingCache=new im;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(f.add(o),n=Am.bind(null,n,r,o),r.then(n,n))}function Qc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Vc(n,r,o,l,f){return n.mode&1?(n.flags|=65536,n.lanes=f,n):(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=zn(-1,1),r.tag=2,tr(o,r))),o.lanes|=1),n)}function Pn(n){n.flags|=4}function Xc(n,r){if(n!==null&&n.child===r.child)return!0;if(r.flags&16)return!1;for(n=r.child;n!==null;){if(n.flags&12854||n.subtreeFlags&12854)return!1;n=n.sibling}return!0}var Wi,Yi,po,mo;if(Ie)Wi=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)le(n,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Yi=function(){},po=function(n,r,o,l,f){if(n=n.memoizedProps,n!==l){var m=r.stateNode,S=Dn(tn.current);o=Ve(m,o,n,l,f,S),(r.updateQueue=o)&&Pn(r)}},mo=function(n,r,o,l){o!==l&&Pn(r)};else if(Jt){Wi=function(n,r,o,l){for(var f=r.child;f!==null;){if(f.tag===5){var m=f.stateNode;o&&l&&(m=zs(m,f.type,f.memoizedProps,f)),le(n,m)}else if(f.tag===6)m=f.stateNode,o&&l&&(m=Js(m,f.memoizedProps,f)),le(n,m);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)m=f.child,m!==null&&(m.return=f),Wi(n,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===r)break;for(;f.sibling===null;){if(f.return===null||f.return===r)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};var Wc=function(n,r,o,l){for(var f=r.child;f!==null;){if(f.tag===5){var m=f.stateNode;o&&l&&(m=zs(m,f.type,f.memoizedProps,f)),Ns(n,m)}else if(f.tag===6)m=f.stateNode,o&&l&&(m=Js(m,f.memoizedProps,f)),Ns(n,m);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)m=f.child,m!==null&&(m.return=f),Wc(n,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===r)break;for(;f.sibling===null;){if(f.return===null||f.return===r)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};Yi=function(n,r){var o=r.stateNode;if(!Xc(n,r)){n=o.containerInfo;var l=bs(n);Wc(l,r,!1,!1),o.pendingChildren=l,Pn(r),_a(n,l)}},po=function(n,r,o,l,f){var m=n.stateNode,S=n.memoizedProps;if((n=Xc(n,r))&&S===l)r.stateNode=m;else{var R=r.stateNode,k=Dn(tn.current),Y=null;S!==l&&(Y=Ve(R,o,S,l,f,k)),n&&Y===null?r.stateNode=m:(m=Sa(m,Y,o,S,l,r,n,R),Be(m,o,l,f,k)&&Pn(r),r.stateNode=m,n?Pn(r):Wi(m,r,!1,!1))}},mo=function(n,r,o,l){o!==l?(n=Dn(si.current),o=Dn(tn.current),r.stateNode=Ee(l,n,o,r),Pn(r)):r.stateNode=n.stateNode}}else Yi=function(){},po=function(){},mo=function(){};function Zi(n,r){if(!at)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Gt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,l=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=o,r}function sm(n,r,o){var l=r.pendingProps;switch(Ka(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(r),null;case 1:return pt(r.type)&&Tt(),Gt(r),null;case 3:return l=r.stateNode,oi(),Ae(Re),Ae($e),Za(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ki(r)?Pn(r):n===null||n.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(xl(An),An=null))),Yi(n,r),Gt(r),null;case 5:Wa(r),o=Dn(si.current);var f=r.type;if(n!==null&&r.stateNode!=null)po(n,r,f,l,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(c(166));return Gt(r),null}if(n=Dn(tn.current),ki(r)){if(!tt)throw Error(c(175));n=A(r.stateNode,r.type,r.memoizedProps,o,n,r,!Ni),r.updateQueue=n,n!==null&&Pn(r)}else{var m=ge(f,l,o,n,r);Wi(m,r,!1,!1),r.stateNode=m,Be(m,f,l,o,n)&&Pn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Gt(r),null;case 6:if(n&&r.stateNode!=null)mo(n,r,n.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(c(166));if(n=Dn(si.current),o=Dn(tn.current),ki(r)){if(!tt)throw Error(c(176));if(n=r.stateNode,l=r.memoizedProps,(o=y(n,l,r,!Ni))&&(f=Vt,f!==null))switch(m=(f.mode&1)!==0,f.tag){case 3:$(f.stateNode.containerInfo,n,l,m);break;case 5:te(f.type,f.memoizedProps,f.stateNode,n,l,m)}o&&Pn(r)}else r.stateNode=Ee(l,n,o,r)}return Gt(r),null;case 13:if(Ae(lt),l=r.memoizedState,at&&Xt!==null&&r.mode&1&&!(r.flags&128)){for(n=Xt;n;)n=vn(n);return ri(),r.flags|=98560,r}if(l!==null&&l.dehydrated!==null){if(l=ki(r),n===null){if(!l)throw Error(c(318));if(!tt)throw Error(c(344));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));I(n,r)}else ri(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;return Gt(r),null}return An!==null&&(xl(An),An=null),r.flags&128?(r.lanes=o,r):(l=l!==null,o=!1,n===null?ki(r):o=n.memoizedState!==null,l&&!o&&(r.child.flags|=8192,r.mode&1&&(n===null||lt.current&1?Bt===0&&(Bt=3):Tl())),r.updateQueue!==null&&(r.flags|=4),Gt(r),null);case 4:return oi(),Yi(n,r),n===null&&Ln(r.stateNode.containerInfo),Gt(r),null;case 10:return La(r.type._context),Gt(r),null;case 17:return pt(r.type)&&Tt(),Gt(r),null;case 19:if(Ae(lt),f=r.memoizedState,f===null)return Gt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Zi(f,!1);else{if(Bt!==0||n!==null&&n.flags&128)for(n=r.child;n!==null;){if(m=so(n),m!==null){for(r.flags|=128,Zi(f,!1),n=m.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=o,l=r.child;l!==null;)o=l,f=n,o.flags&=14680066,m=o.alternate,m===null?(o.childLanes=0,o.lanes=f,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,f=m.dependencies,o.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l=l.sibling;return xe(lt,lt.current&1|2),r.child}n=n.sibling}f.tail!==null&&St()>El&&(r.flags|=128,l=!0,Zi(f,!1),r.lanes=4194304)}else{if(!l)if(n=so(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Zi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!at)return Gt(r),null}else 2*St()-f.renderingStartTime>El&&o!==1073741824&&(r.flags|=128,l=!0,Zi(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=St(),r.sibling=null,n=lt.current,xe(lt,l?n&1|2:n&1),r):(Gt(r),null);case 22:case 23:return Ml(),l=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?Yt&1073741824&&(Gt(r),Ie&&r.subtreeFlags&6&&(r.flags|=8192)):Gt(r),null;case 24:return null;case 25:return null}throw Error(c(156,r.tag))}var om=p.ReactCurrentOwner,Wt=!1;function Nt(n,r,o,l){r.child=n===null?Sc(r,null,o,l):ii(r,n.child,o,l)}function Yc(n,r,o,l,f){o=o.render;var m=r.ref;return ei(r,f),l=$a(n,r,o,l,m,f),o=el(),n!==null&&!Wt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Qn(n,r,f)):(at&&o&&Ja(r),r.flags|=1,Nt(n,r,l,f),r.child)}function Zc(n,r,o,l,f){if(n===null){var m=o.type;return typeof m=="function"&&!Il(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,qc(n,r,m,l,f)):(n=Oo(o.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!(n.lanes&f)){var S=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ys,o(S,l)&&n.ref===r.ref)return Qn(n,r,f)}return r.flags|=1,n=or(m,l),n.ref=r.ref,n.return=r,r.child=n}function qc(n,r,o,l,f){if(n!==null&&Ys(n.memoizedProps,l)&&n.ref===r.ref)if(Wt=!1,(n.lanes&f)!==0)n.flags&131072&&(Wt=!0);else return r.lanes=n.lanes,Qn(n,r,f);return ol(n,r,o,l,f)}function $c(n,r,o){var l=r.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null},xe(li,Yt),Yt|=o;else if(o&1073741824)r.memoizedState={baseLanes:0,cachePool:null},l=m!==null?m.baseLanes:o,xe(li,Yt),Yt|=l;else return n=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null},r.updateQueue=null,xe(li,Yt),Yt|=n,null;else m!==null?(l=m.baseLanes|o,r.memoizedState=null):l=o,xe(li,Yt),Yt|=l;return Nt(n,r,f,o),r.child}function ef(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ol(n,r,o,l,f){var m=pt(o)?nt:$e.current;return m=Dt(r,m),ei(r,f),o=$a(n,r,o,l,m,f),l=el(),n!==null&&!Wt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~f,Qn(n,r,f)):(at&&l&&Ja(r),r.flags|=1,Nt(n,r,o,f),r.child)}function tf(n,r,o,l,f){if(pt(o)){var m=!0;qe(r)}else m=!1;if(ei(r,f),r.stateNode===null)n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),mc(r,o,l),za(r,o,l,f),l=!0;else if(n===null){var S=r.stateNode,R=r.memoizedProps;S.props=R;var k=S.context,Y=o.contextType;typeof Y=="object"&&Y!==null?Y=qt(Y):(Y=pt(o)?nt:$e.current,Y=Dt(r,Y));var ae=o.getDerivedStateFromProps,Se=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function";Se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==l||k!==Y)&&vc(r,S,l,Y),er=!1;var ve=r.memoizedState;S.state=ve,eo(r,l,S,f),k=r.memoizedState,R!==l||ve!==k||Re.current||er?(typeof ae=="function"&&(ka(r,o,ae,l),k=r.memoizedState),(R=er||pc(r,o,R,l,ve,k,Y))?(Se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(r.flags|=4194308)):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=k),S.props=l,S.state=k,S.context=Y,l=R):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{S=r.stateNode,cc(n,r),R=r.memoizedProps,Y=r.type===r.elementType?R:gn(r.type,R),S.props=Y,Se=r.pendingProps,ve=S.context,k=o.contextType,typeof k=="object"&&k!==null?k=qt(k):(k=pt(o)?nt:$e.current,k=Dt(r,k));var et=o.getDerivedStateFromProps;(ae=typeof et=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==Se||ve!==k)&&vc(r,S,l,k),er=!1,ve=r.memoizedState,S.state=ve,eo(r,l,S,f);var he=r.memoizedState;R!==Se||ve!==he||Re.current||er?(typeof et=="function"&&(ka(r,o,et,l),he=r.memoizedState),(Y=er||pc(r,o,Y,l,ve,he,k)||!1)?(ae||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(l,he,k),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(l,he,k)),typeof S.componentDidUpdate=="function"&&(r.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&ve===n.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ve===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=he),S.props=l,S.state=he,S.context=k,l=Y):(typeof S.componentDidUpdate!="function"||R===n.memoizedProps&&ve===n.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&ve===n.memoizedState||(r.flags|=1024),l=!1)}return al(n,r,o,l,m,f)}function al(n,r,o,l,f,m){ef(n,r);var S=(r.flags&128)!==0;if(!l&&!S)return f&&ze(r,o,!1),Qn(n,r,m);l=r.stateNode,om.current=r;var R=S&&typeof o.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,n!==null&&S?(r.child=ii(r,n.child,null,m),r.child=ii(r,null,R,m)):Nt(n,r,R,m),r.memoizedState=l.state,f&&ze(r,o,!0),r.child}function nf(n){var r=n.stateNode;r.pendingContext?Xe(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Xe(n,r.context,!1),Xa(n,r.containerInfo)}function rf(n,r,o,l,f){return ri(),Va(f),r.flags|=256,Nt(n,r,o,l),r.child}var vo={dehydrated:null,treeContext:null,retryLane:0};function go(n){return{baseLanes:n,cachePool:null}}function sf(n,r,o){var l=r.pendingProps,f=lt.current,m=!1,S=(r.flags&128)!==0,R;if((R=S)||(R=n!==null&&n.memoizedState===null?!1:(f&2)!==0),R?(m=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),xe(lt,f&1),n===null)return Qa(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(r.mode&1?Hi(n)?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(f=l.children,n=l.fallback,m?(l=r.mode,m=r.child,f={mode:"hidden",children:f},!(l&1)&&m!==null?(m.childLanes=0,m.pendingProps=f):m=Ho(f,l,0,null),n=Hr(n,l,o,null),m.return=r,n.return=r,m.sibling=n,r.child=m,r.child.memoizedState=go(o),r.memoizedState=vo,n):ll(r,f));if(f=n.memoizedState,f!==null){if(R=f.dehydrated,R!==null){if(S)return r.flags&256?(r.flags&=-257,Ao(n,r,o,Error(c(422)))):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(m=l.fallback,f=r.mode,l=Ho({mode:"visible",children:l.children},f,0,null),m=Hr(m,f,o,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,r.mode&1&&ii(r,n.child,null,o),r.child.memoizedState=go(o),r.memoizedState=vo,m);if(!(r.mode&1))r=Ao(n,r,o,null);else if(Hi(R))r=Ao(n,r,o,Error(c(419)));else if(l=(o&n.childLanes)!==0,Wt||l){if(l=mt,l!==null){switch(o&-o){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}l=m&(l.suspendedLanes|o)?0:m,l!==0&&l!==f.retryLane&&(f.retryLane=l,rn(n,l,-1))}Tl(),r=Ao(n,r,o,Error(c(421)))}else Mr(R)?(r.flags|=128,r.child=n.child,r=Bm.bind(null,n),Tr(R,r),r=null):(o=f.treeContext,tt&&(Xt=Ta(R),Vt=r,at=!0,An=null,Ni=!1,o!==null&&($t[en++]=Jn,$t[en++]=Kn,$t[en++]=Ir,Jn=o.id,Kn=o.overflow,Ir=r)),r=ll(r,r.pendingProps.children),r.flags|=4096);return r}return m?(l=af(n,r,l.children,l.fallback,o),m=r.child,f=n.child.memoizedState,m.memoizedState=f===null?go(o):{baseLanes:f.baseLanes|o,cachePool:null},m.childLanes=n.childLanes&~o,r.memoizedState=vo,l):(o=of(n,r,l.children,o),r.memoizedState=null,o)}return m?(l=af(n,r,l.children,l.fallback,o),m=r.child,f=n.child.memoizedState,m.memoizedState=f===null?go(o):{baseLanes:f.baseLanes|o,cachePool:null},m.childLanes=n.childLanes&~o,r.memoizedState=vo,l):(o=of(n,r,l.children,o),r.memoizedState=null,o)}function ll(n,r){return r=Ho({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function of(n,r,o,l){var f=n.child;return n=f.sibling,o=or(f,{mode:"visible",children:o}),!(r.mode&1)&&(o.lanes=l),o.return=r,o.sibling=null,n!==null&&(l=r.deletions,l===null?(r.deletions=[n],r.flags|=16):l.push(n)),r.child=o}function af(n,r,o,l,f){var m=r.mode;n=n.child;var S=n.sibling,R={mode:"hidden",children:o};return!(m&1)&&r.child!==n?(o=r.child,o.childLanes=0,o.pendingProps=R,r.deletions=null):(o=or(n,R),o.subtreeFlags=n.subtreeFlags&14680064),S!==null?l=or(S,l):(l=Hr(l,m,f,null),l.flags|=2),l.return=r,o.return=r,o.sibling=l,r.child=o,l}function Ao(n,r,o,l){return l!==null&&Va(l),ii(r,n.child,null,o),n=ll(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function lf(n,r,o){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),ba(n.return,r,o)}function ul(n,r,o,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function uf(n,r,o){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Nt(n,r,l.children,o),l=lt.current,l&2)l=l&1|2,r.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lf(n,o,r);else if(n.tag===19)lf(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}if(xe(lt,l),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&so(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),ul(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&so(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}ul(r,!0,o,null,m);break;case"together":ul(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qn(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),ui|=r.lanes,!(o&r.childLanes))return null;if(n!==null&&r.child!==n.child)throw Error(c(153));if(r.child!==null){for(n=r.child,o=or(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=or(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function am(n,r,o){switch(r.tag){case 3:nf(r),ri();break;case 5:_c(r);break;case 1:pt(r.type)&&qe(r);break;case 4:Xa(r,r.stateNode.containerInfo);break;case 10:uc(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xe(lt,lt.current&1),r.flags|=128,null):o&r.child.childLanes?sf(n,r,o):(xe(lt,lt.current&1),n=Qn(n,r,o),n!==null?n.sibling:null);xe(lt,lt.current&1);break;case 19:if(l=(o&r.childLanes)!==0,n.flags&128){if(l)return uf(n,r,o);r.flags|=128}var f=r.memoizedState;if(f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),xe(lt,lt.current),l)break;return null;case 22:case 23:return r.lanes=0,$c(n,r,o)}return Qn(n,r,o)}function lm(n,r){switch(Ka(r),r.tag){case 1:return pt(r.type)&&Tt(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return oi(),Ae(Re),Ae($e),Za(),n=r.flags,n&65536&&!(n&128)?(r.flags=n&-65537|128,r):null;case 5:return Wa(r),null;case 13:if(Ae(lt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(c(340));ri()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ae(lt),null;case 4:return oi(),null;case 10:return La(r.type._context),null;case 22:case 23:return Ml(),null;case 24:return null;default:return null}}var Bo=!1,Fr=!1,um=typeof WeakSet=="function"?WeakSet:Set,re=null;function yo(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Qt(n,r,l)}else o.current=null}function cl(n,r,o){try{o()}catch(l){Qt(n,r,l)}}var cf=!1;function cm(n,r){for(ue(n.containerInfo),re=r;re!==null;)if(n=re,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,re=r;else for(;re!==null;){n=re;try{var o=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var l=o.memoizedProps,f=o.memoizedState,m=n.stateNode,S=m.getSnapshotBeforeUpdate(n.elementType===n.type?l:gn(n.type,l),f);m.__reactInternalSnapshotBeforeUpdate=S}break;case 3:Ie&&Ea(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(R){Qt(n,n.return,R)}if(r=n.sibling,r!==null){r.return=n.return,re=r;break}re=n.return}return o=cf,cf=!1,o}function Pr(n,r,o){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&cl(r,o,m)}f=f.next}while(f!==l)}}function qi(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var l=o.create;o.destroy=l()}o=o.next}while(o!==r)}}function fl(n){var r=n.ref;if(r!==null){var o=n.stateNode;switch(n.tag){case 5:n=ke(o);break;default:n=o}typeof r=="function"?r(n):r.current=n}}function ff(n,r,o){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Xs,r)}catch{}switch(r.tag){case 0:case 11:case 14:case 15:if(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var l=n=n.next;do{var f=l,m=f.destroy;f=f.tag,m!==void 0&&(f&2||f&4)&&cl(r,o,m),l=l.next}while(l!==n)}break;case 1:if(yo(r,o),n=r.stateNode,typeof n.componentWillUnmount=="function")try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(S){Qt(r,o,S)}break;case 5:yo(r,o);break;case 4:Ie?gf(n,r,o):Jt&&Jt&&(r=r.stateNode.containerInfo,o=bs(r),ks(r,o))}}function df(n,r,o){for(var l=r;;)if(ff(n,l,o),l.child===null||Ie&&l.tag===4){if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else l.child.return=l,l=l.child}function hf(n){var r=n.alternate;r!==null&&(n.alternate=null,hf(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&pn(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pf(n){return n.tag===5||n.tag===3||n.tag===4}function mf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vf(n){if(Ie){e:{for(var r=n.return;r!==null;){if(pf(r))break e;r=r.return}throw Error(c(160))}var o=r;switch(o.tag){case 5:r=o.stateNode,o.flags&32&&(Lt(r),o.flags&=-33),o=mf(n),hl(n,o,r);break;case 3:case 4:r=o.stateNode.containerInfo,o=mf(n),dl(n,o,r);break;default:throw Error(c(161))}}}function dl(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?Rt(o,n,r):qr(o,n);else if(l!==4&&(n=n.child,n!==null))for(dl(n,r,o),n=n.sibling;n!==null;)dl(n,r,o),n=n.sibling}function hl(n,r,o){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?wr(o,n,r):Hs(o,n);else if(l!==4&&(n=n.child,n!==null))for(hl(n,r,o),n=n.sibling;n!==null;)hl(n,r,o),n=n.sibling}function gf(n,r,o){for(var l=r,f=!1,m,S;;){if(!f){f=l.return;e:for(;;){if(f===null)throw Error(c(160));switch(m=f.stateNode,f.tag){case 5:S=!1;break e;case 3:m=m.containerInfo,S=!0;break e;case 4:m=m.containerInfo,S=!0;break e}f=f.return}f=!0}if(l.tag===5||l.tag===6)df(n,l,o),S?$n(m,l.stateNode):Ls(m,l.stateNode);else if(l.tag===18)S?V(m,l.stateNode):W(m,l.stateNode);else if(l.tag===4){if(l.child!==null){m=l.stateNode.containerInfo,S=!0,l.child.return=l,l=l.child;continue}}else if(ff(n,l,o),l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return,l.tag===4&&(f=!1)}l.sibling.return=l.return,l=l.sibling}}function pl(n,r){if(Ie){switch(r.tag){case 0:case 11:case 14:case 15:Pr(3,r,r.return),qi(3,r),Pr(5,r,r.return);return;case 1:return;case 5:var o=r.stateNode;if(o!=null){var l=r.memoizedProps;n=n!==null?n.memoizedProps:l;var f=r.type,m=r.updateQueue;r.updateQueue=null,m!==null&&ya(o,m,f,n,l,r)}return;case 6:if(r.stateNode===null)throw Error(c(162));o=r.memoizedProps,Aa(r.stateNode,n!==null?n.memoizedProps:o,o);return;case 3:tt&&n!==null&&n.memoizedState.isDehydrated&&b(r.stateNode.containerInfo);return;case 12:return;case 13:Co(r);return;case 19:Co(r);return;case 17:return}throw Error(c(163))}switch(r.tag){case 0:case 11:case 14:case 15:Pr(3,r,r.return),qi(3,r),Pr(5,r,r.return);return;case 12:return;case 13:Co(r);return;case 19:Co(r);return;case 3:tt&&n!==null&&n.memoizedState.isDehydrated&&b(r.stateNode.containerInfo);break;case 22:case 23:return}e:if(Jt){switch(r.tag){case 1:case 5:case 6:break e;case 3:case 4:r=r.stateNode,ks(r.containerInfo,r.pendingChildren);break e}throw Error(c(163))}}function Co(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new um),r.forEach(function(l){var f=ym.bind(null,n,l);o.has(l)||(o.add(l),l.then(f,f))})}}function fm(n,r){for(re=r;re!==null;){r=re;var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];try{var m=n;Ie?gf(m,f,r):df(m,f,r);var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(fe){Qt(f,r,fe)}}if(o=r.child,r.subtreeFlags&12854&&o!==null)o.return=r,re=o;else for(;re!==null;){r=re;try{var R=r.flags;if(R&32&&Ie&&Lt(r.stateNode),R&512){var k=r.alternate;if(k!==null){var Y=k.ref;Y!==null&&(typeof Y=="function"?Y(null):Y.current=null)}}if(R&8192)switch(r.tag){case 13:if(r.memoizedState!==null){var ae=r.alternate;(ae===null||ae.memoizedState===null)&&(Cl=St())}break;case 22:var Se=r.memoizedState!==null,ve=r.alternate,et=ve!==null&&ve.memoizedState!==null;if(o=r,Ie){e:if(l=o,f=Se,m=null,Ie)for(var he=l;;){if(he.tag===5){if(m===null){m=he;var Ut=he.stateNode;f?Et(Ut):oe(he.stateNode,he.memoizedProps)}}else if(he.tag===6){if(m===null){var on=he.stateNode;f?Ca(on):xr(on,he.memoizedProps)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===l)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===l)break;for(;he.sibling===null;){if(he.return===null||he.return===l)break e;m===he&&(m=null),he=he.return}m===he&&(m=null),he.sibling.return=he.return,he=he.sibling}}if(Se&&!et&&o.mode&1){re=o;for(var U=o.child;U!==null;){for(o=re=U;re!==null;){l=re;var D=l.child;switch(l.tag){case 0:case 11:case 14:case 15:Pr(4,l,l.return);break;case 1:yo(l,l.return);var L=l.stateNode;if(typeof L.componentWillUnmount=="function"){var ie=l.return;try{L.props=l.memoizedProps,L.state=l.memoizedState,L.componentWillUnmount()}catch(fe){Qt(l,ie,fe)}}break;case 5:yo(l,l.return);break;case 22:if(l.memoizedState!==null){yf(o);continue}}D!==null?(D.return=l,re=D):yf(o)}U=U.sibling}}}switch(R&4102){case 2:vf(r),r.flags&=-3;break;case 6:vf(r),r.flags&=-3,pl(r.alternate,r);break;case 4096:r.flags&=-4097;break;case 4100:r.flags&=-4097,pl(r.alternate,r);break;case 4:pl(r.alternate,r)}}catch(fe){Qt(r,r.return,fe)}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}}function dm(n,r,o){re=n,Af(n)}function Af(n,r,o){for(var l=(n.mode&1)!==0;re!==null;){var f=re,m=f.child;if(f.tag===22&&l){var S=f.memoizedState!==null||Bo;if(!S){var R=f.alternate,k=R!==null&&R.memoizedState!==null||Fr;R=Bo;var Y=Fr;if(Bo=S,(Fr=k)&&!Y)for(re=f;re!==null;)S=re,k=S.child,S.tag===22&&S.memoizedState!==null?Cf(f):k!==null?(k.return=S,re=k):Cf(f);for(;m!==null;)re=m,Af(m),m=m.sibling;re=f,Bo=R,Fr=Y}Bf(n)}else f.subtreeFlags&8772&&m!==null?(m.return=f,re=m):Bf(n)}}function Bf(n){for(;re!==null;){var r=re;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Fr||qi(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Fr)if(o===null)l.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:gn(r.type,o.memoizedProps);l.componentDidUpdate(f,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&dc(r,m,l);break;case 3:var S=r.updateQueue;if(S!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=ke(r.child.stateNode);break;case 1:o=r.child.stateNode}dc(r,S,o)}break;case 5:var R=r.stateNode;o===null&&r.flags&4&&Ba(R,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(tt&&r.memoizedState===null){var k=r.alternate;if(k!==null){var Y=k.memoizedState;if(Y!==null){var ae=Y.dehydrated;ae!==null&&N(ae)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}Fr||r.flags&512&&fl(r)}catch(Se){Qt(r,r.return,Se)}}if(r===n){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function yf(n){for(;re!==null;){var r=re;if(r===n){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function Cf(n){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{qi(4,r)}catch(k){Qt(r,o,k)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var f=r.return;try{l.componentDidMount()}catch(k){Qt(r,f,k)}}var m=r.return;try{fl(r)}catch(k){Qt(r,m,k)}break;case 5:var S=r.return;try{fl(r)}catch(k){Qt(r,S,k)}}}catch(k){Qt(r,r.return,k)}if(r===n){re=null;break}var R=r.sibling;if(R!==null){R.return=r.return,re=R;break}re=r.return}}var Eo=0,So=1,_o=2,wo=3,xo=4;if(typeof Symbol=="function"&&Symbol.for){var $i=Symbol.for;Eo=$i("selector.component"),So=$i("selector.has_pseudo_class"),_o=$i("selector.role"),wo=$i("selector.test_id"),xo=$i("selector.text")}function ml(n){var r=_n(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(c(364));return r}if(n=Gi(n),n===null)throw Error(c(362));return n.stateNode.current}function vl(n,r){switch(r.$$typeof){case Eo:if(n.type===r.value)return!0;break;case So:e:{r=r.value,n=[n,0];for(var o=0;o<n.length;){var l=n[o++],f=n[o++],m=r[f];if(l.tag!==5||!bn(l)){for(;m!=null&&vl(l,m);)f++,m=r[f];if(f===r.length){r=!0;break e}else for(l=l.child;l!==null;)n.push(l,f),l=l.sibling}}r=!1}return r;case _o:if(n.tag===5&&_r(n.stateNode,r.value))return!0;break;case xo:if((n.tag===5||n.tag===6)&&(n=Zr(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case wo:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function gl(n){switch(n.$$typeof){case Eo:return"<"+(j(n.value)||"Unknown")+">";case So:return":has("+(gl(n)||"")+")";case _o:return'[role="'+n.value+'"]';case xo:return'"'+n.value+'"';case wo:return'[data-testname="'+n.value+'"]';default:throw Error(c(365))}}function Ef(n,r){var o=[];n=[n,0];for(var l=0;l<n.length;){var f=n[l++],m=n[l++],S=r[m];if(f.tag!==5||!bn(f)){for(;S!=null&&vl(f,S);)m++,S=r[m];if(m===r.length)o.push(f);else for(f=f.child;f!==null;)n.push(f,m),f=f.sibling}}return o}function Al(n,r){if(!wn)throw Error(c(363));n=ml(n),n=Ef(n,r),r=[],n=Array.from(n);for(var o=0;o<n.length;){var l=n[o++];if(l.tag===5)bn(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)n.push(l),l=l.sibling}return r}var hm=Math.ceil,Mo=p.ReactCurrentDispatcher,Bl=p.ReactCurrentOwner,dt=p.ReactCurrentBatchConfig,Fe=0,mt=null,vt=null,It=0,Yt=0,li=He(0),Bt=0,es=null,ui=0,To=0,yl=0,ts=null,Kt=null,Cl=0,El=1/0;function ci(){El=St()+500}var Io=!1,Sl=null,nr=null,Ro=!1,rr=null,Do=0,ns=0,_l=null,Fo=-1,Po=0;function kt(){return Fe&6?St():Fo!==-1?Fo:Fo=St()}function ir(n){return n.mode&1?Fe&2&&It!==0?It&-It:Wp.transition!==null?(Po===0&&(n=js,js<<=1,!(js&4194240)&&(js=64),Po=n),Po):(n=Je,n!==0?n:Pi()):1}function rn(n,r,o){if(50<ns)throw ns=0,_l=null,Error(c(185));var l=Go(n,r);return l===null?null:(bi(l,r,o),(!(Fe&2)||l!==mt)&&(l===mt&&(!(Fe&2)&&(To|=r),Bt===4&&sr(l,It)),jt(l,o),r===1&&Fe===0&&!(n.mode&1)&&(ci(),Ws&&In())),l)}function Go(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}function jt(n,r){var o=n.callbackNode;Np(n,r);var l=Vs(n,n===mt?It:0);if(l===0)o!==null&&ac(o),n.callbackNode=null,n.callbackPriority=0;else if(r=l&-l,n.callbackPriority!==r){if(o!=null&&ac(o),r===1)n.tag===0?Xp(_f.bind(null,n)):lc(_f.bind(null,n)),Yr?Sr(function(){Fe===0&&In()}):Fa(Pa,In),o=null;else{switch(oc(l)){case 1:o=Pa;break;case 4:o=Kp;break;case 16:o=Ga;break;case 536870912:o=jp;break;default:o=Ga}o=Pf(o,Sf.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Sf(n,r){if(Fo=-1,Po=0,Fe&6)throw Error(c(327));var o=n.callbackNode;if(Or()&&n.callbackNode!==o)return null;var l=Vs(n,n===mt?It:0);if(l===0)return null;if(l&30||l&n.expiredLanes||r)r=Uo(n,l);else{r=l;var f=Fe;Fe|=2;var m=Mf();(mt!==n||It!==r)&&(ci(),Gr(n,r));do try{vm();break}catch(R){xf(n,R)}while(1);Ha(),Mo.current=m,Fe=f,vt!==null?r=0:(mt=null,It=0,r=Bt)}if(r!==0){if(r===2&&(f=Ia(n),f!==0&&(l=f,r=wl(n,f))),r===1)throw o=es,Gr(n,0),sr(n,l),jt(n,St()),o;if(r===6)sr(n,l);else{if(f=n.current.alternate,!(l&30)&&!pm(f)&&(r=Uo(n,l),r===2&&(m=Ia(n),m!==0&&(l=m,r=wl(n,m))),r===1))throw o=es,Gr(n,0),sr(n,l),jt(n,St()),o;switch(n.finishedWork=f,n.finishedLanes=l,r){case 0:case 1:throw Error(c(345));case 2:Ur(n,Kt);break;case 3:if(sr(n,l),(l&130023424)===l&&(r=Cl+500-St(),10<r)){if(Vs(n,0)!==0)break;if(f=n.suspendedLanes,(f&l)!==l){kt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=ct(Ur.bind(null,n,Kt),r);break}Ur(n,Kt);break;case 4:if(sr(n,l),(l&4194240)===l)break;for(r=n.eventTimes,f=-1;0<l;){var S=31-ot(l);m=1<<S,S=r[S],S>f&&(f=S),l&=~m}if(l=f,l=St()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*hm(l/1960))-l,10<l){n.timeoutHandle=ct(Ur.bind(null,n,Kt),l);break}Ur(n,Kt);break;case 5:Ur(n,Kt);break;default:throw Error(c(329))}}}return jt(n,St()),n.callbackNode===o?Sf.bind(null,n):null}function wl(n,r){var o=ts;return n.current.memoizedState.isDehydrated&&(Gr(n,r).flags|=256),n=Uo(n,r),n!==2&&(r=Kt,Kt=o,r!==null&&xl(r)),n}function xl(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function pm(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function sr(n,r){for(r&=~yl,r&=~To,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-ot(r),l=1<<o;n[o]=-1,r&=~l}}function _f(n){if(Fe&6)throw Error(c(327));Or();var r=Vs(n,0);if(!(r&1))return jt(n,St()),null;var o=Uo(n,r);if(n.tag!==0&&o===2){var l=Ia(n);l!==0&&(r=l,o=wl(n,l))}if(o===1)throw o=es,Gr(n,0),sr(n,r),jt(n,St()),o;if(o===6)throw Error(c(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ur(n,Kt),jt(n,St()),null}function wf(n){rr!==null&&rr.tag===0&&!(Fe&6)&&Or();var r=Fe;Fe|=1;var o=dt.transition,l=Je;try{if(dt.transition=null,Je=1,n)return n()}finally{Je=l,dt.transition=o,Fe=r,!(Fe&6)&&In()}}function Ml(){Yt=li.current,Ae(li)}function Gr(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==qn&&(n.timeoutHandle=qn,Ct(o)),vt!==null)for(o=vt.return;o!==null;){var l=o;switch(Ka(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Tt();break;case 3:oi(),Ae(Re),Ae($e),Za();break;case 5:Wa(l);break;case 4:oi();break;case 13:Ae(lt);break;case 19:Ae(lt);break;case 10:La(l.type._context);break;case 22:case 23:Ml()}o=o.return}if(mt=n,vt=n=or(n.current,null),It=Yt=r,Bt=0,es=null,yl=To=ui=0,Kt=ts=null,Rn!==null){for(r=0;r<Rn.length;r++)if(o=Rn[r],l=o.interleaved,l!==null){o.interleaved=null;var f=l.next,m=o.pending;if(m!==null){var S=m.next;m.next=f,l.next=S}o.pending=l}Rn=null}return n}function xf(n,r){do{var o=vt;try{if(Ha(),oo.current=ho,ao){for(var l=ft.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}ao=!1}if(ai=0,_t=Ft=ft=null,ji=!1,Qi=0,Bl.current=null,o===null||o.return===null){Bt=1,es=r,vt=null;break}e:{var m=n,S=o.return,R=o,k=r;if(r=It,R.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var Y=k,ae=R,Se=ae.tag;if(!(ae.mode&1)&&(Se===0||Se===11||Se===15)){var ve=ae.alternate;ve?(ae.updateQueue=ve.updateQueue,ae.memoizedState=ve.memoizedState,ae.lanes=ve.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var et=Qc(S);if(et!==null){et.flags&=-257,Vc(et,S,R,m,r),et.mode&1&&jc(m,Y,r),r=et,k=Y;var he=r.updateQueue;if(he===null){var Ut=new Set;Ut.add(k),r.updateQueue=Ut}else he.add(k);break e}else{if(!(r&1)){jc(m,Y,r),Tl();break e}k=Error(c(426))}}else if(at&&R.mode&1){var on=Qc(S);if(on!==null){!(on.flags&65536)&&(on.flags|=256),Vc(on,S,R,m,r),Va(k);break e}}m=k,Bt!==4&&(Bt=2),ts===null?ts=[m]:ts.push(m),k=il(k,R),R=S;do{switch(R.tag){case 3:R.flags|=65536,r&=-r,R.lanes|=r;var U=Jc(R,k,r);fc(R,U);break e;case 1:m=k;var D=R.type,L=R.stateNode;if(!(R.flags&128)&&(typeof D.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(nr===null||!nr.has(L)))){R.flags|=65536,r&=-r,R.lanes|=r;var ie=Kc(R,m,r);fc(R,ie);break e}}R=R.return}while(R!==null)}If(o)}catch(fe){r=fe,vt===o&&o!==null&&(vt=o=o.return);continue}break}while(1)}function Mf(){var n=Mo.current;return Mo.current=ho,n===null?ho:n}function Tl(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),mt===null||!(ui&268435455)&&!(To&268435455)||sr(mt,It)}function Uo(n,r){var o=Fe;Fe|=2;var l=Mf();mt===n&&It===r||Gr(n,r);do try{mm();break}catch(f){xf(n,f)}while(1);if(Ha(),Fe=o,Mo.current=l,vt!==null)throw Error(c(261));return mt=null,It=0,Bt}function mm(){for(;vt!==null;)Tf(vt)}function vm(){for(;vt!==null&&!zp();)Tf(vt)}function Tf(n){var r=Ff(n.alternate,n,Yt);n.memoizedProps=n.pendingProps,r===null?If(n):vt=r,Bl.current=null}function If(n){var r=n;do{var o=r.alternate;if(n=r.return,r.flags&32768){if(o=lm(o,r),o!==null){o.flags&=32767,vt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Bt=6,vt=null;return}}else if(o=sm(o,r,Yt),o!==null){vt=o;return}if(r=r.sibling,r!==null){vt=r;return}vt=r=n}while(r!==null);Bt===0&&(Bt=5)}function Ur(n,r){var o=Je,l=dt.transition;try{dt.transition=null,Je=1,gm(n,r,o)}finally{dt.transition=l,Je=o}return null}function gm(n,r,o){do Or();while(rr!==null);if(Fe&6)throw Error(c(327));var l=n.finishedWork,f=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(c(177));n.callbackNode=null,n.callbackPriority=0;var m=l.lanes|l.childLanes;if(kp(n,m),n===mt&&(vt=mt=null,It=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ro||(Ro=!0,Pf(Ga,function(){return Or(),null})),m=(l.flags&15990)!==0,l.subtreeFlags&15990||m){m=dt.transition,dt.transition=null;var S=Je;Je=1;var R=Fe;Fe|=4,Bl.current=null,cm(n,l),fm(n,l),se(n.containerInfo),n.current=l,dm(l),Jp(),Fe=R,Je=S,dt.transition=m}else n.current=l;if(Ro&&(Ro=!1,rr=n,Do=f),m=n.pendingLanes,m===0&&(nr=null),Qp(l.stateNode),jt(n,St()),r!==null)for(o=n.onRecoverableError,l=0;l<r.length;l++)o(r[l]);if(Io)throw Io=!1,n=Sl,Sl=null,n;return Do&1&&n.tag!==0&&Or(),m=n.pendingLanes,m&1?n===_l?ns++:(ns=0,_l=n):ns=0,In(),null}function Or(){if(rr!==null){var n=oc(Do),r=dt.transition,o=Je;try{if(dt.transition=null,Je=16>n?16:n,rr===null)var l=!1;else{if(n=rr,rr=null,Do=0,Fe&6)throw Error(c(331));var f=Fe;for(Fe|=4,re=n.current;re!==null;){var m=re,S=m.child;if(re.flags&16){var R=m.deletions;if(R!==null){for(var k=0;k<R.length;k++){var Y=R[k];for(re=Y;re!==null;){var ae=re;switch(ae.tag){case 0:case 11:case 15:Pr(8,ae,m)}var Se=ae.child;if(Se!==null)Se.return=ae,re=Se;else for(;re!==null;){ae=re;var ve=ae.sibling,et=ae.return;if(hf(ae),ae===Y){re=null;break}if(ve!==null){ve.return=et,re=ve;break}re=et}}}var he=m.alternate;if(he!==null){var Ut=he.child;if(Ut!==null){he.child=null;do{var on=Ut.sibling;Ut.sibling=null,Ut=on}while(Ut!==null)}}re=m}}if(m.subtreeFlags&2064&&S!==null)S.return=m,re=S;else e:for(;re!==null;){if(m=re,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Pr(9,m,m.return)}var U=m.sibling;if(U!==null){U.return=m.return,re=U;break e}re=m.return}}var D=n.current;for(re=D;re!==null;){S=re;var L=S.child;if(S.subtreeFlags&2064&&L!==null)L.return=S,re=L;else e:for(S=D;re!==null;){if(R=re,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:qi(9,R)}}catch(fe){Qt(R,R.return,fe)}if(R===S){re=null;break e}var ie=R.sibling;if(ie!==null){ie.return=R.return,re=ie;break e}re=R.return}}if(Fe=f,In(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Xs,n)}catch{}l=!0}return l}finally{Je=o,dt.transition=r}}return!1}function Rf(n,r,o){r=il(o,r),r=Jc(n,r,1),tr(n,r),r=kt(),n=Go(n,1),n!==null&&(bi(n,1,r),jt(n,r))}function Qt(n,r,o){if(n.tag===3)Rf(n,n,o);else for(;r!==null;){if(r.tag===3){Rf(r,n,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){n=il(o,n),n=Kc(r,n,1),tr(r,n),n=kt(),r=Go(r,1),r!==null&&(bi(r,1,n),jt(r,n));break}}r=r.return}}function Am(n,r,o){var l=n.pingCache;l!==null&&l.delete(r),r=kt(),n.pingedLanes|=n.suspendedLanes&o,mt===n&&(It&o)===o&&(Bt===4||Bt===3&&(It&130023424)===It&&500>St()-Cl?Gr(n,0):yl|=o),jt(n,r)}function Df(n,r){r===0&&(n.mode&1?(r=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):r=1);var o=kt();n=Go(n,r),n!==null&&(bi(n,r,o),jt(n,o))}function Bm(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Df(n,o)}function ym(n,r){var o=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=n.stateNode;break;default:throw Error(c(314))}l!==null&&l.delete(r),Df(n,o)}var Ff;Ff=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||Re.current)Wt=!0;else{if(!(n.lanes&o)&&!(r.flags&128))return Wt=!1,am(n,r,o);Wt=!!(n.flags&131072)}else Wt=!1,at&&r.flags&1048576&&gc(r,ro,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),n=r.pendingProps;var f=Dt(r,$e.current);ei(r,o),f=$a(null,r,l,n,f,o);var m=el();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,pt(l)?(m=!0,qe(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Na(r),f.updater=to,r.stateNode=f,f._reactInternals=r,za(r,l,n,o),r=al(null,r,l,!0,m,o)):(r.tag=0,at&&m&&Ja(r),Nt(null,r,f,o),r=r.child),r;case 16:l=r.elementType;e:{switch(n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),n=r.pendingProps,f=l._init,l=f(l._payload),r.type=l,f=r.tag=Em(l),n=gn(l,n),f){case 0:r=ol(null,r,l,n,o);break e;case 1:r=tf(null,r,l,n,o);break e;case 11:r=Yc(null,r,l,n,o);break e;case 14:r=Zc(null,r,l,gn(l.type,n),o);break e}throw Error(c(306,l,""))}return r;case 0:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:gn(l,f),ol(n,r,l,f,o);case 1:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:gn(l,f),tf(n,r,l,f,o);case 3:e:{if(nf(r),n===null)throw Error(c(387));l=r.pendingProps,m=r.memoizedState,f=m.element,cc(n,r),eo(r,l,null,o);var S=r.memoizedState;if(l=S.element,tt&&m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:S.cache,transitions:S.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=Error(c(423)),r=rf(n,r,l,o,f);break e}else if(l!==f){f=Error(c(424)),r=rf(n,r,l,o,f);break e}else for(tt&&(Xt=Ks(r.stateNode.containerInfo),Vt=r,at=!0,An=null,Ni=!1),o=Sc(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ri(),l===f){r=Qn(n,r,o);break e}Nt(n,r,l,o)}r=r.child}return r;case 5:return _c(r),n===null&&Qa(r),l=r.type,f=r.pendingProps,m=n!==null?n.memoizedProps:null,S=f.children,Oe(l,f)?S=null:m!==null&&Oe(l,m)&&(r.flags|=32),ef(n,r),Nt(n,r,S,o),r.child;case 6:return n===null&&Qa(r),null;case 13:return sf(n,r,o);case 4:return Xa(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ii(r,null,l,o):Nt(n,r,l,o),r.child;case 11:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:gn(l,f),Yc(n,r,l,f,o);case 7:return Nt(n,r,r.pendingProps,o),r.child;case 8:return Nt(n,r,r.pendingProps.children,o),r.child;case 12:return Nt(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(l=r.type._context,f=r.pendingProps,m=r.memoizedProps,S=f.value,uc(r,l,S),m!==null)if(Tn(m.value,S)){if(m.children===f.children&&!Re.current){r=Qn(n,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var R=m.dependencies;if(R!==null){S=m.child;for(var k=R.firstContext;k!==null;){if(k.context===l){if(m.tag===1){k=zn(-1,o&-o),k.tag=2;var Y=m.updateQueue;if(Y!==null){Y=Y.shared;var ae=Y.pending;ae===null?k.next=k:(k.next=ae.next,ae.next=k),Y.pending=k}}m.lanes|=o,k=m.alternate,k!==null&&(k.lanes|=o),ba(m.return,o,r),R.lanes|=o;break}k=k.next}}else if(m.tag===10)S=m.type===r.type?null:m.child;else if(m.tag===18){if(S=m.return,S===null)throw Error(c(341));S.lanes|=o,R=S.alternate,R!==null&&(R.lanes|=o),ba(S,o,r),S=m.sibling}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}Nt(n,r,f.children,o),r=r.child}return r;case 9:return f=r.type,l=r.pendingProps.children,ei(r,o),f=qt(f),l=l(f),r.flags|=1,Nt(n,r,l,o),r.child;case 14:return l=r.type,f=gn(l,r.pendingProps),f=gn(l.type,f),Zc(n,r,l,f,o);case 15:return qc(n,r,r.type,r.pendingProps,o);case 17:return l=r.type,f=r.pendingProps,f=r.elementType===l?f:gn(l,f),n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,pt(l)?(n=!0,qe(r)):n=!1,ei(r,o),mc(r,l,f),za(r,l,f,o),al(null,r,l,!0,n,o);case 19:return uf(n,r,o);case 22:return $c(n,r,o)}throw Error(c(156,r.tag))};function Pf(n,r){return Fa(n,r)}function Cm(n,r,o,l){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(n,r,o,l){return new Cm(n,r,o,l)}function Il(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Em(n){if(typeof n=="function")return Il(n)?1:0;if(n!=null){if(n=n.$$typeof,n===T)return 11;if(n===M)return 14}return 2}function or(n,r){var o=n.alternate;return o===null?(o=sn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Oo(n,r,o,l,f,m){var S=2;if(l=n,typeof n=="function")Il(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case h:return Hr(o.children,f,m,r);case g:S=8,f|=8;break;case B:return n=sn(12,o,r,f|2),n.elementType=B,n.lanes=m,n;case x:return n=sn(13,o,r,f),n.elementType=x,n.lanes=m,n;case _:return n=sn(19,o,r,f),n.elementType=_,n.lanes=m,n;case F:return Ho(o,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:S=10;break e;case E:S=9;break e;case T:S=11;break e;case M:S=14;break e;case w:S=16,l=null;break e}throw Error(c(130,n==null?n:typeof n,""))}return r=sn(S,o,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Hr(n,r,o,l){return n=sn(7,n,l,r),n.lanes=o,n}function Ho(n,r,o,l){return n=sn(22,n,l,r),n.elementType=F,n.lanes=o,n.stateNode={},n}function Rl(n,r,o){return n=sn(6,n,null,r),n.lanes=o,n}function Dl(n,r,o){return r=sn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Sm(n,r,o,l,f){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=qn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=l,this.onRecoverableError=f,tt&&(this.mutableSourceEagerHydrationData=null)}function Gf(n,r,o,l,f,m,S,R,k){return n=new Sm(n,r,o,R,k),r===1?(r=1,m===!0&&(r|=8)):r=0,m=sn(3,null,null,r),n.current=m,m.stateNode=n,m.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null},Na(m),n}function Uf(n){if(!n)return Le;n=n._reactInternals;e:{if(J(n)!==n||n.tag!==1)throw Error(c(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(c(171))}if(n.tag===1){var o=n.type;if(pt(o))return At(n,o,r)}return r}function Of(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(c(188)):(n=Object.keys(n).join(","),Error(c(268,n)));return n=q(r),n===null?null:n.stateNode}function Hf(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Fl(n,r){Hf(n,r),(n=n.alternate)&&Hf(n,r)}function _m(n){return n=q(n),n===null?null:n.stateNode}function wm(){return null}return i.attemptContinuousHydration=function(n){if(n.tag===13){var r=kt();rn(n,134217728,r),Fl(n,134217728)}},i.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=kt(),o=ir(n);rn(n,o,r),Fl(n,o)}},i.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=Li(r.pendingLanes);o!==0&&(Da(r,o|1),jt(r,St()),!(Fe&6)&&(ci(),In()))}break;case 13:var l=kt();wf(function(){return rn(n,1,l)}),Fl(n,1)}},i.batchedUpdates=function(n,r){var o=Fe;Fe|=1;try{return n(r)}finally{Fe=o,Fe===0&&(ci(),Ws&&In())}},i.createComponentSelector=function(n){return{$$typeof:Eo,value:n}},i.createContainer=function(n,r,o,l,f,m,S){return Gf(n,r,!1,null,o,l,f,m,S)},i.createHasPseudoClassSelector=function(n){return{$$typeof:So,value:n}},i.createHydrationContainer=function(n,r,o,l,f,m,S,R,k){return n=Gf(o,l,!0,n,f,m,S,R,k),n.context=Uf(null),o=n.current,l=kt(),f=ir(o),m=zn(l,f),m.callback=r??null,tr(o,m),n.current.lanes=f,bi(n,f,l),jt(n,l),n},i.createPortal=function(n,r,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:l==null?null:""+l,children:n,containerInfo:r,implementation:o}},i.createRoleSelector=function(n){return{$$typeof:_o,value:n}},i.createTestNameSelector=function(n){return{$$typeof:wo,value:n}},i.createTextSelector=function(n){return{$$typeof:xo,value:n}},i.deferredUpdates=function(n){var r=Je,o=dt.transition;try{return dt.transition=null,Je=16,n()}finally{Je=r,dt.transition=o}},i.discreteUpdates=function(n,r,o,l,f){var m=Je,S=dt.transition;try{return dt.transition=null,Je=1,n(r,o,l,f)}finally{Je=m,dt.transition=S,Fe===0&&ci()}},i.findAllNodes=Al,i.findBoundingRects=function(n,r){if(!wn)throw Error(c(363));r=Al(n,r),n=[];for(var o=0;o<r.length;o++)n.push(Ui(r[o]));for(r=n.length-1;0<r;r--){o=n[r];for(var l=o.x,f=l+o.width,m=o.y,S=m+o.height,R=r-1;0<=R;R--)if(r!==R){var k=n[R],Y=k.x,ae=Y+k.width,Se=k.y,ve=Se+k.height;if(l>=Y&&m>=Se&&f<=ae&&S<=ve){n.splice(r,1);break}else if(l!==Y||o.width!==k.width||ve<m||Se>S){if(!(m!==Se||o.height!==k.height||ae<l||Y>f)){Y>l&&(k.width+=Y-l,k.x=l),ae<f&&(k.width=f-Y),n.splice(r,1);break}}else{Se>m&&(k.height+=Se-m,k.y=m),ve<S&&(k.height=S-Se),n.splice(r,1);break}}}return n},i.findHostInstance=Of,i.findHostInstanceWithNoPortals=function(n){return n=G(n),n=n!==null?Me(n):null,n===null?null:n.stateNode},i.findHostInstanceWithWarning=function(n){return Of(n)},i.flushControlled=function(n){var r=Fe;Fe|=1;var o=dt.transition,l=Je;try{dt.transition=null,Je=1,n()}finally{Je=l,dt.transition=o,Fe=r,Fe===0&&(ci(),In())}},i.flushPassiveEffects=Or,i.flushSync=wf,i.focusWithin=function(n,r){if(!wn)throw Error(c(363));for(n=ml(n),r=Ef(n,r),r=Array.from(r),n=0;n<r.length;){var o=r[n++];if(!bn(o)){if(o.tag===5&&Oi(o.stateNode))return!0;for(o=o.child;o!==null;)r.push(o),o=o.sibling}}return!1},i.getCurrentUpdatePriority=function(){return Je},i.getFindAllNodesFailureDescription=function(n,r){if(!wn)throw Error(c(363));var o=0,l=[];n=[ml(n),0];for(var f=0;f<n.length;){var m=n[f++],S=n[f++],R=r[S];if((m.tag!==5||!bn(m))&&(vl(m,R)&&(l.push(gl(R)),S++,S>o&&(o=S)),S<r.length))for(m=m.child;m!==null;)n.push(m,S),m=m.sibling}if(o<r.length){for(n=[];o<r.length;o++)n.push(gl(r[o]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},i.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return ke(n.child.stateNode);default:return n.child.stateNode}},i.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:_m,findFiberByHostInstance:n.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{Xs=r.inject(n),Mn=r}catch{}n=!!r.checkDCE}}return n},i.isAlreadyRendering=function(){return!1},i.observeVisibleRects=function(n,r,o,l){if(!wn)throw Error(c(363));n=Al(n,r);var f=mn(n,o,l).disconnect;return{disconnect:function(){f()}}},i.registerMutableSourceForHydration=function(n,r){var o=r._getVersion;o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o)},i.runWithPriority=function(n,r){var o=Je;try{return Je=n,r()}finally{Je=o}},i.shouldError=function(){return null},i.shouldSuspend=function(){return!1},i.updateContainer=function(n,r,o,l){var f=r.current,m=kt(),S=ir(f);return o=Uf(o),r.context===null?r.context=o:r.pendingContext=o,r=zn(m,S),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),tr(f,r),n=rn(f,S,m),n!==null&&$s(n,f,S),S},i};dh.exports=Ev;var Sv=dh.exports;const _v=Vd(Sv),wv=t=>typeof t=="object"&&typeof t.then=="function",zr=[];function mh(t,e,i=(s,a)=>s===a){if(t===e)return!0;if(!t||!e)return!1;const s=t.length;if(e.length!==s)return!1;for(let a=0;a<s;a++)if(!i(t[a],e[a]))return!1;return!0}function vh(t,e=null,i=!1,s={}){e===null&&(e=[t]);for(const u of zr)if(mh(e,u.keys,u.equal)){if(i)return;if(Object.prototype.hasOwnProperty.call(u,"error"))throw u.error;if(Object.prototype.hasOwnProperty.call(u,"response"))return s.lifespan&&s.lifespan>0&&(u.timeout&&clearTimeout(u.timeout),u.timeout=setTimeout(u.remove,s.lifespan)),u.response;if(!i)throw u.promise}const a={keys:e,equal:s.equal,remove:()=>{const u=zr.indexOf(a);u!==-1&&zr.splice(u,1)},promise:(wv(t)?t:t(...e)).then(u=>{a.response=u,s.lifespan&&s.lifespan>0&&(a.timeout=setTimeout(a.remove,s.lifespan))}).catch(u=>a.error=u)};if(zr.push(a),!i)throw a.promise}const xv=(t,e,i)=>vh(t,e,!1,i),Mv=(t,e,i)=>void vh(t,e,!0,i),Tv=t=>{if(t===void 0||t.length===0)zr.splice(0,zr.length);else{const e=zr.find(i=>mh(t,i.keys,i.equal));e&&e.remove()}},Pu={},Gu=t=>void Object.assign(Pu,t);function Iv(t,e){function i(h,{args:g=[],attach:B,...C},E){let T=`${h[0].toUpperCase()}${h.slice(1)}`,x;if(h==="primitive"){if(C.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=C.object;x=mi(_,{type:h,root:E,attach:B,primitive:!0})}else{const _=Pu[T];if(!_)throw new Error(`R3F: ${T} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(g))throw new Error("R3F: The args prop must be an array!");x=mi(new _(...g),{type:h,root:E,attach:B,memoizedProps:{args:g}})}return x.__r3f.attach===void 0&&(x instanceof aa?x.__r3f.attach="geometry":x instanceof Bi&&(x.__r3f.attach="material")),T!=="inject"&&Ll(x,C),x}function s(h,g){let B=!1;if(g){var C,E;(C=g.__r3f)!=null&&C.attach?Hl(h,g,g.__r3f.attach):g.isObject3D&&h.isObject3D&&(h.add(g),B=!0),B||(E=h.__r3f)==null||E.objects.push(g),g.__r3f||mi(g,{}),g.__r3f.parent=h,cu(g),vi(g)}}function a(h,g,B){let C=!1;if(g){var E,T;if((E=g.__r3f)!=null&&E.attach)Hl(h,g,g.__r3f.attach);else if(g.isObject3D&&h.isObject3D){g.parent=h,g.dispatchEvent({type:"added"});const x=h.children.filter(M=>M!==g),_=x.indexOf(B);h.children=[...x.slice(0,_),g,...x.slice(_)],C=!0}C||(T=h.__r3f)==null||T.objects.push(g),g.__r3f||mi(g,{}),g.__r3f.parent=h,cu(g),vi(g)}}function u(h,g,B=!1){h&&[...h].forEach(C=>c(g,C,B))}function c(h,g,B){if(g){var C,E,T;if(g.__r3f&&(g.__r3f.parent=null),(C=h.__r3f)!=null&&C.objects&&(h.__r3f.objects=h.__r3f.objects.filter(F=>F!==g)),(E=g.__r3f)!=null&&E.attach)Kf(h,g,g.__r3f.attach);else if(g.isObject3D&&h.isObject3D){var x;h.remove(g),(x=g.__r3f)!=null&&x.root&&Hv(g.__r3f.root,g)}const M=(T=g.__r3f)==null?void 0:T.primitive,w=B===void 0?g.dispose!==null&&!M:B;if(!M){var _;u((_=g.__r3f)==null?void 0:_.objects,g,w),u(g.children,g,w)}delete g.__r3f,w&&g.dispose&&g.type!=="Scene"&&lu.unstable_scheduleCallback(lu.unstable_IdlePriority,()=>{try{g.dispose()}catch{}}),vi(h)}}function p(h,g,B,C){var E;const T=(E=h.__r3f)==null?void 0:E.parent;if(!T)return;const x=i(g,B,h.__r3f.root);if(h.children){for(const _ of h.children)_.__r3f&&s(x,_);h.children=h.children.filter(_=>!_.__r3f)}h.__r3f.objects.forEach(_=>s(x,_)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||c(T,h),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),s(T,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[C,C.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const d=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:_v({createInstance:i,removeChild:c,appendChild:s,appendInitialChild:s,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,g)=>{if(!g)return;const B=h.getState().scene;B.__r3f&&(B.__r3f.root=h,s(B,g))},removeChildFromContainer:(h,g)=>{g&&c(h.getState().scene,g)},insertInContainerBefore:(h,g,B)=>{if(!g||!B)return;const C=h.getState().scene;C.__r3f&&a(C,g,B)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var g;return!!((g=h==null?void 0:h.__r3f)!=null?g:{}).handlers},prepareUpdate(h,g,B,C){var E;if(((E=h==null?void 0:h.__r3f)!=null?E:{}).primitive&&C.object&&C.object!==h)return[!0];{const{args:x=[],children:_,...M}=C,{args:w=[],children:F,...z}=B;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((j,K)=>j!==w[K]))return[!0];const H=Sh(h,M,z,!0);return H.changes.length?[!1,H]:null}},commitUpdate(h,[g,B],C,E,T,x){g?p(h,C,T,x):Ll(h,B)},commitMount(h,g,B,C){var E;const T=(E=h.__r3f)!=null?E:{};h.raycast&&T.handlers&&T.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>mi(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var g;const{attach:B,parent:C}=(g=h.__r3f)!=null?g:{};B&&C&&Kf(C,h,B),h.isObject3D&&(h.visible=!1),vi(h)},unhideInstance(h,g){var B;const{attach:C,parent:E}=(B=h.__r3f)!=null?B:{};C&&E&&Hl(E,h,C),(h.isObject3D&&g.visible==null||g.visible)&&(h.visible=!0),vi(h)},createTextInstance:d,hideTextInstance:d,unhideTextInstance:d,getCurrentEventPriority:()=>e?e():Ai.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&rt.fun(performance.now)?performance.now:rt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:rt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:rt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ll}}var Nf,kf;const Ol=t=>"colorSpace"in t||"outputColorSpace"in t,gh=()=>{var t;return(t=Pu.ColorManagement)!=null?t:null},Ah=t=>t&&t.isOrthographicCamera,Rv=t=>t&&t.hasOwnProperty("current"),Ri=typeof window<"u"&&((Nf=window.document)!=null&&Nf.createElement||((kf=window.navigator)==null?void 0:kf.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function Bh(t){const e=P.useRef(t);return Ri(()=>void(e.current=t),[t]),e}function Dv({set:t}){return Ri(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class yh extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}yh.getDerivedStateFromError=()=>({error:!0});const Ch="__default",zf=new Map,Fv=t=>t&&!!t.memoized&&!!t.changes;function Eh(t){var e;const i=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],i),t[1]):t}const rs=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},rt={obj:t=>t===Object(t)&&!rt.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:i="shallow",objects:s="reference",strict:a=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(rt.str(t)||rt.num(t))return t===e;const u=rt.obj(t);if(u&&s==="reference")return t===e;const c=rt.arr(t);if(c&&i==="reference")return t===e;if((c||u)&&t===e)return!0;let p;for(p in t)if(!(p in e))return!1;if(u&&i==="shallow"&&s==="shallow"){for(p in a?e:t)if(!rt.equ(t[p],e[p],{strict:a,objects:"reference"}))return!1}else for(p in a?e:t)if(t[p]!==e[p])return!1;if(rt.und(p)){if(c&&t.length===0&&e.length===0||u&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Pv(t){const e={nodes:{},materials:{}};return t&&t.traverse(i=>{i.name&&(e.nodes[i.name]=i),i.material&&!e.materials[i.material.name]&&(e.materials[i.material.name]=i.material)}),e}function Gv(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function mi(t,e){const i=t;return i.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uu(t,e){let i=t;if(e.includes("-")){const s=e.split("-"),a=s.pop();return i=s.reduce((u,c)=>u[c],t),{target:i,key:a}}else return{target:i,key:e}}const Jf=/-\d+$/;function Hl(t,e,i){if(rt.str(i)){if(Jf.test(i)){const u=i.replace(Jf,""),{target:c,key:p}=uu(t,u);Array.isArray(c[p])||(c[p]=[])}const{target:s,key:a}=uu(t,i);e.__r3f.previousAttach=s[a],s[a]=e}else e.__r3f.previousAttach=i(t,e)}function Kf(t,e,i){var s,a;if(rt.str(i)){const{target:u,key:c}=uu(t,i),p=e.__r3f.previousAttach;p===void 0?delete u[c]:u[c]=p}else(s=e.__r3f)==null||s.previousAttach==null||s.previousAttach(t,e);(a=e.__r3f)==null||delete a.previousAttach}function Sh(t,{children:e,key:i,ref:s,...a},{children:u,key:c,ref:p,...d}={},v=!1){var h;const g=(h=t==null?void 0:t.__r3f)!=null?h:{},B=Object.entries(a),C=[];if(v){const T=Object.keys(d);for(let x=0;x<T.length;x++)a.hasOwnProperty(T[x])||B.unshift([T[x],Ch+"remove"])}B.forEach(([T,x])=>{var _;if((_=t.__r3f)!=null&&_.primitive&&T==="object"||rt.equ(x,d[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return C.push([T,x,!0,[]]);let M=[];T.includes("-")&&(M=T.split("-")),C.push([T,x,!1,M]);for(const w in a){const F=a[w];w.startsWith(`${T}-`)&&C.push([w,F,!1,w.split("-")])}});const E={...a};return g.memoizedProps&&g.memoizedProps.args&&(E.args=g.memoizedProps.args),g.memoizedProps&&g.memoizedProps.attach&&(E.attach=g.memoizedProps.attach),{memoized:E,changes:C}}const Uv=typeof process<"u"&&!1;function Ll(t,e){var i,s,a;const u=(i=t.__r3f)!=null?i:{},c=u.root,p=(s=c==null||c.getState==null?void 0:c.getState())!=null?s:{},{memoized:d,changes:v}=Fv(e)?e:Sh(t,e),h=u.eventCount;t.__r3f&&(t.__r3f.memoizedProps=d);for(let B=0;B<v.length;B++){let[C,E,T,x]=v[B];if(Ol(t)){const F="srgb",z="srgb-linear";C==="encoding"?(C="colorSpace",E=E===3001?F:z):C==="outputEncoding"&&(C="outputColorSpace",E=E===3001?F:z)}let _=t,M=_[C];if(x.length&&(M=x.reduce((w,F)=>w[F],t),!(M&&M.set))){const[w,...F]=x.reverse();_=F.reverse().reduce((z,H)=>z[H],t),C=w}if(E===Ch+"remove")if(_.constructor){let w=zf.get(_.constructor);w||(w=new _.constructor,zf.set(_.constructor,w)),E=w[C]}else E=0;if(T)E?u.handlers[C]=E:delete u.handlers[C],u.eventCount=Object.keys(u.handlers).length;else if(M&&M.set&&(M.copy||M instanceof Pl)){if(Array.isArray(E))M.fromArray?M.fromArray(E):M.set(...E);else if(M.copy&&E&&E.constructor&&(Uv?M.constructor.name===E.constructor.name:M.constructor===E.constructor))M.copy(E);else if(E!==void 0){const w=M instanceof On;!w&&M.setScalar?M.setScalar(E):M instanceof Pl&&E instanceof Pl?M.mask=E.mask:M.set(E),!gh()&&!p.linear&&w&&M.convertSRGBToLinear()}}else if(_[C]=E,_[C]instanceof Si&&_[C].format===Xd&&_[C].type===yr){const w=_[C];Ol(w)&&Ol(p.gl)?w.colorSpace=p.gl.outputColorSpace:w.encoding=p.gl.outputEncoding}vi(t)}if(u.parent&&p.internal&&t.raycast&&h!==u.eventCount){const B=p.internal.interaction.indexOf(t);B>-1&&p.internal.interaction.splice(B,1),u.eventCount&&p.internal.interaction.push(t)}return!(v.length===1&&v[0][0]==="onUpdate")&&v.length&&(a=t.__r3f)!=null&&a.parent&&cu(t),t}function vi(t){var e,i;const s=(e=t.__r3f)==null||(i=e.root)==null||i.getState==null?void 0:i.getState();s&&s.internal.frames===0&&s.invalidate()}function cu(t){t.onUpdate==null||t.onUpdate(t)}function _h(t,e){t.manual||(Ah(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function bo(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ov(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ai.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ai.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ai.ContinuousEventPriority;default:return Ai.DefaultEventPriority}}function wh(t,e,i,s){const a=i.get(e);a&&(i.delete(e),i.size===0&&(t.delete(s),a.target.releasePointerCapture(s)))}function Hv(t,e){const{internal:i}=t.getState();i.interaction=i.interaction.filter(s=>s!==e),i.initialHits=i.initialHits.filter(s=>s!==e),i.hovered.forEach((s,a)=>{(s.eventObject===e||s.object===e)&&i.hovered.delete(a)}),i.capturedMap.forEach((s,a)=>{wh(i.capturedMap,e,s,a)})}function Lv(t){function e(d){const{internal:v}=t.getState(),h=d.offsetX-v.initialClick[0],g=d.offsetY-v.initialClick[1];return Math.round(Math.sqrt(h*h+g*g))}function i(d){return d.filter(v=>["Move","Over","Enter","Out","Leave"].some(h=>{var g;return(g=v.__r3f)==null?void 0:g.handlers["onPointer"+h]}))}function s(d,v){const h=t.getState(),g=new Set,B=[],C=v?v(h.internal.interaction):h.internal.interaction;for(let _=0;_<C.length;_++){const M=rs(C[_]);M&&(M.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(d,h);function E(_){const M=rs(_);if(!M||!M.events.enabled||M.raycaster.camera===null)return[];if(M.raycaster.camera===void 0){var w;M.events.compute==null||M.events.compute(d,M,(w=M.previousRoot)==null?void 0:w.getState()),M.raycaster.camera===void 0&&(M.raycaster.camera=null)}return M.raycaster.camera?M.raycaster.intersectObject(_,!0):[]}let T=C.flatMap(E).sort((_,M)=>{const w=rs(_.object),F=rs(M.object);return!w||!F?_.distance-M.distance:F.events.priority-w.events.priority||_.distance-M.distance}).filter(_=>{const M=bo(_);return g.has(M)?!1:(g.add(M),!0)});h.events.filter&&(T=h.events.filter(T,h));for(const _ of T){let M=_.object;for(;M;){var x;(x=M.__r3f)!=null&&x.eventCount&&B.push({..._,eventObject:M}),M=M.parent}}if("pointerId"in d&&h.internal.capturedMap.has(d.pointerId))for(let _ of h.internal.capturedMap.get(d.pointerId).values())g.has(bo(_.intersection))||B.push(_.intersection);return B}function a(d,v,h,g){const B=t.getState();if(d.length){const C={stopped:!1};for(const E of d){const T=rs(E.object)||B,{raycaster:x,pointer:_,camera:M,internal:w}=T,F=new Ot(_.x,_.y,0).unproject(M),z=X=>{var G,q;return(G=(q=w.capturedMap.get(X))==null?void 0:q.has(E.eventObject))!=null?G:!1},H=X=>{const G={intersection:E,target:v.target};w.capturedMap.has(X)?w.capturedMap.get(X).set(E.eventObject,G):w.capturedMap.set(X,new Map([[E.eventObject,G]])),v.target.setPointerCapture(X)},j=X=>{const G=w.capturedMap.get(X);G&&wh(w.capturedMap,E.eventObject,G,X)};let K={};for(let X in v){let G=v[X];typeof G!="function"&&(K[X]=G)}let J={...E,...K,pointer:_,intersections:d,stopped:C.stopped,delta:h,unprojectedPoint:F,ray:x.ray,camera:M,stopPropagation(){const X="pointerId"in v&&w.capturedMap.get(v.pointerId);if((!X||X.has(E.eventObject))&&(J.stopped=C.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(G=>G.eventObject===E.eventObject))){const G=d.slice(0,d.indexOf(E));u([...G,E])}},target:{hasPointerCapture:z,setPointerCapture:H,releasePointerCapture:j},currentTarget:{hasPointerCapture:z,setPointerCapture:H,releasePointerCapture:j},nativeEvent:v};if(g(J),C.stopped===!0)break}}return d}function u(d){const{internal:v}=t.getState();for(const h of v.hovered.values())if(!d.length||!d.find(g=>g.object===h.object&&g.index===h.index&&g.instanceId===h.instanceId)){const B=h.eventObject.__r3f,C=B==null?void 0:B.handlers;if(v.hovered.delete(bo(h)),B!=null&&B.eventCount){const E={...h,intersections:d};C.onPointerOut==null||C.onPointerOut(E),C.onPointerLeave==null||C.onPointerLeave(E)}}}function c(d,v){for(let h=0;h<v.length;h++){const g=v[h].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(d)}}function p(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>u([]);case"onLostPointerCapture":return v=>{const{internal:h}=t.getState();"pointerId"in v&&h.capturedMap.has(v.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(v.pointerId)&&(h.capturedMap.delete(v.pointerId),u([]))})}}return function(h){const{onPointerMissed:g,internal:B}=t.getState();B.lastEvent.current=h;const C=d==="onPointerMove",E=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",x=s(h,C?i:void 0),_=E?e(h):0;d==="onPointerDown"&&(B.initialClick=[h.offsetX,h.offsetY],B.initialHits=x.map(w=>w.eventObject)),E&&!x.length&&_<=2&&(c(h,B.interaction),g&&g(h)),C&&u(x);function M(w){const F=w.eventObject,z=F.__r3f,H=z==null?void 0:z.handlers;if(z!=null&&z.eventCount)if(C){if(H.onPointerOver||H.onPointerEnter||H.onPointerOut||H.onPointerLeave){const j=bo(w),K=B.hovered.get(j);K?K.stopped&&w.stopPropagation():(B.hovered.set(j,w),H.onPointerOver==null||H.onPointerOver(w),H.onPointerEnter==null||H.onPointerEnter(w))}H.onPointerMove==null||H.onPointerMove(w)}else{const j=H[d];j?(!E||B.initialHits.includes(F))&&(c(h,B.interaction.filter(K=>!B.initialHits.includes(K))),j(w)):E&&B.initialHits.includes(F)&&c(h,B.interaction.filter(K=>!B.initialHits.includes(K)))}}a(x,h,_,M)}}return{handlePointer:p}}const bv=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],xh=t=>!!(t!=null&&t.render),Uu=P.createContext(null),Nv=(t,e)=>{const i=Yd((p,d)=>{const v=new Ot,h=new Ot,g=new Ot;function B(_=d().camera,M=h,w=d().size){const{width:F,height:z,top:H,left:j}=w,K=F/z;M instanceof Ot?g.copy(M):g.set(...M);const J=_.getWorldPosition(v).distanceTo(g);if(Ah(_))return{width:F/_.zoom,height:z/_.zoom,top:H,left:j,factor:1,distance:J,aspect:K};{const X=_.fov*Math.PI/180,G=2*Math.tan(X/2)*J,q=G*(F/z);return{width:q,height:G,top:H,left:j,factor:F/q,distance:J,aspect:K}}}let C;const E=_=>p(M=>({performance:{...M.performance,current:_}})),T=new yt;return{set:p,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(d(),_),advance:(_,M)=>e(_,M,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Pm,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=d();C&&clearTimeout(C),_.performance.current!==_.performance.min&&E(_.performance.min),C=setTimeout(()=>E(d().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:B},setEvents:_=>p(M=>({...M,events:{...M.events,..._}})),setSize:(_,M,w,F,z)=>{const H=d().camera,j={width:_,height:M,top:F||0,left:z||0,updateStyle:w};p(K=>({size:j,viewport:{...K.viewport,...B(H,h,j)}}))},setDpr:_=>p(M=>{const w=Eh(_);return{viewport:{...M.viewport,dpr:w,initialDpr:M.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const M=d().clock;M.stop(),M.elapsedTime=0,_!=="never"&&(M.start(),M.elapsedTime=0),p(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,M,w)=>{const F=d().internal;return F.priority=F.priority+(M>0?1:0),F.subscribers.push({ref:_,priority:M,store:w}),F.subscribers=F.subscribers.sort((z,H)=>z.priority-H.priority),()=>{const z=d().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(M>0?1:0),z.subscribers=z.subscribers.filter(H=>H.ref!==_))}}}}}),s=i.getState();let a=s.size,u=s.viewport.dpr,c=s.camera;return i.subscribe(()=>{const{camera:p,size:d,viewport:v,gl:h,set:g}=i.getState();if(d.width!==a.width||d.height!==a.height||v.dpr!==u){var B;a=d,u=v.dpr,_h(p,d),h.setPixelRatio(v.dpr);const C=(B=d.updateStyle)!=null?B:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(d.width,d.height,C)}p!==c&&(c=p,g(C=>({viewport:{...C.viewport,...C.viewport.getCurrentViewport(p)}})))}),i.subscribe(p=>t(p)),i};function kv(t,e){const i={callback:t};return e.add(i),()=>void e.delete(i)}let No,Mh=new Set,zv=new Set,Jv=new Set;const Kv=t=>kv(t,Mh);function bl(t,e){if(t.size)for(const{callback:i}of t.values())i(e)}function is(t,e){switch(t){case"before":return bl(Mh,e);case"after":return bl(zv,e);case"tail":return bl(Jv,e)}}let Nl,kl;function zl(t,e,i){let s=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(s=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),Nl=e.internal.subscribers,No=0;No<Nl.length;No++)kl=Nl[No],kl.ref.current(kl.store.getState(),s,i);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jv(t){let e=!1,i,s,a;function u(d){s=requestAnimationFrame(u),e=!0,i=0,is("before",d);for(const h of t.values()){var v;a=h.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((v=a.gl.xr)!=null&&v.isPresenting)&&(i+=zl(d,a))}if(is("after",d),i===0)return is("tail",d),e=!1,cancelAnimationFrame(s)}function c(d,v=1){var h;if(!d)return t.forEach(g=>c(g.store.getState()),v);(h=d.gl.xr)!=null&&h.isPresenting||!d.internal.active||d.frameloop==="never"||(d.internal.frames=Math.min(60,d.internal.frames+v),e||(e=!0,requestAnimationFrame(u)))}function p(d,v=!0,h,g){if(v&&is("before",d),h)zl(d,h,g);else for(const B of t.values())zl(d,B.store.getState());v&&is("after",d)}return{loop:u,invalidate:c,advance:p}}function Qv(t){const e=P.useRef(null);return Ri(()=>void(e.current=t.current.__r3f),[t]),e}function Ou(){const t=P.useContext(Uu);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function zt(t=i=>i,e){return Ou()(t,e)}function Ts(t,e=0){const i=Ou(),s=i.getState().internal.subscribe,a=Bh(t);return Ri(()=>s(a,e,i),[e,s,i]),null}const jf=new WeakMap;function Th(t,e){return function(i,...s){let a=jf.get(i);return a||(a=new i,jf.set(i,a)),t&&t(a),Promise.all(s.map(u=>new Promise((c,p)=>a.load(u,d=>{d.scene&&Object.assign(d,Pv(d.scene)),c(d)},e,d=>p(new Error(`Could not load ${u}: ${d==null?void 0:d.message}`)))))).finally(()=>a.dispose==null?void 0:a.dispose())}}function Di(t,e,i,s){const a=Array.isArray(e)?e:[e],u=xv(Th(i,s),[t,...a],{equal:rt.equ});return Array.isArray(e)?u:u[0]}Di.preload=function(t,e,i){const s=Array.isArray(e)?e:[e];return Mv(Th(i),[t,...s])};Di.clear=function(t,e){const i=Array.isArray(e)?e:[e];return Tv([t,...i])};const _i=new Map,{invalidate:Qf,advance:Vf}=jv(_i),{reconciler:ys,applyProps:br}=Iv(_i,Ov),fi={objects:"shallow",strict:!1},Vv=(t,e)=>{const i=typeof t=="function"?t(e):t;return xh(i)?i:new Im({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Xv(t,e){const i=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:s,height:a,top:u,left:c,updateStyle:p=i}=e;return{width:s,height:a,top:u,left:c,updateStyle:p}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:s,height:a,top:u,left:c}=t.parentElement.getBoundingClientRect();return{width:s,height:a,top:u,left:c,updateStyle:i}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:i};return{width:0,height:0,top:0,left:0}}function Wv(t){const e=_i.get(t),i=e==null?void 0:e.fiber,s=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,u=s||Nv(Qf,Vf),c=i||ys.createContainer(u,Ai.ConcurrentRoot,null,!1,null,"",a,null);e||_i.set(t,{fiber:c,store:u});let p,d=!1,v;return{configure(h={}){let{gl:g,size:B,scene:C,events:E,onCreated:T,shadows:x=!1,linear:_=!1,flat:M=!1,legacy:w=!1,orthographic:F=!1,frameloop:z="always",dpr:H=[1,2],performance:j,raycaster:K,camera:J,onPointerMissed:X}=h,G=u.getState(),q=G.gl;G.gl||G.set({gl:q=Vv(g,t)});let pe=G.raycaster;pe||G.set({raycaster:pe=new Wd});const{params:Me,...me}=K||{};if(rt.equ(me,pe,fi)||br(pe,{...me}),rt.equ(Me,pe.params,fi)||br(pe,{params:{...pe.params,...Me}}),!G.camera||G.camera===v&&!rt.equ(v,J,fi)){v=J;const le=J instanceof Zd,Be=le?J:F?new oa(0,0,0,0,.1,1e3):new xs(75,0,.1,1e3);le||(Be.position.z=5,J&&br(Be,J),!G.camera&&!(J!=null&&J.rotation)&&Be.lookAt(0,0,0)),G.set({camera:Be}),pe.camera=Be}if(!G.scene){let le;C instanceof As?le=C:(le=new As,C&&br(le,C)),G.set({scene:mi(le)})}if(!G.xr){var ke;const le=(Oe,Ee)=>{const ct=u.getState();ct.frameloop!=="never"&&Vf(Oe,!0,ct,Ee)},Be=()=>{const Oe=u.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?le:null),Oe.gl.xr.isPresenting||Qf(Oe)},Ve={connect(){const Oe=u.getState().gl;Oe.xr.addEventListener("sessionstart",Be),Oe.xr.addEventListener("sessionend",Be)},disconnect(){const Oe=u.getState().gl;Oe.xr.removeEventListener("sessionstart",Be),Oe.xr.removeEventListener("sessionend",Be)}};typeof((ke=q.xr)==null?void 0:ke.addEventListener)=="function"&&Ve.connect(),G.set({xr:Ve})}if(q.shadowMap){const le=q.shadowMap.enabled,Be=q.shadowMap.type;if(q.shadowMap.enabled=!!x,rt.boo(x))q.shadowMap.type=Gl;else if(rt.str(x)){var Te;const Ve={basic:Rm,percentage:Dm,soft:Gl,variance:Fm};q.shadowMap.type=(Te=Ve[x])!=null?Te:Gl}else rt.obj(x)&&Object.assign(q.shadowMap,x);(le!==q.shadowMap.enabled||Be!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const Q=gh();Q&&("enabled"in Q?Q.enabled=!w:"legacyMode"in Q&&(Q.legacyMode=w)),br(q,{outputEncoding:_?3e3:3001,toneMapping:M?Mm:Tm}),G.legacy!==w&&G.set(()=>({legacy:w})),G.linear!==_&&G.set(()=>({linear:_})),G.flat!==M&&G.set(()=>({flat:M})),g&&!rt.fun(g)&&!xh(g)&&!rt.equ(g,q,fi)&&br(q,g),E&&!G.events.handlers&&G.set({events:E(u)});const ge=Xv(t,B);return rt.equ(ge,G.size,fi)||G.setSize(ge.width,ge.height,ge.updateStyle,ge.top,ge.left),H&&G.viewport.dpr!==Eh(H)&&G.setDpr(H),G.frameloop!==z&&G.setFrameloop(z),G.onPointerMissed||G.set({onPointerMissed:X}),j&&!rt.equ(j,G.performance,fi)&&G.set(le=>({performance:{...le.performance,...j}})),p=T,d=!0,this},render(h){return d||this.configure(),ys.updateContainer(P.createElement(Yv,{store:u,children:h,onCreated:p,rootElement:t}),c,null,()=>{}),u},unmount(){Ih(t)}}}function Yv({store:t,children:e,onCreated:i,rootElement:s}){return Ri(()=>{const a=t.getState();a.set(u=>({internal:{...u.internal,active:!0}})),i&&i(a),t.getState().events.connected||a.events.connect==null||a.events.connect(s)},[]),P.createElement(Uu.Provider,{value:t},e)}function Ih(t,e){const i=_i.get(t),s=i==null?void 0:i.fiber;if(s){const a=i==null?void 0:i.store.getState();a&&(a.internal.active=!1),ys.updateContainer(null,s,null,()=>{a&&setTimeout(()=>{try{var u,c,p,d;a.events.disconnect==null||a.events.disconnect(),(u=a.gl)==null||(c=u.renderLists)==null||c.dispose==null||c.dispose(),(p=a.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(d=a.gl)!=null&&d.xr&&a.xr.disconnect(),Gv(a),_i.delete(t),e&&e(t)}catch{}},500)})}}function Zv(t,e,i){return P.createElement(qv,{key:e.uuid,children:t,container:e,state:i})}function qv({state:t={},children:e,container:i}){const{events:s,size:a,...u}=t,c=Ou(),[p]=P.useState(()=>new Wd),[d]=P.useState(()=>new yt),v=P.useCallback((g,B)=>{const C={...g};Object.keys(g).forEach(T=>{(bv.includes(T)||g[T]!==B[T]&&B[T])&&delete C[T]});let E;if(B&&a){const T=B.camera;E=g.viewport.getCurrentViewport(T,new Ot,a),T!==g.camera&&_h(T,a)}return{...C,scene:i,raycaster:p,pointer:d,mouse:d,previousRoot:c,events:{...g.events,...B==null?void 0:B.events,...s},size:{...g.size,...a},viewport:{...g.viewport,...E},...u}},[t]),[h]=P.useState(()=>{const g=c.getState();return Yd((C,E)=>({...g,scene:i,raycaster:p,pointer:d,mouse:d,previousRoot:c,events:{...g.events,...s},size:{...g.size,...a},...u,set:C,get:E,setEvents:T=>C(x=>({...x,events:{...x.events,...T}}))}))});return P.useEffect(()=>{const g=c.subscribe(B=>h.setState(C=>v(B,C)));return()=>{g(),h.destroy()}},[]),P.useEffect(()=>{h.setState(g=>v(c.getState(),g))},[v]),P.createElement(P.Fragment,null,ys.createPortal(P.createElement(Uu.Provider,{value:h},e),h,null))}ys.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});function fu(t,e,i){var s,a,u,c,p;e==null&&(e=100);function d(){var h=Date.now()-c;h<e&&h>=0?s=setTimeout(d,e-h):(s=null,i||(p=t.apply(u,a),u=a=null))}var v=function(){u=this,a=arguments,c=Date.now();var h=i&&!s;return s||(s=setTimeout(d,e)),h&&(p=t.apply(u,a),u=a=null),p};return v.clear=function(){s&&(clearTimeout(s),s=null)},v.flush=function(){s&&(p=t.apply(u,a),u=a=null,clearTimeout(s),s=null)},v}fu.debounce=fu;var $v=fu;const Xf=Vd($v);function eg(t){let{debounce:e,scroll:i,polyfill:s,offsetSize:a}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const u=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[c,p]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),v=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,g=P.useRef(!1);P.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[B,C,E]=P.useMemo(()=>{const M=()=>{if(!d.current.element)return;const{left:w,top:F,width:z,height:H,bottom:j,right:K,x:J,y:X}=d.current.element.getBoundingClientRect(),G={left:w,top:F,width:z,height:H,bottom:j,right:K,x:J,y:X};d.current.element instanceof HTMLElement&&a&&(G.height=d.current.element.offsetHeight,G.width=d.current.element.offsetWidth),Object.freeze(G),g.current&&!ig(d.current.lastBounds,G)&&p(d.current.lastBounds=G)};return[M,h?Xf(M,h):M,v?Xf(M,v):M]},[p,a,v,h]);function T(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",E,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function x(){d.current.element&&(d.current.resizeObserver=new u(E),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach(M=>M.addEventListener("scroll",E,{capture:!0,passive:!0})))}const _=M=>{!M||M===d.current.element||(T(),d.current.element=M,d.current.scrollContainers=Rh(M),x())};return ng(E,!!i),tg(C),P.useEffect(()=>{T(),x()},[i,E,C]),P.useEffect(()=>T,[]),[_,c,B]}function tg(t){P.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function ng(t,e){P.useEffect(()=>{if(e){const i=t;return window.addEventListener("scroll",i,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",i,!0)}},[t,e])}function Rh(t){const e=[];if(!t||t===document.body)return e;const{overflow:i,overflowX:s,overflowY:a}=window.getComputedStyle(t);return[i,s,a].some(u=>u==="auto"||u==="scroll")&&e.push(t),[...e,...Rh(t.parentElement)]}const rg=["x","y","top","bottom","left","right","width","height"],ig=(t,e)=>rg.every(i=>t[i]===e[i]);var sg=Object.defineProperty,og=Object.defineProperties,ag=Object.getOwnPropertyDescriptors,Wf=Object.getOwnPropertySymbols,lg=Object.prototype.hasOwnProperty,ug=Object.prototype.propertyIsEnumerable,Yf=(t,e,i)=>e in t?sg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Zf=(t,e)=>{for(var i in e||(e={}))lg.call(e,i)&&Yf(t,i,e[i]);if(Wf)for(var i of Wf(e))ug.call(e,i)&&Yf(t,i,e[i]);return t},cg=(t,e)=>og(t,ag(e));function Dh(t,e,i){if(!t)return;if(i(t)===!0)return t;let s=e?t.return:t.child;for(;s;){const a=Dh(s,e,i);if(a)return a;s=e?null:s.sibling}}function Fh(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Hu=Fh(P.createContext(null));class Ph extends P.Component{render(){return P.createElement(Hu.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:qf,ReactCurrentDispatcher:$f}=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function fg(){const t=P.useContext(Hu);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const s of[qf==null?void 0:qf.current,t,t==null?void 0:t.alternate]){if(!s)continue;const a=Dh(s,!1,u=>{let c=u.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}});if(a)return a}},[t,e])}function dg(){var t,e;const i=fg(),[s]=P.useState(()=>new Map);s.clear();let a=i;for(;a;){const u=(t=a.type)==null?void 0:t._context;u&&u!==Hu&&!s.has(u)&&s.set(u,(e=$f==null?void 0:$f.current)==null?void 0:e.readContext(Fh(u))),a=a.return}return s}function hg(){const t=dg();return P.useMemo(()=>Array.from(t.keys()).reduce((e,i)=>s=>P.createElement(e,null,P.createElement(i.Provider,cg(Zf({},s),{value:t.get(i)}))),e=>P.createElement(Ph,Zf({},e))),[t])}const Jl={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pg(t){const{handlePointer:e}=Lv(t);return{priority:1,enabled:!0,compute(i,s,a){s.pointer.set(i.offsetX/s.size.width*2-1,-(i.offsetY/s.size.height)*2+1),s.raycaster.setFromCamera(s.pointer,s.camera)},connected:void 0,handlers:Object.keys(Jl).reduce((i,s)=>({...i,[s]:e(s)}),{}),update:()=>{var i;const{events:s,internal:a}=t.getState();(i=a.lastEvent)!=null&&i.current&&s.handlers&&s.handlers.onPointerMove(a.lastEvent.current)},connect:i=>{var s;const{set:a,events:u}=t.getState();u.disconnect==null||u.disconnect(),a(c=>({events:{...c.events,connected:i}})),Object.entries((s=u.handlers)!=null?s:[]).forEach(([c,p])=>{const[d,v]=Jl[c];i.addEventListener(d,p,{passive:v})})},disconnect:()=>{const{set:i,events:s}=t.getState();if(s.connected){var a;Object.entries((a=s.handlers)!=null?a:[]).forEach(([u,c])=>{if(s&&s.connected instanceof HTMLElement){const[p]=Jl[u];s.connected.removeEventListener(p,c)}}),i(u=>({events:{...u.events,connected:void 0}}))}}}}const mg=P.forwardRef(function({children:e,fallback:i,resize:s,style:a,gl:u,events:c=pg,eventSource:p,eventPrefix:d,shadows:v,linear:h,flat:g,legacy:B,orthographic:C,frameloop:E,dpr:T,performance:x,raycaster:_,camera:M,scene:w,onPointerMissed:F,onCreated:z,...H},j){P.useMemo(()=>Gu(qd),[]);const K=hg(),[J,X]=eg({scroll:!0,debounce:{scroll:50,resize:0},...s}),G=P.useRef(null),q=P.useRef(null);P.useImperativeHandle(j,()=>G.current);const pe=Bh(F),[Me,me]=P.useState(!1),[ke,Te]=P.useState(!1);if(Me)throw Me;if(ke)throw ke;const Q=P.useRef(null);Ri(()=>{const se=G.current;X.width>0&&X.height>0&&se&&(Q.current||(Q.current=Wv(se)),Q.current.configure({gl:u,events:c,shadows:v,linear:h,flat:g,legacy:B,orthographic:C,frameloop:E,dpr:T,performance:x,raycaster:_,camera:M,scene:w,size:X,onPointerMissed:(...ge)=>pe.current==null?void 0:pe.current(...ge),onCreated:ge=>{ge.events.connect==null||ge.events.connect(p?Rv(p)?p.current:p:q.current),d&&ge.setEvents({compute:(le,Be)=>{const Ve=le[d+"X"],Oe=le[d+"Y"];Be.pointer.set(Ve/Be.size.width*2-1,-(Oe/Be.size.height)*2+1),Be.raycaster.setFromCamera(Be.pointer,Be.camera)}}),z==null||z(ge)}}),Q.current.render(P.createElement(K,null,P.createElement(yh,{set:Te},P.createElement(P.Suspense,{fallback:P.createElement(Dv,{set:me})},e)))))}),P.useEffect(()=>{const se=G.current;if(se)return()=>Ih(se)},[]);const ue=p?"none":"auto";return P.createElement("div",Cr({ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ue,...a}},H),P.createElement("div",{ref:J,style:{width:"100%",height:"100%"}},P.createElement("canvas",{ref:G,style:{display:"block"}},i)))}),vg=P.forwardRef(function(e,i){return P.createElement(Ph,null,P.createElement(mg,Cr({},e,{ref:i})))}),Is=new Ot,Lu=new Ot,gg=new Ot;function Ag(t,e,i){const s=Is.setFromMatrixPosition(t.matrixWorld);s.project(e);const a=i.width/2,u=i.height/2;return[s.x*a+a,-(s.y*u)+u]}function Bg(t,e){const i=Is.setFromMatrixPosition(t.matrixWorld),s=Lu.setFromMatrixPosition(e.matrixWorld),a=i.sub(s),u=e.getWorldDirection(gg);return a.angleTo(u)>Math.PI/2}function yg(t,e,i,s){const a=Is.setFromMatrixPosition(t.matrixWorld),u=a.clone();u.project(e),i.setFromCamera(u,e);const c=i.intersectObjects(s,!0);if(c.length){const p=c[0].distance;return a.distanceTo(i.ray.origin)<p}return!0}function Cg(t,e){if(e instanceof oa)return e.zoom;if(e instanceof xs){const i=Is.setFromMatrixPosition(t.matrixWorld),s=Lu.setFromMatrixPosition(e.matrixWorld),a=e.fov*Math.PI/180,u=i.distanceTo(s);return 1/(2*Math.tan(a/2)*u)}else return 1}function Eg(t,e,i){if(e instanceof xs||e instanceof oa){const s=Is.setFromMatrixPosition(t.matrixWorld),a=Lu.setFromMatrixPosition(e.matrixWorld),u=s.distanceTo(a),c=(i[1]-i[0])/(e.far-e.near),p=i[1]-c*e.far;return Math.round(c*u+p)}}const du=t=>Math.abs(t)<1e-10?0:t;function Gh(t,e,i=""){let s="matrix3d(";for(let a=0;a!==16;a++)s+=du(e[a]*t.elements[a])+(a!==15?",":")");return i+s}const Sg=(t=>e=>Gh(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),_g=(t=>(e,i)=>Gh(e,t(i),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function wg(t){return t&&typeof t=="object"&&"current"in t}const xg=P.forwardRef(({children:t,eps:e=.001,style:i,className:s,prepend:a,center:u,fullscreen:c,portal:p,distanceFactor:d,sprite:v=!1,transform:h=!1,occlude:g,onOcclude:B,castShadow:C,receiveShadow:E,material:T,geometry:x,zIndexRange:_=[16777271,0],calculatePosition:M=Ag,as:w="div",wrapperClass:F,pointerEvents:z="auto",...H},j)=>{const{gl:K,camera:J,scene:X,size:G,raycaster:q,events:pe,viewport:Me}=zt(),[me]=P.useState(()=>document.createElement(w)),ke=P.useRef(),Te=P.useRef(null),Q=P.useRef(0),ue=P.useRef([0,0]),se=P.useRef(null),ge=P.useRef(null),le=(p==null?void 0:p.current)||pe.connected||K.domElement.parentNode,Be=P.useRef(null),Ve=P.useRef(!1),Oe=P.useMemo(()=>g&&g!=="blending"||Array.isArray(g)&&g.length&&wg(g[0]),[g]);P.useLayoutEffect(()=>{const ht=K.domElement;g&&g==="blending"?(ht.style.zIndex=`${Math.floor(_[0]/2)}`,ht.style.position="absolute",ht.style.pointerEvents="none"):(ht.style.zIndex=null,ht.style.position=null,ht.style.pointerEvents=null)},[g]),P.useLayoutEffect(()=>{if(Te.current){const ht=ke.current=Gm(me);if(X.updateMatrixWorld(),h)me.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ie=M(Te.current,J,G);me.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ie[0]}px,${Ie[1]}px,0);transform-origin:0 0;`}return le&&(a?le.prepend(me):le.appendChild(me)),()=>{le&&le.removeChild(me),ht.unmount()}}},[le,h]),P.useLayoutEffect(()=>{F&&(me.className=F)},[F]);const Ee=P.useMemo(()=>h?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:u?"translate3d(-50%,-50%,0)":"none",...c&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...i},[i,u,c,G,h]),ct=P.useMemo(()=>({position:"absolute",pointerEvents:z}),[z]);P.useLayoutEffect(()=>{if(Ve.current=!1,h){var ht;(ht=ke.current)==null||ht.render(P.createElement("div",{ref:se,style:Ee},P.createElement("div",{ref:ge,style:ct},P.createElement("div",{ref:j,className:s,style:i,children:t}))))}else{var Ie;(Ie=ke.current)==null||Ie.render(P.createElement("div",{ref:j,style:Ee,className:s,children:t}))}});const Ct=P.useRef(!0);Ts(ht=>{if(Te.current){J.updateMatrixWorld(),Te.current.updateWorldMatrix(!0,!1);const Ie=h?ue.current:M(Te.current,J,G);if(h||Math.abs(Q.current-J.zoom)>e||Math.abs(ue.current[0]-Ie[0])>e||Math.abs(ue.current[1]-Ie[1])>e){const Jt=Bg(Te.current,J);let tt=!1;Oe&&(Array.isArray(g)?tt=g.map(pn=>pn.current):g!=="blending"&&(tt=[X]));const _n=Ct.current;if(tt){const pn=yg(Te.current,J,q,tt);Ct.current=pn&&!Jt}else Ct.current=!Jt;_n!==Ct.current&&(B?B(!Ct.current):me.style.display=Ct.current?"block":"none");const Ln=Math.floor(_[0]/2),Pi=g?Oe?[_[0],Ln]:[Ln-1,0]:_;if(me.style.zIndex=`${Eg(Te.current,J,Pi)}`,h){const[pn,Yr]=[G.width/2,G.height/2],Sr=J.projectionMatrix.elements[5]*Yr,{isOrthographicCamera:wn,top:Gi,left:Ui,bottom:Zr,right:bn}=J,_r=Sg(J.matrixWorldInverse),Oi=wn?`scale(${Sr})translate(${du(-(bn+Ui)/2)}px,${du((Gi+Zr)/2)}px)`:`translateZ(${Sr}px)`;let mn=Te.current.matrixWorld;v&&(mn=J.matrixWorldInverse.clone().transpose().copyPosition(mn).scale(Te.current.scale),mn.elements[3]=mn.elements[7]=mn.elements[11]=0,mn.elements[15]=1),me.style.width=G.width+"px",me.style.height=G.height+"px",me.style.perspective=wn?"":`${Sr}px`,se.current&&ge.current&&(se.current.style.transform=`${Oi}${_r}translate(${pn}px,${Yr}px)`,ge.current.style.transform=_g(mn,1/((d||10)/400)))}else{const pn=d===void 0?1:Cg(Te.current,J)*d;me.style.transform=`translate3d(${Ie[0]}px,${Ie[1]}px,0) scale(${pn})`}ue.current=Ie,Q.current=J.zoom}}if(!Oe&&Be.current&&!Ve.current)if(h){if(se.current){const Ie=se.current.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const{isOrthographicCamera:Jt}=J;if(Jt||x)H.scale&&(Array.isArray(H.scale)?H.scale instanceof Ot?Be.current.scale.copy(H.scale.clone().divideScalar(1)):Be.current.scale.set(1/H.scale[0],1/H.scale[1],1/H.scale[2]):Be.current.scale.setScalar(1/H.scale));else{const tt=(d||10)/400,_n=Ie.clientWidth*tt,Ln=Ie.clientHeight*tt;Be.current.scale.set(_n,Ln,1)}Ve.current=!0}}}else{const Ie=me.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const Jt=1/Me.factor,tt=Ie.clientWidth*Jt,_n=Ie.clientHeight*Jt;Be.current.scale.set(tt,_n,1),Ve.current=!0}Be.current.lookAt(ht.camera.position)}});const qn=P.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return P.createElement("group",Cr({},H,{ref:Te}),g&&!Oe&&P.createElement("mesh",{castShadow:C,receiveShadow:E,ref:Be},x||P.createElement("planeGeometry",null),T||P.createElement("shaderMaterial",{side:kr,vertexShader:qn.vertexShader,fragmentShader:qn.fragmentShader})))});function Mg(t){return function(e){t.forEach(function(i){typeof i=="function"?i(e):i!=null&&(i.current=e)})}}let bu=Ds();const Ce=t=>Rs(t,bu);let Nu=Ds();Ce.write=t=>Rs(t,Nu);let la=Ds();Ce.onStart=t=>Rs(t,la);let ku=Ds();Ce.onFrame=t=>Rs(t,ku);let zu=Ds();Ce.onFinish=t=>Rs(t,zu);let yi=[];Ce.setTimeout=(t,e)=>{let i=Ce.now()+e,s=()=>{let u=yi.findIndex(c=>c.cancel==s);~u&&yi.splice(u,1),mr-=~u?1:0},a={time:i,handler:t,cancel:s};return yi.splice(Uh(i),0,a),mr+=1,Oh(),a};let Uh=t=>~(~yi.findIndex(e=>e.time>t)||~yi.length);Ce.cancel=t=>{la.delete(t),ku.delete(t),zu.delete(t),bu.delete(t),Nu.delete(t)};Ce.sync=t=>{hu=!0,Ce.batchedUpdates(t),hu=!1};Ce.throttle=t=>{let e;function i(){try{t(...e)}finally{e=null}}function s(...a){e=a,Ce.onStart(i)}return s.handler=t,s.cancel=()=>{la.delete(i),e=null},s};let Ju=typeof window<"u"?window.requestAnimationFrame:()=>{};Ce.use=t=>Ju=t;Ce.now=typeof performance<"u"?()=>performance.now():Date.now;Ce.batchedUpdates=t=>t();Ce.catch=console.error;Ce.frameLoop="always";Ce.advance=()=>{Ce.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Lh()};let pr=-1,mr=0,hu=!1;function Rs(t,e){hu?(e.delete(t),t(0)):(e.add(t),Oh())}function Oh(){pr<0&&(pr=0,Ce.frameLoop!=="demand"&&Ju(Hh))}function Tg(){pr=-1}function Hh(){~pr&&(Ju(Hh),Ce.batchedUpdates(Lh))}function Lh(){let t=pr;pr=Ce.now();let e=Uh(pr);if(e&&(bh(yi.splice(0,e),i=>i.handler()),mr-=e),!mr){Tg();return}la.flush(),bu.flush(t?Math.min(64,pr-t):16.667),ku.flush(),Nu.flush(),zu.flush()}function Ds(){let t=new Set,e=t;return{add(i){mr+=e==t&&!t.has(i)?1:0,t.add(i)},delete(i){return mr-=e==t&&t.has(i)?1:0,t.delete(i)},flush(i){e.size&&(t=new Set,mr-=e.size,bh(e,s=>s(i)&&t.add(s)),mr+=t.size,e=t)}}}function bh(t,e){t.forEach(i=>{try{e(i)}catch(s){Ce.catch(s)}})}function pu(){}const Ig=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),ne={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Vn(t,e){if(ne.arr(t)){if(!ne.arr(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return t===e}const Ye=(t,e)=>t.forEach(e);function Yn(t,e,i){if(ne.arr(t)){for(let s=0;s<t.length;s++)e.call(i,t[s],`${s}`);return}for(const s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s)}const dn=t=>ne.und(t)?[]:ne.arr(t)?t:[t];function ps(t,e){if(t.size){const i=Array.from(t);t.clear(),Ye(i,e)}}const hs=(t,...e)=>ps(t,i=>i(...e)),Ku=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let ju,Nh,Ar=null,kh=!1,Qu=pu;const Rg=t=>{t.to&&(Nh=t.to),t.now&&(Ce.now=t.now),t.colors!==void 0&&(Ar=t.colors),t.skipAnimation!=null&&(kh=t.skipAnimation),t.createStringInterpolator&&(ju=t.createStringInterpolator),t.requestAnimationFrame&&Ce.use(t.requestAnimationFrame),t.batchedUpdates&&(Ce.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Qu=t.willAdvance),t.frameLoop&&(Ce.frameLoop=t.frameLoop)};var Hn=Object.freeze({__proto__:null,get createStringInterpolator(){return ju},get to(){return Nh},get colors(){return Ar},get skipAnimation(){return kh},get willAdvance(){return Qu},assign:Rg});const ms=new Set;let cn=[],Kl=[],Zo=0;const ua={get idle(){return!ms.size&&!cn.length},start(t){Zo>t.priority?(ms.add(t),Ce.onStart(Dg)):(zh(t),Ce(mu))},advance:mu,sort(t){if(Zo)Ce.onFrame(()=>ua.sort(t));else{const e=cn.indexOf(t);~e&&(cn.splice(e,1),Jh(t))}},clear(){cn=[],ms.clear()}};function Dg(){ms.forEach(zh),ms.clear(),Ce(mu)}function zh(t){cn.includes(t)||Jh(t)}function Jh(t){cn.splice(Fg(cn,e=>e.priority>t.priority),0,t)}function mu(t){const e=Kl;for(let i=0;i<cn.length;i++){const s=cn[i];Zo=s.priority,s.idle||(Qu(s),s.advance(t),s.idle||e.push(s))}return Zo=0,Kl=cn,Kl.length=0,cn=e,cn.length>0}function Fg(t,e){const i=t.findIndex(e);return i<0?t.length:i}const Pg=(t,e,i)=>Math.min(Math.max(i,t),e),Gg={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},En="[-+]?\\d*\\.?\\d+",qo=En+"%";function ca(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const Ug=new RegExp("rgb"+ca(En,En,En)),Og=new RegExp("rgba"+ca(En,En,En,En)),Hg=new RegExp("hsl"+ca(En,qo,qo)),Lg=new RegExp("hsla"+ca(En,qo,qo,En)),bg=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ng=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,kg=/^#([0-9a-fA-F]{6})$/,zg=/^#([0-9a-fA-F]{8})$/;function Jg(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=kg.exec(t))?parseInt(e[1]+"ff",16)>>>0:Ar&&Ar[t]!==void 0?Ar[t]:(e=Ug.exec(t))?(di(e[1])<<24|di(e[2])<<16|di(e[3])<<8|255)>>>0:(e=Og.exec(t))?(di(e[1])<<24|di(e[2])<<16|di(e[3])<<8|nd(e[4]))>>>0:(e=bg.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=zg.exec(t))?parseInt(e[1],16)>>>0:(e=Ng.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Hg.exec(t))?(ed(td(e[1]),ko(e[2]),ko(e[3]))|255)>>>0:(e=Lg.exec(t))?(ed(td(e[1]),ko(e[2]),ko(e[3]))|nd(e[4]))>>>0:null}function jl(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function ed(t,e,i){const s=i<.5?i*(1+e):i+e-i*e,a=2*i-s,u=jl(a,s,t+1/3),c=jl(a,s,t),p=jl(a,s,t-1/3);return Math.round(u*255)<<24|Math.round(c*255)<<16|Math.round(p*255)<<8}function di(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function td(t){return(parseFloat(t)%360+360)%360/360}function nd(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function ko(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function rd(t){let e=Jg(t);if(e===null)return t;e=e||0;let i=(e&4278190080)>>>24,s=(e&16711680)>>>16,a=(e&65280)>>>8,u=(e&255)/255;return`rgba(${i}, ${s}, ${a}, ${u})`}const Cs=(t,e,i)=>{if(ne.fun(t))return t;if(ne.arr(t))return Cs({range:t,output:e,extrapolate:i});if(ne.str(t.output[0]))return ju(t);const s=t,a=s.output,u=s.range||[0,1],c=s.extrapolateLeft||s.extrapolate||"extend",p=s.extrapolateRight||s.extrapolate||"extend",d=s.easing||(v=>v);return v=>{const h=jg(v,u);return Kg(v,u[h],u[h+1],a[h],a[h+1],d,c,p,s.map)}};function Kg(t,e,i,s,a,u,c,p,d){let v=d?d(t):t;if(v<e){if(c==="identity")return v;c==="clamp"&&(v=e)}if(v>i){if(p==="identity")return v;p==="clamp"&&(v=i)}return s===a?s:e===i?t<=e?s:a:(e===-1/0?v=-v:i===1/0?v=v-e:v=(v-e)/(i-e),v=u(v),s===-1/0?v=-v:a===1/0?v=v+s:v=v*(a-s)+s,v)}function jg(t,e){for(var i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1}const Qg=(t,e="end")=>i=>{i=e==="end"?Math.min(i,.999):Math.max(i,.001);const s=i*t,a=e==="end"?Math.floor(s):Math.ceil(s);return Pg(0,1,a/t)},$o=1.70158,zo=$o*1.525,id=$o+1,sd=2*Math.PI/3,od=2*Math.PI/4.5,Jo=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,Vg={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>id*t*t*t-$o*t*t,easeOutBack:t=>1+id*Math.pow(t-1,3)+$o*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((zo+1)*2*t-zo)/2:(Math.pow(2*t-2,2)*((zo+1)*(t*2-2)+zo)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*sd),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*sd)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*od))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*od)/2+1,easeInBounce:t=>1-Jo(1-t),easeOutBounce:Jo,easeInOutBounce:t=>t<.5?(1-Jo(1-2*t))/2:(1+Jo(2*t-1))/2,steps:Qg};function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},vu.apply(this,arguments)}const wi=Symbol.for("FluidValue.get"),jr=Symbol.for("FluidValue.observers"),Un=t=>!!(t&&t[wi]),ln=t=>t&&t[wi]?t[wi]():t,ad=t=>t[jr]||null;function Xg(t,e){t.eventObserved?t.eventObserved(e):t(e)}function ea(t,e){let i=t[jr];i&&i.forEach(s=>{Xg(s,e)})}class Wg{constructor(e){if(this[wi]=void 0,this[jr]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Yg(this,e)}}const Yg=(t,e)=>Kh(t,wi,e);function Fs(t,e){if(t[wi]){let i=t[jr];i||Kh(t,jr,i=new Set),i.has(e)||(i.add(e),t.observerAdded&&t.observerAdded(i.size,e))}return e}function ta(t,e){let i=t[jr];if(i&&i.has(e)){const s=i.size-1;s?i.delete(e):t[jr]=null,t.observerRemoved&&t.observerRemoved(s,e)}}const Kh=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),Vo=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Zg=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ld=new RegExp(`(${Vo.source})(%|[a-z]+)`,"i"),qg=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,fa=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,jh=t=>{const[e,i]=$g(t);if(!e||Ku())return t;const s=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(s)return s.trim();if(i&&i.startsWith("--")){const a=window.getComputedStyle(document.documentElement).getPropertyValue(i);return a||t}else{if(i&&fa.test(i))return jh(i);if(i)return i}return t},$g=t=>{const e=fa.exec(t);if(!e)return[,];const[,i,s]=e;return[i,s]};let Ql;const eA=(t,e,i,s,a)=>`rgba(${Math.round(e)}, ${Math.round(i)}, ${Math.round(s)}, ${a})`,Qh=t=>{Ql||(Ql=Ar?new RegExp(`(${Object.keys(Ar).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(u=>ln(u).replace(fa,jh).replace(Zg,rd).replace(Ql,rd)),i=e.map(u=>u.match(Vo).map(Number)),a=i[0].map((u,c)=>i.map(p=>{if(!(c in p))throw Error('The arity of each "output" value must be equal');return p[c]})).map(u=>Cs(vu({},t,{output:u})));return u=>{var c;const p=!ld.test(e[0])&&((c=e.find(v=>ld.test(v)))==null?void 0:c.replace(Vo,""));let d=0;return e[0].replace(Vo,()=>`${a[d++](u)}${p||""}`).replace(qg,eA)}},Vu="react-spring: ",Vh=t=>{const e=t;let i=!1;if(typeof e!="function")throw new TypeError(`${Vu}once requires a function parameter`);return(...s)=>{i||(e(...s),i=!0)}},tA=Vh(console.warn);function nA(){tA(`${Vu}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const rA=Vh(console.warn);function iA(){rA(`${Vu}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function da(t){return ne.str(t)&&(t[0]=="#"||/\d/.test(t)||!Ku()&&fa.test(t)||t in(Ar||{}))}const Xu=Ku()?P.useEffect:P.useLayoutEffect,sA=()=>{const t=P.useRef(!1);return Xu(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Xh(){const t=P.useState()[1],e=sA();return()=>{e.current&&t(Math.random())}}function oA(t,e){const[i]=P.useState(()=>({inputs:e,result:t()})),s=P.useRef(),a=s.current;let u=a;return u?e&&u.inputs&&aA(e,u.inputs)||(u={inputs:e,result:t()}):u=i,P.useEffect(()=>{s.current=u,a==i&&(i.inputs=i.result=void 0)},[u]),u.result}function aA(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const Wh=t=>P.useEffect(t,lA),lA=[];function ud(t){const e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}const Es=Symbol.for("Animated:node"),uA=t=>!!t&&t[Es]===t,Gn=t=>t&&t[Es],Wu=(t,e)=>Ig(t,Es,e),ha=t=>t&&t[Es]&&t[Es].getPayload();class Yh{constructor(){this.payload=void 0,Wu(this,this)}getPayload(){return this.payload||[]}}class Fi extends Yh{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,ne.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Fi(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,i){return ne.num(e)&&(this.lastPosition=e,i&&(e=Math.round(e/i)*i,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ne.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class xi extends Fi{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Cs({output:[e,e]})}static create(e){return new xi(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ne.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Cs({output:[this.getValue(),e]})),this._value=0,super.reset()}}const na={dependencies:null};class Yu extends Yh{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const i={};return Yn(this.source,(s,a)=>{uA(s)?i[a]=s.getValue(e):Un(s)?i[a]=ln(s):e||(i[a]=s)}),i}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Ye(this.payload,e=>e.reset())}_makePayload(e){if(e){const i=new Set;return Yn(e,this._addToPayload,i),Array.from(i)}}_addToPayload(e){na.dependencies&&Un(e)&&na.dependencies.add(e);const i=ha(e);i&&Ye(i,s=>this.add(s))}}class Zu extends Yu{constructor(e){super(e)}static create(e){return new Zu(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const i=this.getPayload();return e.length==i.length?i.map((s,a)=>s.setValue(e[a])).some(Boolean):(super.setValue(e.map(cA)),!0)}}function cA(t){return(da(t)?xi:Fi).create(t)}function gu(t){const e=Gn(t);return e?e.constructor:ne.arr(t)?Zu:da(t)?xi:Fi}function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ra.apply(this,arguments)}const cd=(t,e)=>{const i=!ne.fun(t)||t.prototype&&t.prototype.isReactComponent;return P.forwardRef((s,a)=>{const u=P.useRef(null),c=i&&P.useCallback(E=>{u.current=hA(a,E)},[a]),[p,d]=dA(s,e),v=Xh(),h=()=>{const E=u.current;if(i&&!E)return;(E?e.applyAnimatedValues(E,p.getValue(!0)):!1)===!1&&v()},g=new fA(h,d),B=P.useRef();Xu(()=>(B.current=g,Ye(d,E=>Fs(E,g)),()=>{B.current&&(Ye(B.current.deps,E=>ta(E,B.current)),Ce.cancel(B.current.update))})),P.useEffect(h,[]),Wh(()=>()=>{const E=B.current;Ye(E.deps,T=>ta(T,E))});const C=e.getComponentProps(p.getValue());return P.createElement(t,ra({},C,{ref:c}))})};class fA{constructor(e,i){this.update=e,this.deps=i}eventObserved(e){e.type=="change"&&Ce.write(this.update)}}function dA(t,e){const i=new Set;return na.dependencies=i,t.style&&(t=ra({},t,{style:e.createAnimatedStyle(t.style)})),t=new Yu(t),na.dependencies=null,[t,i]}function hA(t,e){return t&&(ne.fun(t)?t(e):t.current=e),e}const fd=Symbol.for("AnimatedComponent"),pA=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:i=a=>new Yu(a),getComponentProps:s=a=>a}={})=>{const a={applyAnimatedValues:e,createAnimatedStyle:i,getComponentProps:s},u=c=>{const p=dd(c)||"Anonymous";return ne.str(c)?c=u[c]||(u[c]=cd(c,a)):c=c[fd]||(c[fd]=cd(c,a)),c.displayName=`Animated(${p})`,c};return Yn(t,(c,p)=>{ne.arr(t)&&(p=dd(c)),u[p]=u(c)}),{animated:u}},dd=t=>ne.str(t)?t:t&&ne.str(t.displayName)?t.displayName:ne.fun(t)&&t.name||null;function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Mt.apply(this,arguments)}function Nr(t,...e){return ne.fun(t)?t(...e):t}const vs=(t,e)=>t===!0||!!(e&&t&&(ne.fun(t)?t(e):dn(t).includes(e))),Zh=(t,e)=>ne.obj(t)?e&&t[e]:t,qh=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,mA=t=>t,qu=(t,e=mA)=>{let i=vA;t.default&&t.default!==!0&&(t=t.default,i=Object.keys(t));const s={};for(const a of i){const u=e(t[a],a);ne.und(u)||(s[a]=u)}return s},vA=["config","onProps","onStart","onChange","onPause","onResume","onRest"],gA={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function AA(t){const e={};let i=0;if(Yn(t,(s,a)=>{gA[a]||(e[a]=s,i++)}),i)return e}function $h(t){const e=AA(t);if(e){const i={to:e};return Yn(t,(s,a)=>a in e||(i[a]=s)),i}return Mt({},t)}function Ss(t){return t=ln(t),ne.arr(t)?t.map(Ss):da(t)?Hn.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function BA(t){for(const e in t)return!0;return!1}function Au(t){return ne.fun(t)||ne.arr(t)&&ne.obj(t[0])}function yA(t,e){var i;(i=t.ref)==null||i.delete(t),e==null||e.delete(t)}function CA(t,e){if(e&&t.ref!==e){var i;(i=t.ref)==null||i.delete(t),e.add(t),t.ref=e}}const EA={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Bu=Mt({},EA.default,{mass:1,damping:1,easing:Vg.linear,clamp:!1});class SA{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Bu)}}function _A(t,e,i){i&&(i=Mt({},i),hd(i,e),e=Mt({},i,e)),hd(t,e),Object.assign(t,e);for(const c in Bu)t[c]==null&&(t[c]=Bu[c]);let{mass:s,frequency:a,damping:u}=t;return ne.und(a)||(a<.01&&(a=.01),u<0&&(u=0),t.tension=Math.pow(2*Math.PI/a,2)*s,t.friction=4*Math.PI*u*s/a),t}function hd(t,e){if(!ne.und(e.decay))t.duration=void 0;else{const i=!ne.und(e.tension)||!ne.und(e.friction);(i||!ne.und(e.frequency)||!ne.und(e.damping)||!ne.und(e.mass))&&(t.duration=void 0,t.decay=void 0),i&&(t.frequency=void 0)}}const pd=[];class wA{constructor(){this.changed=!1,this.values=pd,this.toValues=null,this.fromValues=pd,this.to=void 0,this.from=void 0,this.config=new SA,this.immediate=!1}}function ep(t,{key:e,props:i,defaultProps:s,state:a,actions:u}){return new Promise((c,p)=>{var d;let v,h,g=vs((d=i.cancel)!=null?d:s==null?void 0:s.cancel,e);if(g)E();else{ne.und(i.pause)||(a.paused=vs(i.pause,e));let T=s==null?void 0:s.pause;T!==!0&&(T=a.paused||vs(T,e)),v=Nr(i.delay||0,e),T?(a.resumeQueue.add(C),u.pause()):(u.resume(),C())}function B(){a.resumeQueue.add(C),a.timeouts.delete(h),h.cancel(),v=h.time-Ce.now()}function C(){v>0&&!Hn.skipAnimation?(a.delayed=!0,h=Ce.setTimeout(E,v),a.pauseQueue.add(B),a.timeouts.add(h)):E()}function E(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(B),a.timeouts.delete(h),t<=(a.cancelId||0)&&(g=!0);try{u.start(Mt({},i,{callId:t,cancel:g}),c)}catch(T){p(T)}}})}const $u=(t,e)=>e.length==1?e[0]:e.some(i=>i.cancelled)?Ci(t.get()):e.every(i=>i.noop)?tp(t.get()):yn(t.get(),e.every(i=>i.finished)),tp=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),yn=(t,e,i=!1)=>({value:t,finished:e,cancelled:i}),Ci=t=>({value:t,cancelled:!0,finished:!1});function np(t,e,i,s){const{callId:a,parentId:u,onRest:c}=e,{asyncTo:p,promise:d}=i;return!u&&t===p&&!e.reset?d:i.promise=(async()=>{i.asyncId=a,i.asyncTo=t;const v=qu(e,(x,_)=>_==="onRest"?void 0:x);let h,g;const B=new Promise((x,_)=>(h=x,g=_)),C=x=>{const _=a<=(i.cancelId||0)&&Ci(s)||a!==i.asyncId&&yn(s,!1);if(_)throw x.result=_,g(x),x},E=(x,_)=>{const M=new md,w=new vd;return(async()=>{if(Hn.skipAnimation)throw _s(i),w.result=yn(s,!1),g(w),w;C(M);const F=ne.obj(x)?Mt({},x):Mt({},_,{to:x});F.parentId=a,Yn(v,(H,j)=>{ne.und(F[j])&&(F[j]=H)});const z=await s.start(F);return C(M),i.paused&&await new Promise(H=>{i.resumeQueue.add(H)}),z})()};let T;if(Hn.skipAnimation)return _s(i),yn(s,!1);try{let x;ne.arr(t)?x=(async _=>{for(const M of _)await E(M)})(t):x=Promise.resolve(t(E,s.stop.bind(s))),await Promise.all([x.then(h),B]),T=yn(s.get(),!0,!1)}catch(x){if(x instanceof md)T=x.result;else if(x instanceof vd)T=x.result;else throw x}finally{a==i.asyncId&&(i.asyncId=u,i.asyncTo=u?p:void 0,i.promise=u?d:void 0)}return ne.fun(c)&&Ce.batchedUpdates(()=>{c(T,s,s.item)}),T})()}function _s(t,e){ps(t.timeouts,i=>i.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class md extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class vd extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const yu=t=>t instanceof ec;let xA=1;class ec extends Wg{constructor(...e){super(...e),this.id=xA++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Gn(this);return e&&e.getValue()}to(...e){return Hn.to(this,e)}interpolate(...e){return nA(),Hn.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,i=!1){ea(this,{type:"change",parent:this,value:e,idle:i})}_onPriorityChange(e){this.idle||ua.sort(this),ea(this,{type:"priority",parent:this,priority:e})}}const Qr=Symbol.for("SpringPhase"),rp=1,Cu=2,Eu=4,Vl=t=>(t[Qr]&rp)>0,lr=t=>(t[Qr]&Cu)>0,ss=t=>(t[Qr]&Eu)>0,gd=(t,e)=>e?t[Qr]|=Cu|rp:t[Qr]&=~Cu,Ad=(t,e)=>e?t[Qr]|=Eu:t[Qr]&=~Eu;class MA extends ec{constructor(e,i){if(super(),this.key=void 0,this.animation=new wA,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ne.und(e)||!ne.und(i)){const s=ne.obj(e)?Mt({},e):Mt({},i,{from:e});ne.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(lr(this)||this._state.asyncTo)||ss(this)}get goal(){return ln(this.animation.to)}get velocity(){const e=Gn(this);return e instanceof Fi?e.lastVelocity||0:e.getPayload().map(i=>i.lastVelocity||0)}get hasAnimated(){return Vl(this)}get isAnimating(){return lr(this)}get isPaused(){return ss(this)}get isDelayed(){return this._state.delayed}advance(e){let i=!0,s=!1;const a=this.animation;let{config:u,toValues:c}=a;const p=ha(a.to);!p&&Un(a.to)&&(c=dn(ln(a.to))),a.values.forEach((h,g)=>{if(h.done)return;const B=h.constructor==xi?1:p?p[g].lastPosition:c[g];let C=a.immediate,E=B;if(!C){if(E=h.lastPosition,u.tension<=0){h.done=!0;return}let T=h.elapsedTime+=e;const x=a.fromValues[g],_=h.v0!=null?h.v0:h.v0=ne.arr(u.velocity)?u.velocity[g]:u.velocity;let M;const w=u.precision||(x==B?.005:Math.min(1,Math.abs(B-x)*.001));if(ne.und(u.duration))if(u.decay){const F=u.decay===!0?.998:u.decay,z=Math.exp(-(1-F)*T);E=x+_/(1-F)*(1-z),C=Math.abs(h.lastPosition-E)<=w,M=_*z}else{M=h.lastVelocity==null?_:h.lastVelocity;const F=u.restVelocity||w/10,z=u.clamp?0:u.bounce,H=!ne.und(z),j=x==B?h.v0>0:x<B;let K,J=!1;const X=1,G=Math.ceil(e/X);for(let q=0;q<G&&(K=Math.abs(M)>F,!(!K&&(C=Math.abs(B-E)<=w,C)));++q){H&&(J=E==B||E>B==j,J&&(M=-M*z,E=B));const pe=-u.tension*1e-6*(E-B),Me=-u.friction*.001*M,me=(pe+Me)/u.mass;M=M+me*X,E=E+M*X}}else{let F=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,h.durationProgress>0&&(h.elapsedTime=u.duration*h.durationProgress,T=h.elapsedTime+=e)),F=(u.progress||0)+T/this._memoizedDuration,F=F>1?1:F<0?0:F,h.durationProgress=F),E=x+u.easing(F)*(B-x),M=(E-h.lastPosition)/e,C=F==1}h.lastVelocity=M,Number.isNaN(E)&&(console.warn("Got NaN while animating:",this),C=!0)}p&&!p[g].done&&(C=!1),C?h.done=!0:i=!1,h.setValue(E,u.round)&&(s=!0)});const d=Gn(this),v=d.getValue();if(i){const h=ln(a.to);(v!==h||s)&&!u.decay?(d.setValue(h),this._onChange(h)):s&&u.decay&&this._onChange(v),this._stop()}else s&&this._onChange(v)}set(e){return Ce.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(lr(this)){const{to:e,config:i}=this.animation;Ce.batchedUpdates(()=>{this._onStart(),i.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,i){let s;return ne.und(e)?(s=this.queue||[],this.queue=[]):s=[ne.obj(e)?e:Mt({},i,{to:e})],Promise.all(s.map(a=>this._update(a))).then(a=>$u(this,a))}stop(e){const{to:i}=this.animation;return this._focus(this.get()),_s(this._state,e&&this._lastCallId),Ce.batchedUpdates(()=>this._stop(i,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const i=this.key||"";let{to:s,from:a}=e;s=ne.obj(s)?s[i]:s,(s==null||Au(s))&&(s=void 0),a=ne.obj(a)?a[i]:a,a==null&&(a=void 0);const u={to:s,from:a};return Vl(this)||(e.reverse&&([s,a]=[a,s]),a=ln(a),ne.und(a)?Gn(this)||this._set(s):this._set(a)),u}_update(e,i){let s=Mt({},e);const{key:a,defaultProps:u}=this;s.default&&Object.assign(u,qu(s,(d,v)=>/^on/.test(v)?Zh(d,a):d)),yd(this,s,"onProps"),as(this,"onProps",s,this);const c=this._prepareNode(s);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const p=this._state;return ep(++this._lastCallId,{key:a,props:s,defaultProps:u,state:p,actions:{pause:()=>{ss(this)||(Ad(this,!0),hs(p.pauseQueue),as(this,"onPause",yn(this,os(this,this.animation.to)),this))},resume:()=>{ss(this)&&(Ad(this,!1),lr(this)&&this._resume(),hs(p.resumeQueue),as(this,"onResume",yn(this,os(this,this.animation.to)),this))},start:this._merge.bind(this,c)}}).then(d=>{if(s.loop&&d.finished&&!(i&&d.noop)){const v=ip(s);if(v)return this._update(v,!0)}return d})}_merge(e,i,s){if(i.cancel)return this.stop(!0),s(Ci(this));const a=!ne.und(e.to),u=!ne.und(e.from);if(a||u)if(i.callId>this._lastToId)this._lastToId=i.callId;else return s(Ci(this));const{key:c,defaultProps:p,animation:d}=this,{to:v,from:h}=d;let{to:g=v,from:B=h}=e;u&&!a&&(!i.default||ne.und(g))&&(g=B),i.reverse&&([g,B]=[B,g]);const C=!Vn(B,h);C&&(d.from=B),B=ln(B);const E=!Vn(g,v);E&&this._focus(g);const T=Au(i.to),{config:x}=d,{decay:_,velocity:M}=x;(a||u)&&(x.velocity=0),i.config&&!T&&_A(x,Nr(i.config,c),i.config!==p.config?Nr(p.config,c):void 0);let w=Gn(this);if(!w||ne.und(g))return s(yn(this,!0));const F=ne.und(i.reset)?u&&!i.default:!ne.und(B)&&vs(i.reset,c),z=F?B:this.get(),H=Ss(g),j=ne.num(H)||ne.arr(H)||da(H),K=!T&&(!j||vs(p.immediate||i.immediate,c));if(E){const q=gu(g);if(q!==w.constructor)if(K)w=this._set(H);else throw Error(`Cannot animate between ${w.constructor.name} and ${q.name}, as the "to" prop suggests`)}const J=w.constructor;let X=Un(g),G=!1;if(!X){const q=F||!Vl(this)&&C;(E||q)&&(G=Vn(Ss(z),H),X=!G),(!Vn(d.immediate,K)&&!K||!Vn(x.decay,_)||!Vn(x.velocity,M))&&(X=!0)}if(G&&lr(this)&&(d.changed&&!F?X=!0:X||this._stop(v)),!T&&((X||Un(v))&&(d.values=w.getPayload(),d.toValues=Un(g)?null:J==xi?[1]:dn(H)),d.immediate!=K&&(d.immediate=K,!K&&!F&&this._set(v)),X)){const{onRest:q}=d;Ye(IA,Me=>yd(this,i,Me));const pe=yn(this,os(this,v));hs(this._pendingCalls,pe),this._pendingCalls.add(s),d.changed&&Ce.batchedUpdates(()=>{d.changed=!F,q==null||q(pe,this),F?Nr(p.onRest,pe):d.onStart==null||d.onStart(pe,this)})}F&&this._set(z),T?s(np(i.to,i,this._state,this)):X?this._start():lr(this)&&!E?this._pendingCalls.add(s):s(tp(z))}_focus(e){const i=this.animation;e!==i.to&&(ad(this)&&this._detach(),i.to=e,ad(this)&&this._attach())}_attach(){let e=0;const{to:i}=this.animation;Un(i)&&(Fs(i,this),yu(i)&&(e=i.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Un(e)&&ta(e,this)}_set(e,i=!0){const s=ln(e);if(!ne.und(s)){const a=Gn(this);if(!a||!Vn(s,a.getValue())){const u=gu(s);!a||a.constructor!=u?Wu(this,u.create(s)):a.setValue(s),a&&Ce.batchedUpdates(()=>{this._onChange(s,i)})}}return Gn(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,as(this,"onStart",yn(this,os(this,e.to)),this))}_onChange(e,i){i||(this._onStart(),Nr(this.animation.onChange,e,this)),Nr(this.defaultProps.onChange,e,this),super._onChange(e,i)}_start(){const e=this.animation;Gn(this).reset(ln(e.to)),e.immediate||(e.fromValues=e.values.map(i=>i.lastPosition)),lr(this)||(gd(this,!0),ss(this)||this._resume())}_resume(){Hn.skipAnimation?this.finish():ua.start(this)}_stop(e,i){if(lr(this)){gd(this,!1);const s=this.animation;Ye(s.values,u=>{u.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),ea(this,{type:"idle",parent:this});const a=i?Ci(this.get()):yn(this.get(),os(this,e??s.to));hs(this._pendingCalls,a),s.changed&&(s.changed=!1,as(this,"onRest",a,this))}}}function os(t,e){const i=Ss(e),s=Ss(t.get());return Vn(s,i)}function ip(t,e=t.loop,i=t.to){let s=Nr(e);if(s){const a=s!==!0&&$h(s),u=(a||t).reverse,c=!a||a.reset;return ws(Mt({},t,{loop:e,default:!1,pause:void 0,to:!u||Au(i)?i:void 0,from:c?t.from:void 0,reset:c},a))}}function ws(t){const{to:e,from:i}=t=$h(t),s=new Set;return ne.obj(e)&&Bd(e,s),ne.obj(i)&&Bd(i,s),t.keys=s.size?Array.from(s):null,t}function TA(t){const e=ws(t);return ne.und(e.default)&&(e.default=qu(e)),e}function Bd(t,e){Yn(t,(i,s)=>i!=null&&e.add(s))}const IA=["onStart","onRest","onChange","onPause","onResume"];function yd(t,e,i){t.animation[i]=e[i]!==qh(e,i)?Zh(e[i],t.key):void 0}function as(t,e,...i){var s,a,u,c;(s=(a=t.animation)[e])==null||s.call(a,...i),(u=(c=t.defaultProps)[e])==null||u.call(c,...i)}const RA=["onStart","onChange","onRest"];let DA=1,FA=class{constructor(e,i){this.id=DA++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),e&&this.start(Mt({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((i,s)=>e[s]=i.get()),e}set(e){for(const i in e){const s=e[i];ne.und(s)||this.springs[i].set(s)}}update(e){return e&&this.queue.push(ws(e)),this}start(e){let{queue:i}=this;return e?i=dn(e).map(ws):this.queue=[],this._flush?this._flush(this,i):(up(this,i),Su(this,i))}stop(e,i){if(e!==!!e&&(i=e),i){const s=this.springs;Ye(dn(i),a=>s[a].stop(!!e))}else _s(this._state,this._lastAsyncId),this.each(s=>s.stop(!!e));return this}pause(e){if(ne.und(e))this.start({pause:!0});else{const i=this.springs;Ye(dn(e),s=>i[s].pause())}return this}resume(e){if(ne.und(e))this.start({pause:!1});else{const i=this.springs;Ye(dn(e),s=>i[s].resume())}return this}each(e){Yn(this.springs,e)}_onFrame(){const{onStart:e,onChange:i,onRest:s}=this._events,a=this._active.size>0,u=this._changed.size>0;(a&&!this._started||u&&!this._started)&&(this._started=!0,ps(e,([d,v])=>{v.value=this.get(),d(v,this,this._item)}));const c=!a&&this._started,p=u||c&&s.size?this.get():null;u&&i.size&&ps(i,([d,v])=>{v.value=p,d(v,this,this._item)}),c&&(this._started=!1,ps(s,([d,v])=>{v.value=p,d(v,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ce.onFrame(this._onFrame)}};function Su(t,e){return Promise.all(e.map(i=>sp(t,i))).then(i=>$u(t,i))}async function sp(t,e,i){const{keys:s,to:a,from:u,loop:c,onRest:p,onResolve:d}=e,v=ne.obj(e.default)&&e.default;c&&(e.loop=!1),a===!1&&(e.to=null),u===!1&&(e.from=null);const h=ne.arr(a)||ne.fun(a)?a:void 0;h?(e.to=void 0,e.onRest=void 0,v&&(v.onRest=void 0)):Ye(RA,T=>{const x=e[T];if(ne.fun(x)){const _=t._events[T];e[T]=({finished:M,cancelled:w})=>{const F=_.get(x);F?(M||(F.finished=!1),w&&(F.cancelled=!0)):_.set(x,{value:null,finished:M||!1,cancelled:w||!1})},v&&(v[T]=e[T])}});const g=t._state;e.pause===!g.paused?(g.paused=e.pause,hs(e.pause?g.pauseQueue:g.resumeQueue)):g.paused&&(e.pause=!0);const B=(s||Object.keys(t.springs)).map(T=>t.springs[T].start(e)),C=e.cancel===!0||qh(e,"cancel")===!0;(h||C&&g.asyncId)&&B.push(ep(++t._lastAsyncId,{props:e,state:g,actions:{pause:pu,resume:pu,start(T,x){C?(_s(g,t._lastAsyncId),x(Ci(t))):(T.onRest=p,x(np(h,T,g,t)))}}})),g.paused&&await new Promise(T=>{g.resumeQueue.add(T)});const E=$u(t,await Promise.all(B));if(c&&E.finished&&!(i&&E.noop)){const T=ip(e,c,a);if(T)return up(t,[T]),sp(t,T,!0)}return d&&Ce.batchedUpdates(()=>d(E,t,t.item)),E}function Cd(t,e){const i=Mt({},t.springs);return e&&Ye(dn(e),s=>{ne.und(s.keys)&&(s=ws(s)),ne.obj(s.to)||(s=Mt({},s,{to:void 0})),lp(i,s,a=>ap(a))}),op(t,i),i}function op(t,e){Yn(e,(i,s)=>{t.springs[s]||(t.springs[s]=i,Fs(i,t))})}function ap(t,e){const i=new MA;return i.key=t,e&&Fs(i,e),i}function lp(t,e,i){e.keys&&Ye(e.keys,s=>{(t[s]||(t[s]=i(s)))._prepareNode(e)})}function up(t,e){Ye(e,i=>{lp(t.springs,i,s=>ap(s,t))})}function PA(t,e){if(t==null)return{};var i={},s=Object.keys(t),a,u;for(u=0;u<s.length;u++)a=s[u],!(e.indexOf(a)>=0)&&(i[a]=t[a]);return i}const GA=["children"],pa=t=>{let{children:e}=t,i=PA(t,GA);const s=P.useContext(ia),a=i.pause||!!s.pause,u=i.immediate||!!s.immediate;i=oA(()=>({pause:a,immediate:u}),[a,u]);const{Provider:c}=ia;return P.createElement(c,{value:i},e)},ia=UA(pa,{});pa.Provider=ia.Provider;pa.Consumer=ia.Consumer;function UA(t,e){return Object.assign(t,P.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const OA=()=>{const t=[],e=function(a){iA();const u=[];return Ye(t,(c,p)=>{if(ne.und(a))u.push(c.start());else{const d=i(a,c,p);d&&u.push(c.start(d))}}),u};e.current=t,e.add=function(s){t.includes(s)||t.push(s)},e.delete=function(s){const a=t.indexOf(s);~a&&t.splice(a,1)},e.pause=function(){return Ye(t,s=>s.pause(...arguments)),this},e.resume=function(){return Ye(t,s=>s.resume(...arguments)),this},e.set=function(s){Ye(t,a=>a.set(s))},e.start=function(s){const a=[];return Ye(t,(u,c)=>{if(ne.und(s))a.push(u.start());else{const p=this._getProps(s,u,c);p&&a.push(u.start(p))}}),a},e.stop=function(){return Ye(t,s=>s.stop(...arguments)),this},e.update=function(s){return Ye(t,(a,u)=>a.update(this._getProps(s,a,u))),this};const i=function(a,u,c){return ne.fun(a)?a(c,u):a};return e._getProps=i,e};function HA(t,e,i){const s=ne.fun(e)&&e;s&&!i&&(i=[]);const a=P.useMemo(()=>s||arguments.length==3?OA():void 0,[]),u=P.useRef(0),c=Xh(),p=P.useMemo(()=>({ctrls:[],queue:[],flush(_,M){const w=Cd(_,M);return u.current>0&&!p.queue.length&&!Object.keys(w).some(z=>!_.springs[z])?Su(_,M):new Promise(z=>{op(_,w),p.queue.push(()=>{z(Su(_,M))}),c()})}}),[]),d=P.useRef([...p.ctrls]),v=[],h=ud(t)||0;P.useMemo(()=>{Ye(d.current.slice(t,h),_=>{yA(_,a),_.stop(!0)}),d.current.length=t,g(h,t)},[t]),P.useMemo(()=>{g(0,Math.min(h,t))},i);function g(_,M){for(let w=_;w<M;w++){const F=d.current[w]||(d.current[w]=new FA(null,p.flush)),z=s?s(w,F):e[w];z&&(v[w]=TA(z))}}const B=d.current.map((_,M)=>Cd(_,v[M])),C=P.useContext(pa),E=ud(C),T=C!==E&&BA(C);Xu(()=>{u.current++,p.ctrls=d.current;const{queue:_}=p;_.length&&(p.queue=[],Ye(_,M=>M())),Ye(d.current,(M,w)=>{a==null||a.add(M),T&&M.start({default:C});const F=v[w];F&&(CA(M,F.ref),M.ref?M.queue.push(F):M.start(F))})}),Wh(()=>()=>{Ye(p.ctrls,_=>_.stop(!0))});const x=B.map(_=>Mt({},_));return a?[x,a]:x}function LA(t,e){const i=ne.fun(t),[[s],a]=HA(1,i?t:[t],i?e||[]:e);return i||arguments.length==2?[s,a]:s}let Ed;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(Ed||(Ed={}));class bA extends ec{constructor(e,i){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Cs(...i);const s=this._get(),a=gu(s);Wu(this,a.create(s))}advance(e){const i=this._get(),s=this.get();Vn(i,s)||(Gn(this).setValue(i),this._onChange(i,this.idle)),!this.idle&&Sd(this._active)&&Xl(this)}_get(){const e=ne.arr(this.source)?this.source.map(ln):dn(ln(this.source));return this.calc(...e)}_start(){this.idle&&!Sd(this._active)&&(this.idle=!1,Ye(ha(this),e=>{e.done=!1}),Hn.skipAnimation?(Ce.batchedUpdates(()=>this.advance()),Xl(this)):ua.start(this))}_attach(){let e=1;Ye(dn(this.source),i=>{Un(i)&&Fs(i,this),yu(i)&&(i.idle||this._active.add(i),e=Math.max(e,i.priority+1))}),this.priority=e,this._start()}_detach(){Ye(dn(this.source),e=>{Un(e)&&ta(e,this)}),this._active.clear(),Xl(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=dn(this.source).reduce((i,s)=>Math.max(i,(yu(s)?s.priority:0)+1),0))}}function NA(t){return t.idle!==!1}function Sd(t){return!t.size||Array.from(t).every(NA)}function Xl(t){t.idle||(t.idle=!0,Ye(ha(t),e=>{e.done=!0}),ea(t,{type:"idle",parent:t}))}Hn.assign({createStringInterpolator:Qh,to:(t,e)=>new bA(t,e)});const kA=["primitive"].concat(Object.keys(qd).filter(t=>/^[A-Z]/.test(t)).map(t=>t[0].toLowerCase()+t.slice(1)));Hn.assign({createStringInterpolator:Qh,colors:Gg,frameLoop:"demand"});Kv(()=>{Ce.advance()});const zA=pA(kA,{applyAnimatedValues:br}),JA=zA.animated;function KA(t,e,i){return Math.max(e,Math.min(t,i))}const st={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function _d(t,e,i){return e===0||Math.abs(e)===1/0?Math.pow(t,i*5):t*e*i/(e+i*t)}function wd(t,e,i,s=.15){return s===0?KA(t,e,i):t<e?-_d(e-t,i-e,s)+e:t>i?+_d(t-i,i-e,s)+i:t}function jA(t,[e,i],[s,a]){const[[u,c],[p,d]]=t;return[wd(e,u,c,s),wd(i,p,d,a)]}function QA(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VA(t){var e=QA(t,"string");return typeof e=="symbol"?e:String(e)}function gt(t,e,i){return e=VA(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xd(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),i.push.apply(i,s)}return i}function ut(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?xd(Object(i),!0).forEach(function(s){gt(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xd(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}const cp={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Md(t){return t?t[0].toUpperCase()+t.slice(1):""}const XA=["enter","leave"];function WA(t=!1,e){return t&&!XA.includes(e)}function YA(t,e="",i=!1){const s=cp[t],a=s&&s[e]||e;return"on"+Md(t)+Md(a)+(WA(i,a)?"Capture":"")}const ZA=["gotpointercapture","lostpointercapture"];function qA(t){let e=t.substring(2).toLowerCase();const i=!!~e.indexOf("passive");i&&(e=e.replace("passive",""));const s=ZA.includes(e)?"capturecapture":"capture",a=!!~e.indexOf(s);return a&&(e=e.replace("capture","")),{device:e,capture:a,passive:i}}function $A(t,e=""){const i=cp[t],s=i&&i[e]||e;return t+s}function ma(t){return"touches"in t}function fp(t){return ma(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function e0(t){return Array.from(t.touches).filter(e=>{var i,s;return e.target===t.currentTarget||((i=t.currentTarget)===null||i===void 0||(s=i.contains)===null||s===void 0?void 0:s.call(i,e.target))})}function t0(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function dp(t){return ma(t)?t0(t)[0]:t}function _u(t,e){try{const i=e.clientX-t.clientX,s=e.clientY-t.clientY,a=(e.clientX+t.clientX)/2,u=(e.clientY+t.clientY)/2,c=Math.hypot(i,s);return{angle:-(Math.atan2(i,s)*180)/Math.PI,distance:c,origin:[a,u]}}catch{}return null}function n0(t){return e0(t).map(e=>e.identifier)}function Td(t,e){const[i,s]=Array.from(t.touches).filter(a=>e.includes(a.identifier));return _u(i,s)}function Wl(t){const e=dp(t);return ma(t)?e.identifier:e.pointerId}function Mi(t){const e=dp(t);return[e.clientX,e.clientY]}const Id=40,Rd=800;function hp(t){let{deltaX:e,deltaY:i,deltaMode:s}=t;return s===1?(e*=Id,i*=Id):s===2&&(e*=Rd,i*=Rd),[e,i]}function r0(t){var e,i;const{scrollX:s,scrollY:a,scrollLeft:u,scrollTop:c}=t.currentTarget;return[(e=s??u)!==null&&e!==void 0?e:0,(i=a??c)!==null&&i!==void 0?i:0]}function i0(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:i,altKey:s,metaKey:a,ctrlKey:u}=t;Object.assign(e,{shiftKey:i,altKey:s,metaKey:a,ctrlKey:u})}return e}function sa(t,...e){return typeof t=="function"?t(...e):t}function s0(){}function o0(...t){return t.length===0?s0:t.length===1?t[0]:function(){let e;for(const i of t)e=i.apply(this,arguments)||e;return e}}function Dd(t,e){return Object.assign({},e,t||{})}const a0=32;class pp{constructor(e,i,s){this.ctrl=e,this.args=i,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:i,ingKey:s,args:a}=this;i[s]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=a,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const i=this.state,s=this.config;i._active||(this.reset(),this.computeInitial(),i._active=!0,i.target=e.target,i.currentTarget=e.currentTarget,i.lastOffset=s.from?sa(s.from,i):i.offset,i.offset=i.lastOffset,i.startTime=i.timeStamp=e.timeStamp)}computeValues(e){const i=this.state;i._values=e,i.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:i,config:s,shared:a}=this;i.args=this.args;let u=0;if(e&&(i.event=e,s.preventDefault&&e.cancelable&&i.event.preventDefault(),i.type=e.type,a.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,a.locked=!!document.pointerLockElement,Object.assign(a,i0(e)),a.down=a.pressed=a.buttons%2===1||a.touches>0,u=e.timeStamp-i.timeStamp,i.timeStamp=e.timeStamp,i.elapsedTime=i.timeStamp-i.startTime),i._active){const H=i._delta.map(Math.abs);st.addTo(i._distance,H)}this.axisIntent&&this.axisIntent(e);const[c,p]=i._movement,[d,v]=s.threshold,{_step:h,values:g}=i;if(s.hasCustomTransform?(h[0]===!1&&(h[0]=Math.abs(c)>=d&&g[0]),h[1]===!1&&(h[1]=Math.abs(p)>=v&&g[1])):(h[0]===!1&&(h[0]=Math.abs(c)>=d&&Math.sign(c)*d),h[1]===!1&&(h[1]=Math.abs(p)>=v&&Math.sign(p)*v)),i.intentional=h[0]!==!1||h[1]!==!1,!i.intentional)return;const B=[0,0];if(s.hasCustomTransform){const[H,j]=g;B[0]=h[0]!==!1?H-h[0]:0,B[1]=h[1]!==!1?j-h[1]:0}else B[0]=h[0]!==!1?c-h[0]:0,B[1]=h[1]!==!1?p-h[1]:0;this.restrictToAxis&&!i._blocked&&this.restrictToAxis(B);const C=i.offset,E=i._active&&!i._blocked||i.active;E&&(i.first=i._active&&!i.active,i.last=!i._active&&i.active,i.active=a[this.ingKey]=i._active,e&&(i.first&&("bounds"in s&&(i._bounds=sa(s.bounds,i)),this.setup&&this.setup()),i.movement=B,this.computeOffset()));const[T,x]=i.offset,[[_,M],[w,F]]=i._bounds;i.overflow=[T<_?-1:T>M?1:0,x<w?-1:x>F?1:0],i._movementBound[0]=i.overflow[0]?i._movementBound[0]===!1?i._movement[0]:i._movementBound[0]:!1,i._movementBound[1]=i.overflow[1]?i._movementBound[1]===!1?i._movement[1]:i._movementBound[1]:!1;const z=i._active?s.rubberband||[0,0]:[0,0];if(i.offset=jA(i._bounds,i.offset,z),i.delta=st.sub(i.offset,C),this.computeMovement(),E&&(!i.last||u>a0)){i.delta=st.sub(i.offset,C);const H=i.delta.map(Math.abs);st.addTo(i.distance,H),i.direction=i.delta.map(Math.sign),i._direction=i._delta.map(Math.sign),!i.first&&u>0&&(i.velocity=[H[0]/u,H[1]/u],i.timeDelta=u)}}emit(){const e=this.state,i=this.shared,s=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!s.triggerAllEvents)return;const a=this.handler(ut(ut(ut({},i),e),{},{[this.aliasKey]:e.values}));a!==void 0&&(e.memo=a)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function l0([t,e],i){const s=Math.abs(t),a=Math.abs(e);if(s>a&&s>i)return"x";if(a>s&&a>i)return"y"}class Ps extends pp{constructor(...e){super(...e),gt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=st.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=st.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const i=this.state,s=this.config;if(!i.axis&&e){const a=typeof s.axisThreshold=="object"?s.axisThreshold[fp(e)]:s.axisThreshold;i.axis=l0(i._movement,a)}i._blocked=(s.lockDirection||!!s.axis)&&!i.axis||!!s.axis&&s.axis!==i.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const u0=t=>t,Fd=.15,mp={enabled(t=!0){return t},eventOptions(t,e,i){return ut(ut({},i.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Fd,Fd];case!1:return[0,0];default:return st.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return st.toVector(t)},transform(t,e,i){const s=t||i.shared.transform;return this.hasCustomTransform=!!s,s||u0},threshold(t){return st.toVector(t,0)}},c0=0,Wr=ut(ut({},mp),{},{axis(t,e,{axis:i}){if(this.lockDirection=i==="lock",!this.lockDirection)return i},axisThreshold(t=c0){return t},bounds(t={}){if(typeof t=="function")return u=>Wr.bounds(t(u));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:i=1/0,top:s=-1/0,bottom:a=1/0}=t;return[[e,i],[s,a]]}}),Pd={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class f0 extends Ps{constructor(...e){super(...e),gt(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const i=e._bounds.getBoundingClientRect(),s=e.currentTarget.getBoundingClientRect(),a={left:i.left-s.left+e.offset[0],right:i.right-s.right+e.offset[0],top:i.top-s.top+e.offset[1],bottom:i.bottom-s.bottom+e.offset[1]};e._bounds=Wr.bounds(a)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const i=this.config,s=this.state;if(e.buttons!=null&&(Array.isArray(i.pointerButtons)?!i.pointerButtons.includes(e.buttons):i.pointerButtons!==-1&&i.pointerButtons!==e.buttons))return;const a=this.ctrl.setEventIds(e);i.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(a&&a.size>1&&s._pointerActive)&&(this.start(e),this.setupPointer(e),s._pointerId=Wl(e),s._pointerActive=!0,this.computeValues(Mi(e)),this.computeInitial(),i.preventScrollAxis&&fp(e)!=="mouse"?(s._active=!1,this.setupScrollPrevention(e)):i.delay>0?(this.setupDelayTrigger(e),i.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const i=this.state;i._active=!0,i._preventScroll=!0,i._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const i=this.state,s=this.config;if(!i._pointerActive)return;const a=Wl(e);if(i._pointerId!==void 0&&a!==i._pointerId)return;const u=Mi(e);if(document.pointerLockElement===e.target?i._delta=[e.movementX,e.movementY]:(i._delta=st.sub(u,i._values),this.computeValues(u)),st.addTo(i._movement,i._delta),this.compute(e),i._delayed&&i.intentional){this.timeoutStore.remove("dragDelay"),i.active=!1,this.startPointerDrag(e);return}if(s.preventScrollAxis&&!i._preventScroll)if(i.axis)if(i.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){i._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const i=this.state,s=this.config;if(!i._active||!i._pointerActive)return;const a=Wl(e);if(i._pointerId!==void 0&&a!==i._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[u,c]=i._distance;if(i.tap=u<=s.tapsThreshold&&c<=s.tapsThreshold,i.tap&&s.filterTaps)i._force=!0;else{const[p,d]=i._delta,[v,h]=i._movement,[g,B]=s.swipe.velocity,[C,E]=s.swipe.distance,T=s.swipe.duration;if(i.elapsedTime<T){const x=Math.abs(p/i.timeDelta),_=Math.abs(d/i.timeDelta);x>g&&Math.abs(v)>C&&(i.swipe[0]=Math.sign(p)),_>B&&Math.abs(h)>E&&(i.swipe[1]=Math.sign(d))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const i=this.config,s=i.device;i.pointerLock&&e.currentTarget.requestPointerLock(),i.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,d0(e);const i=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",i),this.eventStore.add(this.sharedConfig.window,"touch","cancel",i),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const i=Pd[e.key];if(i){const s=this.state,a=e.shiftKey?10:e.altKey?.1:1;this.start(e),s._delta=i(this.config.keyboardDisplacement,a),s._keyboardActive=!0,st.addTo(s._movement,s._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Pd&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const i=this.config.device;e(i,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(i,"change",this.pointerMove.bind(this)),e(i,"end",this.pointerUp.bind(this)),e(i,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function d0(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Gs=typeof window<"u"&&window.document&&window.document.createElement;function vp(){return Gs&&"ontouchstart"in window}function h0(){return vp()||Gs&&window.navigator.maxTouchPoints>1}function p0(){return Gs&&"onpointerdown"in window}function m0(){return Gs&&"exitPointerLock"in window.document}function v0(){try{return"constructor"in GestureEvent}catch{return!1}}const un={isBrowser:Gs,gesture:v0(),touch:vp(),touchscreen:h0(),pointer:p0(),pointerLock:m0()},g0=250,A0=180,B0=.5,y0=50,C0=250,E0=10,Gd={mouse:0,touch:0,pen:8},S0=ut(ut({},Wr),{},{device(t,e,{pointer:{touch:i=!1,lock:s=!1,mouse:a=!1}={}}){return this.pointerLock=s&&un.pointerLock,un.touch&&i?"touch":this.pointerLock?"mouse":un.pointer&&!a?"pointer":un.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:i}){if(this.preventScrollDelay=typeof i=="number"?i:i||i===void 0&&t?g0:void 0,!(!un.touchscreen||i===!1))return t||(i!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:i=!0,buttons:s=1,keys:a=!0}={}}){return this.pointerButtons=s,this.keys=a,!this.pointerLock&&this.device==="pointer"&&i},threshold(t,e,{filterTaps:i=!1,tapsThreshold:s=3,axis:a=void 0}){const u=st.toVector(t,i?s:a?1:0);return this.filterTaps=i,this.tapsThreshold=s,u},swipe({velocity:t=B0,distance:e=y0,duration:i=C0}={}){return{velocity:this.transform(st.toVector(t)),distance:this.transform(st.toVector(e)),duration:i}},delay(t=0){switch(t){case!0:return A0;case!1:return 0;default:return t}},axisThreshold(t){return t?ut(ut({},Gd),t):Gd},keyboardDisplacement(t=E0){return t}});function gp(t){const[e,i]=t.overflow,[s,a]=t._delta,[u,c]=t._direction;(e<0&&s>0&&u<0||e>0&&s<0&&u>0)&&(t._movement[0]=t._movementBound[0]),(i<0&&a>0&&c<0||i>0&&a<0&&c>0)&&(t._movement[1]=t._movementBound[1])}const _0=30,w0=100;class x0 extends pp{constructor(...e){super(...e),gt(this,"ingKey","pinching"),gt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:i,lastOffset:s}=this.state;e==="wheel"?this.state.offset=st.add(i,s):this.state.offset=[(1+i[0])*s[0],i[1]+s[1]]}computeMovement(){const{offset:e,lastOffset:i}=this.state;this.state.movement=[e[0]/i[0],e[1]-i[1]]}axisIntent(){const e=this.state,[i,s]=e._movement;if(!e.axis){const a=Math.abs(i)*_0-Math.abs(s);a<0?e.axis="angle":a>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const i=this.state,s=this.ctrl.touchIds;if(i._active&&i._touchIds.every(u=>s.has(u))||s.size<2)return;this.start(e),i._touchIds=Array.from(s).slice(0,2);const a=Td(e,i._touchIds);a&&this.pinchStart(e,a)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const i=this.state,s=i._pointerEvents,a=this.ctrl.pointerIds;if(i._active&&Array.from(s.keys()).every(c=>a.has(c))||(s.size<2&&s.set(e.pointerId,e),i._pointerEvents.size<2))return;this.start(e);const u=_u(...Array.from(s.values()));u&&this.pinchStart(e,u)}pinchStart(e,i){const s=this.state;s.origin=i.origin,this.computeValues([i.distance,i.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const i=Td(e,this.state._touchIds);i&&this.pinchMove(e,i)}pointerMove(e){const i=this.state._pointerEvents;if(i.has(e.pointerId)&&i.set(e.pointerId,e),!this.state._active)return;const s=_u(...Array.from(i.values()));s&&this.pinchMove(e,s)}pinchMove(e,i){const s=this.state,a=s._values[1],u=i.angle-a;let c=0;Math.abs(u)>270&&(c+=Math.sign(u)),this.computeValues([i.distance,i.angle-360*c]),s.origin=i.origin,s.turns=c,s._movement=[s._values[0]/s._initial[0]-1,s._values[1]-s._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(i=>!this.ctrl.touchIds.has(i))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const i=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}i._pointerEvents.has(e.pointerId)&&i._pointerEvents.delete(e.pointerId),i._active&&i._pointerEvents.size<2&&(i._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const i=this.state;i._active||(this.start(e),this.computeValues([e.scale,e.rotation]),i.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const i=this.state;this.computeValues([e.scale,e.rotation]),i.origin=[e.clientX,e.clientY];const s=i._movement;i._movement=[e.scale-1,e.rotation],i._delta=st.sub(i._movement,s),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const i=this.config.modifierKey;i&&(Array.isArray(i)?!i.find(s=>e[s]):!e[i])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const s=this.state;s._delta=[-hp(e)[1]/w0*s.offset[0],0],st.addTo(s._movement,s._delta),gp(s),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const i=this.config.device;i&&(e(i,"start",this[i+"Start"].bind(this)),e(i,"change",this[i+"Move"].bind(this)),e(i,"end",this[i+"End"].bind(this)),e(i,"cancel",this[i+"End"].bind(this)),e("lostPointerCapture","",this[i+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const M0=ut(ut({},mp),{},{device(t,e,{shared:i,pointer:{touch:s=!1}={}}){if(i.target&&!un.touch&&un.gesture)return"gesture";if(un.touch&&s)return"touch";if(un.touchscreen){if(un.pointer)return"pointer";if(un.touch)return"touch"}},bounds(t,e,{scaleBounds:i={},angleBounds:s={}}){const a=c=>{const p=Dd(sa(i,c),{min:-1/0,max:1/0});return[p.min,p.max]},u=c=>{const p=Dd(sa(s,c),{min:-1/0,max:1/0});return[p.min,p.max]};return typeof i!="function"&&typeof s!="function"?[a(),u()]:c=>[a(c),u(c)]},threshold(t,e,i){return this.lockDirection=i.axis==="lock",st.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});class T0 extends Ps{constructor(...e){super(...e),gt(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Mi(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const i=Mi(e),s=this.state;s._delta=st.sub(i,s._values),st.addTo(s._movement,s._delta),this.computeValues(i),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const I0=ut(ut({},Wr),{},{mouseOnly:(t=!0)=>t});class R0 extends Ps{constructor(...e){super(...e),gt(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const i=this.state,s=r0(e);i._delta=st.sub(s,i._values),st.addTo(i._movement,i._delta),this.computeValues(s),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const D0=Wr;class F0 extends Ps{constructor(...e){super(...e),gt(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const i=this.state;i._delta=hp(e),st.addTo(i._movement,i._delta),gp(i),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const P0=Wr;class G0 extends Ps{constructor(...e){super(...e),gt(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Mi(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const i=this.state;if(!i._active)return;i._active=!1;const s=Mi(e);i._movement=i._delta=st.sub(s,i._values),this.computeValues(s),this.compute(e),i.delta=i.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const U0=ut(ut({},Wr),{},{mouseOnly:(t=!0)=>t}),tc=new Map,wu=new Map;function O0(t){tc.set(t.key,t.engine),wu.set(t.key,t.resolver)}const H0={key:"drag",engine:f0,resolver:S0},L0={key:"hover",engine:G0,resolver:U0},b0={key:"move",engine:T0,resolver:I0},N0={key:"pinch",engine:x0,resolver:M0},k0={key:"scroll",engine:R0,resolver:D0},z0={key:"wheel",engine:F0,resolver:P0};function J0(t,e){if(t==null)return{};var i={},s=Object.keys(t),a,u;for(u=0;u<s.length;u++)a=s[u],!(e.indexOf(a)>=0)&&(i[a]=t[a]);return i}function K0(t,e){if(t==null)return{};var i=J0(t,e),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)s=u[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(i[s]=t[s])}return i}const j0={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=un.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Q0=["target","eventOptions","window","enabled","transform"];function Xo(t={},e){const i={};for(const[s,a]of Object.entries(e))switch(typeof a){case"function":i[s]=a.call(i,t[s],s,t);break;case"object":i[s]=Xo(t[s],a);break;case"boolean":a&&(i[s]=t[s]);break}return i}function V0(t,e,i={}){const s=t,{target:a,eventOptions:u,window:c,enabled:p,transform:d}=s,v=K0(s,Q0);if(i.shared=Xo({target:a,eventOptions:u,window:c,enabled:p,transform:d},j0),e){const h=wu.get(e);i[e]=Xo(ut({shared:i.shared},v),h)}else for(const h in v){const g=wu.get(h);g&&(i[h]=Xo(ut({shared:i.shared},v[h]),g))}return i}class Ap{constructor(e,i){gt(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=i}add(e,i,s,a,u){const c=this._listeners,p=$A(i,s),d=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},v=ut(ut({},d),u);e.addEventListener(p,a,v);const h=()=>{e.removeEventListener(p,a,v),c.delete(h)};return c.add(h),h}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class X0{constructor(){gt(this,"_timeouts",new Map)}add(e,i,s=140,...a){this.remove(e),this._timeouts.set(e,window.setTimeout(i,s,...a))}remove(e){const i=this._timeouts.get(e);i&&window.clearTimeout(i)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class W0{constructor(e){gt(this,"gestures",new Set),gt(this,"_targetEventStore",new Ap(this)),gt(this,"gestureEventStores",{}),gt(this,"gestureTimeoutStores",{}),gt(this,"handlers",{}),gt(this,"config",{}),gt(this,"pointerIds",new Set),gt(this,"touchIds",new Set),gt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Y0(this,e)}setEventIds(e){if(ma(e))return this.touchIds=new Set(n0(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,i){this.handlers=e,this.nativeHandlers=i}applyConfig(e,i){this.config=V0(e,i,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const i=this.config.shared,s={};let a;if(!(i.target&&(a=i.target(),!a))){if(i.enabled){for(const c of this.gestures){const p=this.config[c],d=Ud(s,p.eventOptions,!!a);if(p.enabled){const v=tc.get(c);new v(this,e,c).bind(d)}}const u=Ud(s,i.eventOptions,!!a);for(const c in this.nativeHandlers)u(c,"",p=>this.nativeHandlers[c](ut(ut({},this.state.shared),{},{event:p,args:e})),void 0,!0)}for(const u in s)s[u]=o0(...s[u]);if(!a)return s;for(const u in s){const{device:c,capture:p,passive:d}=qA(u);this._targetEventStore.add(a,c,"",s[u],{capture:p,passive:d})}}}}function hi(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Ap(t,e),t.gestureTimeoutStores[e]=new X0}function Y0(t,e){e.drag&&hi(t,"drag"),e.wheel&&hi(t,"wheel"),e.scroll&&hi(t,"scroll"),e.move&&hi(t,"move"),e.pinch&&hi(t,"pinch"),e.hover&&hi(t,"hover")}const Ud=(t,e,i)=>(s,a,u,c={},p=!1)=>{var d,v;const h=(d=c.capture)!==null&&d!==void 0?d:e.capture,g=(v=c.passive)!==null&&v!==void 0?v:e.passive;let B=p?s:YA(s,a,h);i&&g&&(B+="Passive"),t[B]=t[B]||[],t[B].push(u)},Z0=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function q0(t){const e={},i={},s=new Set;for(let a in t)Z0.test(a)?(s.add(RegExp.lastMatch),i[a]=t[a]):e[a]=t[a];return[i,e,s]}function pi(t,e,i,s,a,u){if(!t.has(i)||!tc.has(s))return;const c=i+"Start",p=i+"End",d=v=>{let h;return v.first&&c in e&&e[c](v),i in e&&(h=e[i](v)),v.last&&p in e&&e[p](v),h};a[s]=d,u[s]=u[s]||{}}function $0(t,e){const[i,s,a]=q0(t),u={};return pi(a,i,"onDrag","drag",u,e),pi(a,i,"onWheel","wheel",u,e),pi(a,i,"onScroll","scroll",u,e),pi(a,i,"onPinch","pinch",u,e),pi(a,i,"onMove","move",u,e),pi(a,i,"onHover","hover",u,e),{handlers:u,config:e,nativeHandlers:s}}function eB(t,e={},i,s){const a=Jr.useMemo(()=>new W0(t),[]);if(a.applyHandlers(t,s),a.applyConfig(e,i),Jr.useEffect(a.effect.bind(a)),Jr.useEffect(()=>a.clean.bind(a),[]),e.target===void 0)return a.bind.bind(a)}function tB(t){return t.forEach(O0),function(i,s){const{handlers:a,nativeHandlers:u,config:c}=$0(i,s||{});return eB(a,c,void 0,u)}}function nB(t,e){return tB([H0,N0,k0,z0,b0,L0])(t,e||{})}function rB({enabled:t=!0,snap:e,global:i,domElement:s,cursor:a=!0,children:u,speed:c=1,rotation:p=[0,0,0],zoom:d=1,polar:v=[0,Math.PI/2],azimuth:h=[-1/0,1/0],config:g={mass:1,tension:170,friction:26}}){const B=zt(H=>H.events),C=zt(H=>H.gl),E=s||B.connected||C.domElement,{size:T}=zt(),x=P.useMemo(()=>[p[0]+v[0],p[0]+v[1]],[p[0],v[0],v[1]]),_=P.useMemo(()=>[p[1]+h[0],p[1]+h[1]],[p[1],h[0],h[1]]),M=P.useMemo(()=>[fs.clamp(p[0],...x),fs.clamp(p[1],..._),p[2]],[p[0],p[1],p[2],x,_]),[w,F]=LA(()=>({scale:1,rotation:M,config:g}));P.useEffect(()=>void F.start({scale:1,rotation:M,config:g}),[M]),P.useEffect(()=>{if(i&&a&&t)return E.style.cursor="grab",C.domElement.style.cursor="",()=>{E.style.cursor="default",C.domElement.style.cursor="default"}},[i,a,E,t]);const z=nB({onHover:({last:H})=>{a&&!i&&t&&(E.style.cursor=H?"auto":"grab")},onDrag:({down:H,delta:[j,K],memo:[J,X]=w.rotation.animation.to||M})=>{if(!t)return[K,j];a&&(E.style.cursor=H?"grabbing":"grab"),j=fs.clamp(X+j/T.width*Math.PI*c,..._),K=fs.clamp(J+K/T.height*Math.PI*c,...x);const G=e&&!H&&typeof e!="boolean"?e:g;return F.start({scale:H&&K>x[1]/2?d:1,rotation:e&&!H?M:[K,j,0],config:q=>q==="scale"?{...G,friction:G.friction*3}:G}),[K,j]}},{target:i?E:void 0});return P.createElement(JA.group,Cr({},z==null?void 0:z(),w),u)}let ls;function iB(){var t;if(ls!==void 0)return ls;try{let e;const i=document.createElement("canvas");return ls=!!(window.WebGL2RenderingContext&&(e=i.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),ls}catch{return ls=!1}}function Od(t,e){if(e===Um)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===ou||e===$d){let i=t.getIndex();if(i===null){const c=[],p=t.getAttribute("position");if(p!==void 0){for(let d=0;d<p.count;d++)c.push(d);t.setIndex(c),i=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const s=i.count-2,a=[];if(i)if(e===ou)for(let c=1;c<=s;c++)a.push(i.getX(0)),a.push(i.getX(c)),a.push(i.getX(c+1));else for(let c=0;c<s;c++)c%2===0?(a.push(i.getX(c)),a.push(i.getX(c+1)),a.push(i.getX(c+2))):(a.push(i.getX(c+2)),a.push(i.getX(c+1)),a.push(i.getX(c)));a.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const u=t.clone();return u.setIndex(a),u.clearGroups(),u}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const sB=parseInt(Ms.replace(/\D+/g,""));var fn=Uint8Array,vr=Uint16Array,xu=Uint32Array,Bp=new fn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yp=new fn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oB=new fn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cp=function(t,e){for(var i=new vr(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];for(var a=new xu(i[30]),s=1;s<30;++s)for(var u=i[s];u<i[s+1];++u)a[u]=u-i[s]<<5|s;return[i,a]},Ep=Cp(Bp,2),Sp=Ep[0],aB=Ep[1];Sp[28]=258,aB[258]=28;var lB=Cp(yp,0),uB=lB[0],Mu=new vr(32768);for(var it=0;it<32768;++it){var ur=(it&43690)>>>1|(it&21845)<<1;ur=(ur&52428)>>>2|(ur&13107)<<2,ur=(ur&61680)>>>4|(ur&3855)<<4,Mu[it]=((ur&65280)>>>8|(ur&255)<<8)>>>1}var gs=function(t,e,i){for(var s=t.length,a=0,u=new vr(e);a<s;++a)++u[t[a]-1];var c=new vr(e);for(a=0;a<e;++a)c[a]=c[a-1]+u[a-1]<<1;var p;if(i){p=new vr(1<<e);var d=15-e;for(a=0;a<s;++a)if(t[a])for(var v=a<<4|t[a],h=e-t[a],g=c[t[a]-1]++<<h,B=g|(1<<h)-1;g<=B;++g)p[Mu[g]>>>d]=v}else for(p=new vr(s),a=0;a<s;++a)t[a]&&(p[a]=Mu[c[t[a]-1]++]>>>15-t[a]);return p},Us=new fn(288);for(var it=0;it<144;++it)Us[it]=8;for(var it=144;it<256;++it)Us[it]=9;for(var it=256;it<280;++it)Us[it]=7;for(var it=280;it<288;++it)Us[it]=8;var _p=new fn(32);for(var it=0;it<32;++it)_p[it]=5;var cB=gs(Us,9,1),fB=gs(_p,5,1),Yl=function(t){for(var e=t[0],i=1;i<t.length;++i)t[i]>e&&(e=t[i]);return e},Bn=function(t,e,i){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&i},Zl=function(t,e){var i=e/8|0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>(e&7)},dB=function(t){return(t/8|0)+(t&7&&1)},hB=function(t,e,i){(e==null||e<0)&&(e=0),(i==null||i>t.length)&&(i=t.length);var s=new(t instanceof vr?vr:t instanceof xu?xu:fn)(i-e);return s.set(t.subarray(e,i)),s},pB=function(t,e,i){var s=t.length;if(!s||i&&!i.l&&s<5)return e||new fn(0);var a=!e||i,u=!i||i.i;i||(i={}),e||(e=new fn(s*3));var c=function(Ee){var ct=e.length;if(Ee>ct){var Ct=new fn(Math.max(ct*2,Ee));Ct.set(e),e=Ct}},p=i.f||0,d=i.p||0,v=i.b||0,h=i.l,g=i.d,B=i.m,C=i.n,E=s*8;do{if(!h){i.f=p=Bn(t,d,1);var T=Bn(t,d+1,3);if(d+=3,T)if(T==1)h=cB,g=fB,B=9,C=5;else if(T==2){var w=Bn(t,d,31)+257,F=Bn(t,d+10,15)+4,z=w+Bn(t,d+5,31)+1;d+=14;for(var H=new fn(z),j=new fn(19),K=0;K<F;++K)j[oB[K]]=Bn(t,d+K*3,7);d+=F*3;for(var J=Yl(j),X=(1<<J)-1,G=gs(j,J,1),K=0;K<z;){var q=G[Bn(t,d,X)];d+=q&15;var x=q>>>4;if(x<16)H[K++]=x;else{var pe=0,Me=0;for(x==16?(Me=3+Bn(t,d,3),d+=2,pe=H[K-1]):x==17?(Me=3+Bn(t,d,7),d+=3):x==18&&(Me=11+Bn(t,d,127),d+=7);Me--;)H[K++]=pe}}var me=H.subarray(0,w),ke=H.subarray(w);B=Yl(me),C=Yl(ke),h=gs(me,B,1),g=gs(ke,C,1)}else throw"invalid block type";else{var x=dB(d)+4,_=t[x-4]|t[x-3]<<8,M=x+_;if(M>s){if(u)throw"unexpected EOF";break}a&&c(v+_),e.set(t.subarray(x,M),v),i.b=v+=_,i.p=d=M*8;continue}if(d>E){if(u)throw"unexpected EOF";break}}a&&c(v+131072);for(var Te=(1<<B)-1,Q=(1<<C)-1,ue=d;;ue=d){var pe=h[Zl(t,d)&Te],se=pe>>>4;if(d+=pe&15,d>E){if(u)throw"unexpected EOF";break}if(!pe)throw"invalid length/literal";if(se<256)e[v++]=se;else if(se==256){ue=d,h=null;break}else{var ge=se-254;if(se>264){var K=se-257,le=Bp[K];ge=Bn(t,d,(1<<le)-1)+Sp[K],d+=le}var Be=g[Zl(t,d)&Q],Ve=Be>>>4;if(!Be)throw"invalid distance";d+=Be&15;var ke=uB[Ve];if(Ve>3){var le=yp[Ve];ke+=Zl(t,d)&(1<<le)-1,d+=le}if(d>E){if(u)throw"unexpected EOF";break}a&&c(v+131072);for(var Oe=v+ge;v<Oe;v+=4)e[v]=e[v-ke],e[v+1]=e[v+1-ke],e[v+2]=e[v+2-ke],e[v+3]=e[v+3-ke];v=Oe}}i.l=h,i.p=ue,i.b=v,h&&(p=1,i.m=B,i.d=g,i.n=C)}while(!p);return v==e.length?e:hB(e,0,v)},mB=new fn(0),vB=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ko(t,e){return pB((vB(t),t.subarray(2,-4)),e)}var gB=typeof TextDecoder<"u"&&new TextDecoder,AB=0;try{gB.decode(mB,{stream:!0}),AB=1}catch{}const BB=t=>t&&t.isCubeTexture;class yB extends Du{constructor(e,i){var s,a;const u=BB(e),p=((a=u?(s=e.image[0])==null?void 0:s.width:e.image.width)!=null?a:1024)/4,d=Math.floor(Math.log2(p)),v=Math.pow(2,d),h=3*Math.max(v,16*7),g=4*v,B=[u?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/g}`,`#define CUBEUV_MAX_MIP ${d}.0`],C=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,E=B.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(Ms.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,T={map:{value:e},height:{value:(i==null?void 0:i.height)||15},radius:{value:(i==null?void 0:i.radius)||100}},x=new Om(1,16),_=new Zn({uniforms:T,fragmentShader:E,vertexShader:C,side:kr});super(x,_)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class nc extends eh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(i){return new wB(i)}),this.register(function(i){return new PB(i)}),this.register(function(i){return new GB(i)}),this.register(function(i){return new UB(i)}),this.register(function(i){return new MB(i)}),this.register(function(i){return new TB(i)}),this.register(function(i){return new IB(i)}),this.register(function(i){return new RB(i)}),this.register(function(i){return new _B(i)}),this.register(function(i){return new DB(i)}),this.register(function(i){return new xB(i)}),this.register(function(i){return new FB(i)}),this.register(function(i){return new EB(i)}),this.register(function(i){return new OB(i)}),this.register(function(i){return new HB(i)})}load(e,i,s,a){const u=this;let c;this.resourcePath!==""?c=this.resourcePath:this.path!==""?c=this.path:c=Kr.extractUrlBase(e),this.manager.itemStart(e);const p=function(v){a?a(v):console.error(v),u.manager.itemError(e),u.manager.itemEnd(e)},d=new Wo(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(v){try{u.parse(v,c,function(h){i(h),u.manager.itemEnd(e)},p)}catch(h){p(h)}},s,p)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,i,s,a){let u;const c={},p={};if(typeof e=="string")u=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Kr.decodeText(new Uint8Array(e.slice(0,4)))===wp){try{c[be.KHR_BINARY_GLTF]=new LB(e)}catch(h){a&&a(h);return}u=JSON.parse(c[be.KHR_BINARY_GLTF].content)}else u=JSON.parse(Kr.decodeText(new Uint8Array(e)));else u=e;if(u.asset===void 0||u.asset.version[0]<2){a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const d=new ZB(u,{path:i||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(let v=0;v<this.pluginCallbacks.length;v++){const h=this.pluginCallbacks[v](d);p[h.name]=h,c[h.name]=!0}if(u.extensionsUsed)for(let v=0;v<u.extensionsUsed.length;++v){const h=u.extensionsUsed[v],g=u.extensionsRequired||[];switch(h){case be.KHR_MATERIALS_UNLIT:c[h]=new SB;break;case be.KHR_DRACO_MESH_COMPRESSION:c[h]=new bB(u,this.dracoLoader);break;case be.KHR_TEXTURE_TRANSFORM:c[h]=new NB;break;case be.KHR_MESH_QUANTIZATION:c[h]=new kB;break;default:g.indexOf(h)>=0&&p[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}d.setExtensions(c),d.setPlugins(p),d.parse(s,a)}parseAsync(e,i){const s=this;return new Promise(function(a,u){s.parse(e,i,a,u)})}}function CB(){let t={};return{get:function(e){return t[e]},add:function(e,i){t[e]=i},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const be={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class EB{constructor(e){this.parser=e,this.name=be.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,i=this.parser.json.nodes||[];for(let s=0,a=i.length;s<a;s++){const u=i[s];u.extensions&&u.extensions[this.name]&&u.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,u.extensions[this.name].light)}}_loadLight(e){const i=this.parser,s="light:"+e;let a=i.cache.get(s);if(a)return a;const u=i.json,d=((u.extensions&&u.extensions[this.name]||{}).lights||[])[e];let v;const h=new On(16777215);d.color!==void 0&&h.fromArray(d.color);const g=d.range!==void 0?d.range:0;switch(d.type){case"directional":v=new bm(h),v.target.position.set(0,0,-1),v.add(v.target);break;case"point":v=new Lm(h),v.distance=g;break;case"spot":v=new Hm(h),v.distance=g,d.spot=d.spot||{},d.spot.innerConeAngle=d.spot.innerConeAngle!==void 0?d.spot.innerConeAngle:0,d.spot.outerConeAngle=d.spot.outerConeAngle!==void 0?d.spot.outerConeAngle:Math.PI/4,v.angle=d.spot.outerConeAngle,v.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,v.target.position.set(0,0,-1),v.add(v.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return v.position.set(0,0,0),v.decay=2,hr(v,d),d.intensity!==void 0&&(v.intensity=d.intensity),v.name=i.createUniqueName(d.name||"light_"+e),a=Promise.resolve(v),i.cache.add(s,a),a}getDependency(e,i){if(e==="light")return this._loadLight(i)}createNodeAttachment(e){const i=this,s=this.parser,u=s.json.nodes[e],p=(u.extensions&&u.extensions[this.name]||{}).light;return p===void 0?null:this._loadLight(p).then(function(d){return s._getNodeRef(i.cache,p,d)})}}class SB{constructor(){this.name=be.KHR_MATERIALS_UNLIT}getMaterialType(){return ds}extendParams(e,i,s){const a=[];e.color=new On(1,1,1),e.opacity=1;const u=i.pbrMetallicRoughness;if(u){if(Array.isArray(u.baseColorFactor)){const c=u.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}u.baseColorTexture!==void 0&&a.push(s.assignTexture(e,"map",u.baseColorTexture,3001))}return Promise.all(a)}}class _B{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,i){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=a.extensions[this.name].emissiveStrength;return u!==void 0&&(i.emissiveIntensity=u),Promise.resolve()}}class wB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];if(c.clearcoatFactor!==void 0&&(i.clearcoat=c.clearcoatFactor),c.clearcoatTexture!==void 0&&u.push(s.assignTexture(i,"clearcoatMap",c.clearcoatTexture)),c.clearcoatRoughnessFactor!==void 0&&(i.clearcoatRoughness=c.clearcoatRoughnessFactor),c.clearcoatRoughnessTexture!==void 0&&u.push(s.assignTexture(i,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),c.clearcoatNormalTexture!==void 0&&(u.push(s.assignTexture(i,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0)){const p=c.clearcoatNormalTexture.scale;i.clearcoatNormalScale=new yt(p,p)}return Promise.all(u)}}class xB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];return c.iridescenceFactor!==void 0&&(i.iridescence=c.iridescenceFactor),c.iridescenceTexture!==void 0&&u.push(s.assignTexture(i,"iridescenceMap",c.iridescenceTexture)),c.iridescenceIor!==void 0&&(i.iridescenceIOR=c.iridescenceIor),i.iridescenceThicknessRange===void 0&&(i.iridescenceThicknessRange=[100,400]),c.iridescenceThicknessMinimum!==void 0&&(i.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),c.iridescenceThicknessMaximum!==void 0&&(i.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),c.iridescenceThicknessTexture!==void 0&&u.push(s.assignTexture(i,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(u)}}class MB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_SHEEN}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[];i.sheenColor=new On(0,0,0),i.sheenRoughness=0,i.sheen=1;const c=a.extensions[this.name];return c.sheenColorFactor!==void 0&&i.sheenColor.fromArray(c.sheenColorFactor),c.sheenRoughnessFactor!==void 0&&(i.sheenRoughness=c.sheenRoughnessFactor),c.sheenColorTexture!==void 0&&u.push(s.assignTexture(i,"sheenColorMap",c.sheenColorTexture,3001)),c.sheenRoughnessTexture!==void 0&&u.push(s.assignTexture(i,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(u)}}class TB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];return c.transmissionFactor!==void 0&&(i.transmission=c.transmissionFactor),c.transmissionTexture!==void 0&&u.push(s.assignTexture(i,"transmissionMap",c.transmissionTexture)),Promise.all(u)}}class IB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_VOLUME}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];i.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0&&u.push(s.assignTexture(i,"thicknessMap",c.thicknessTexture)),i.attenuationDistance=c.attenuationDistance||1/0;const p=c.attenuationColor||[1,1,1];return i.attenuationColor=new On(p[0],p[1],p[2]),Promise.all(u)}}class RB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_IOR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const a=this.parser.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=a.extensions[this.name];return i.ior=u.ior!==void 0?u.ior:1.5,Promise.resolve()}}class DB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_SPECULAR}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];i.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0&&u.push(s.assignTexture(i,"specularIntensityMap",c.specularTexture));const p=c.specularColorFactor||[1,1,1];return i.specularColor=new On(p[0],p[1],p[2]),c.specularColorTexture!==void 0&&u.push(s.assignTexture(i,"specularColorMap",c.specularColorTexture,3001)),Promise.all(u)}}class FB{constructor(e){this.parser=e,this.name=be.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const s=this.parser.json.materials[e];return!s.extensions||!s.extensions[this.name]?null:Er}extendMaterialParams(e,i){const s=this.parser,a=s.json.materials[e];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const u=[],c=a.extensions[this.name];return c.anisotropyStrength!==void 0&&(i.anisotropy=c.anisotropyStrength),c.anisotropyRotation!==void 0&&(i.anisotropyRotation=c.anisotropyRotation),c.anisotropyTexture!==void 0&&u.push(s.assignTexture(i,"anisotropyMap",c.anisotropyTexture)),Promise.all(u)}}class PB{constructor(e){this.parser=e,this.name=be.KHR_TEXTURE_BASISU}loadTexture(e){const i=this.parser,s=i.json,a=s.textures[e];if(!a.extensions||!a.extensions[this.name])return null;const u=a.extensions[this.name],c=i.options.ktx2Loader;if(!c){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return i.loadTextureImage(e,u.source,c)}}class GB{constructor(e){this.parser=e,this.name=be.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const i=this.name,s=this.parser,a=s.json,u=a.textures[e];if(!u.extensions||!u.extensions[i])return null;const c=u.extensions[i],p=a.images[c.source];let d=s.textureLoader;if(p.uri){const v=s.options.manager.getHandler(p.uri);v!==null&&(d=v)}return this.detectSupport().then(function(v){if(v)return s.loadTextureImage(e,c.source,d);if(a.extensionsRequired&&a.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const i=new Image;i.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",i.onload=i.onerror=function(){e(i.height===1)}})),this.isSupported}}class UB{constructor(e){this.parser=e,this.name=be.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const i=this.name,s=this.parser,a=s.json,u=a.textures[e];if(!u.extensions||!u.extensions[i])return null;const c=u.extensions[i],p=a.images[c.source];let d=s.textureLoader;if(p.uri){const v=s.options.manager.getHandler(p.uri);v!==null&&(d=v)}return this.detectSupport().then(function(v){if(v)return s.loadTextureImage(e,c.source,d);if(a.extensionsRequired&&a.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const i=new Image;i.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",i.onload=i.onerror=function(){e(i.height===1)}})),this.isSupported}}class OB{constructor(e){this.name=be.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const i=this.parser.json,s=i.bufferViews[e];if(s.extensions&&s.extensions[this.name]){const a=s.extensions[this.name],u=this.parser.getDependency("buffer",a.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return u.then(function(p){const d=a.byteOffset||0,v=a.byteLength||0,h=a.count,g=a.byteStride,B=new Uint8Array(p,d,v);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(h,g,B,a.mode,a.filter).then(function(C){return C.buffer}):c.ready.then(function(){const C=new ArrayBuffer(h*g);return c.decodeGltfBuffer(new Uint8Array(C),h,g,B,a.mode,a.filter),C})})}else return null}}class HB{constructor(e){this.name=be.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const i=this.parser.json,s=i.nodes[e];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const a=i.meshes[s.mesh];for(const v of a.primitives)if(v.mode!==an.TRIANGLES&&v.mode!==an.TRIANGLE_STRIP&&v.mode!==an.TRIANGLE_FAN&&v.mode!==void 0)return null;const c=s.extensions[this.name].attributes,p=[],d={};for(const v in c)p.push(this.parser.getDependency("accessor",c[v]).then(h=>(d[v]=h,d[v])));return p.length<1?null:(p.push(this.parser.createNodeMesh(e)),Promise.all(p).then(v=>{const h=v.pop(),g=h.isGroup?h.children:[h],B=v[0].count,C=[];for(const E of g){const T=new Yo,x=new Ot,_=new sh,M=new Ot(1,1,1),w=new Nm(E.geometry,E.material,B);for(let F=0;F<B;F++)d.TRANSLATION&&x.fromBufferAttribute(d.TRANSLATION,F),d.ROTATION&&_.fromBufferAttribute(d.ROTATION,F),d.SCALE&&M.fromBufferAttribute(d.SCALE,F),w.setMatrixAt(F,T.compose(x,_,M));for(const F in d)F!=="TRANSLATION"&&F!=="ROTATION"&&F!=="SCALE"&&E.geometry.setAttribute(F,d[F]);th.prototype.copy.call(w,E),this.parser.assignFinalMaterial(w),C.push(w)}return h.isGroup?(h.clear(),h.add(...C),h):C[0]}))}}const wp="glTF",us=12,Hd={JSON:1313821514,BIN:5130562};class LB{constructor(e){this.name=be.KHR_BINARY_GLTF,this.content=null,this.body=null;const i=new DataView(e,0,us);if(this.header={magic:Kr.decodeText(new Uint8Array(e.slice(0,4))),version:i.getUint32(4,!0),length:i.getUint32(8,!0)},this.header.magic!==wp)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-us,a=new DataView(e,us);let u=0;for(;u<s;){const c=a.getUint32(u,!0);u+=4;const p=a.getUint32(u,!0);if(u+=4,p===Hd.JSON){const d=new Uint8Array(e,us+u,c);this.content=Kr.decodeText(d)}else if(p===Hd.BIN){const d=us+u;this.body=e.slice(d,d+c)}u+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class bB{constructor(e,i){if(!i)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=be.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=i,this.dracoLoader.preload()}decodePrimitive(e,i){const s=this.json,a=this.dracoLoader,u=e.extensions[this.name].bufferView,c=e.extensions[this.name].attributes,p={},d={},v={};for(const h in c){const g=Tu[h]||h.toLowerCase();p[g]=c[h]}for(const h in e.attributes){const g=Tu[h]||h.toLowerCase();if(c[h]!==void 0){const B=s.accessors[e.attributes[h]],C=Ei[B.componentType];v[g]=C.name,d[g]=B.normalized===!0}}return i.getDependency("bufferView",u).then(function(h){return new Promise(function(g){a.decodeDracoFile(h,function(B){for(const C in B.attributes){const E=B.attributes[C],T=d[C];T!==void 0&&(E.normalized=T)}g(B)},p,v)})})}}class NB{constructor(){this.name=be.KHR_TEXTURE_TRANSFORM}extendTexture(e,i){return(i.texCoord===void 0||i.texCoord===e.channel)&&i.offset===void 0&&i.rotation===void 0&&i.scale===void 0||(e=e.clone(),i.texCoord!==void 0&&(e.channel=i.texCoord),i.offset!==void 0&&e.offset.fromArray(i.offset),i.rotation!==void 0&&(e.rotation=i.rotation),i.scale!==void 0&&e.repeat.fromArray(i.scale),e.needsUpdate=!0),e}}class kB{constructor(){this.name=be.KHR_MESH_QUANTIZATION}}class xp extends dv{constructor(e,i,s,a){super(e,i,s,a)}copySampleValue_(e){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,u=e*a*3+a;for(let c=0;c!==a;c++)i[c]=s[u+c];return i}interpolate_(e,i,s,a){const u=this.resultBuffer,c=this.sampleValues,p=this.valueSize,d=p*2,v=p*3,h=a-i,g=(s-i)/h,B=g*g,C=B*g,E=e*v,T=E-v,x=-2*C+3*B,_=C-B,M=1-x,w=_-B+g;for(let F=0;F!==p;F++){const z=c[T+F+p],H=c[T+F+d]*h,j=c[E+F+p],K=c[E+F]*h;u[F]=M*z+w*H+x*j+_*K}return u}}const zB=new sh;class JB extends xp{interpolate_(e,i,s,a){const u=super.interpolate_(e,i,s,a);return zB.fromArray(u).normalize().toArray(u),u}}const an={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ei={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ld={9728:Bs,9729:hn,9984:tv,9985:nv,9986:rv,9987:nh},bd={33071:iv,33648:sv,10497:au},ql={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Tu={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...sB>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},cr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},KB={CUBICSPLINE:void 0,LINEAR:ih,STEP:ov},$l={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function jB(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new rh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:oh})),t.DefaultMaterial}function Lr(t,e,i){for(const s in i.extensions)t[s]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[s]=i.extensions[s])}function hr(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function QB(t,e,i){let s=!1,a=!1,u=!1;for(let v=0,h=e.length;v<h;v++){const g=e[v];if(g.POSITION!==void 0&&(s=!0),g.NORMAL!==void 0&&(a=!0),g.COLOR_0!==void 0&&(u=!0),s&&a&&u)break}if(!s&&!a&&!u)return Promise.resolve(t);const c=[],p=[],d=[];for(let v=0,h=e.length;v<h;v++){const g=e[v];if(s){const B=g.POSITION!==void 0?i.getDependency("accessor",g.POSITION):t.attributes.position;c.push(B)}if(a){const B=g.NORMAL!==void 0?i.getDependency("accessor",g.NORMAL):t.attributes.normal;p.push(B)}if(u){const B=g.COLOR_0!==void 0?i.getDependency("accessor",g.COLOR_0):t.attributes.color;d.push(B)}}return Promise.all([Promise.all(c),Promise.all(p),Promise.all(d)]).then(function(v){const h=v[0],g=v[1],B=v[2];return s&&(t.morphAttributes.position=h),a&&(t.morphAttributes.normal=g),u&&(t.morphAttributes.color=B),t.morphTargetsRelative=!0,t})}function VB(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let i=0,s=e.weights.length;i<s;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){const i=e.extras.targetNames;if(t.morphTargetInfluences.length===i.length){t.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++)t.morphTargetDictionary[i[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function XB(t){let e;const i=t.extensions&&t.extensions[be.KHR_DRACO_MESH_COMPRESSION];if(i?e="draco:"+i.bufferView+":"+i.indices+":"+eu(i.attributes):e=t.indices+":"+eu(t.attributes)+":"+t.mode,t.targets!==void 0)for(let s=0,a=t.targets.length;s<a;s++)e+=":"+eu(t.targets[s]);return e}function eu(t){let e="";const i=Object.keys(t).sort();for(let s=0,a=i.length;s<a;s++)e+=i[s]+":"+t[i[s]]+";";return e}function Iu(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function WB(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const YB=new Yo;class ZB{constructor(e={},i={}){this.json=e,this.extensions={},this.plugins={},this.options=i,this.cache=new CB,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,a=!1,u=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,a=navigator.userAgent.indexOf("Firefox")>-1,u=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||s||a&&u<98?this.textureLoader=new km(this.options.manager):this.textureLoader=new zm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,i){const s=this,a=this.json,u=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(c){const p={scene:c[0][a.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:a.asset,parser:s,userData:{}};Lr(u,p,a),hr(p,a),Promise.all(s._invokeAll(function(d){return d.afterRoot&&d.afterRoot(p)})).then(function(){e(p)})}).catch(i)}_markDefs(){const e=this.json.nodes||[],i=this.json.skins||[],s=this.json.meshes||[];for(let a=0,u=i.length;a<u;a++){const c=i[a].joints;for(let p=0,d=c.length;p<d;p++)e[c[p]].isBone=!0}for(let a=0,u=e.length;a<u;a++){const c=e[a];c.mesh!==void 0&&(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0&&(s[c.mesh].isSkinnedMesh=!0)),c.camera!==void 0&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(e,i){i!==void 0&&(e.refs[i]===void 0&&(e.refs[i]=e.uses[i]=0),e.refs[i]++)}_getNodeRef(e,i,s){if(e.refs[i]<=1)return s;const a=s.clone(),u=(c,p)=>{const d=this.associations.get(c);d!=null&&this.associations.set(p,d);for(const[v,h]of c.children.entries())u(h,p.children[v])};return u(s,a),a.name+="_instance_"+e.uses[i]++,a}_invokeOne(e){const i=Object.values(this.plugins);i.push(this);for(let s=0;s<i.length;s++){const a=e(i[s]);if(a)return a}return null}_invokeAll(e){const i=Object.values(this.plugins);i.unshift(this);const s=[];for(let a=0;a<i.length;a++){const u=e(i[a]);u&&s.push(u)}return s}getDependency(e,i){const s=e+":"+i;let a=this.cache.get(s);if(!a){switch(e){case"scene":a=this.loadScene(i);break;case"node":a=this._invokeOne(function(u){return u.loadNode&&u.loadNode(i)});break;case"mesh":a=this._invokeOne(function(u){return u.loadMesh&&u.loadMesh(i)});break;case"accessor":a=this.loadAccessor(i);break;case"bufferView":a=this._invokeOne(function(u){return u.loadBufferView&&u.loadBufferView(i)});break;case"buffer":a=this.loadBuffer(i);break;case"material":a=this._invokeOne(function(u){return u.loadMaterial&&u.loadMaterial(i)});break;case"texture":a=this._invokeOne(function(u){return u.loadTexture&&u.loadTexture(i)});break;case"skin":a=this.loadSkin(i);break;case"animation":a=this._invokeOne(function(u){return u.loadAnimation&&u.loadAnimation(i)});break;case"camera":a=this.loadCamera(i);break;default:if(a=this._invokeOne(function(u){return u!=this&&u.getDependency&&u.getDependency(e,i)}),!a)throw new Error("Unknown type: "+e);break}this.cache.add(s,a)}return a}getDependencies(e){let i=this.cache.get(e);if(!i){const s=this,a=this.json[e+(e==="mesh"?"es":"s")]||[];i=Promise.all(a.map(function(u,c){return s.getDependency(e,c)})),this.cache.add(e,i)}return i}loadBuffer(e){const i=this.json.buffers[e],s=this.fileLoader;if(i.type&&i.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+i.type+" buffer type is not supported.");if(i.uri===void 0&&e===0)return Promise.resolve(this.extensions[be.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(u,c){s.load(Kr.resolveURL(i.uri,a.path),u,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+i.uri+'".'))})})}loadBufferView(e){const i=this.json.bufferViews[e];return this.getDependency("buffer",i.buffer).then(function(s){const a=i.byteLength||0,u=i.byteOffset||0;return s.slice(u,u+a)})}loadAccessor(e){const i=this,s=this.json,a=this.json.accessors[e];if(a.bufferView===void 0&&a.sparse===void 0){const c=ql[a.type],p=Ei[a.componentType],d=a.normalized===!0,v=new p(a.count*c);return Promise.resolve(new Xn(v,c,d))}const u=[];return a.bufferView!==void 0?u.push(this.getDependency("bufferView",a.bufferView)):u.push(null),a.sparse!==void 0&&(u.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),u.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(u).then(function(c){const p=c[0],d=ql[a.type],v=Ei[a.componentType],h=v.BYTES_PER_ELEMENT,g=h*d,B=a.byteOffset||0,C=a.bufferView!==void 0?s.bufferViews[a.bufferView].byteStride:void 0,E=a.normalized===!0;let T,x;if(C&&C!==g){const _=Math.floor(B/C),M="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+_+":"+a.count;let w=i.cache.get(M);w||(T=new v(p,_*C,a.count*C/h),w=new Jm(T,C/h),i.cache.add(M,w)),x=new av(w,d,B%C/h,E)}else p===null?T=new v(a.count*d):T=new v(p,B,a.count*d),x=new Xn(T,d,E);if(a.sparse!==void 0){const _=ql.SCALAR,M=Ei[a.sparse.indices.componentType],w=a.sparse.indices.byteOffset||0,F=a.sparse.values.byteOffset||0,z=new M(c[1],w,a.sparse.count*_),H=new v(c[2],F,a.sparse.count*d);p!==null&&(x=new Xn(x.array.slice(),x.itemSize,x.normalized));for(let j=0,K=z.length;j<K;j++){const J=z[j];if(x.setX(J,H[j*d]),d>=2&&x.setY(J,H[j*d+1]),d>=3&&x.setZ(J,H[j*d+2]),d>=4&&x.setW(J,H[j*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const i=this.json,s=this.options,u=i.textures[e].source,c=i.images[u];let p=this.textureLoader;if(c.uri){const d=s.manager.getHandler(c.uri);d!==null&&(p=d)}return this.loadTextureImage(e,u,p)}loadTextureImage(e,i,s){const a=this,u=this.json,c=u.textures[e],p=u.images[i],d=(p.uri||p.bufferView)+":"+c.sampler;if(this.textureCache[d])return this.textureCache[d];const v=this.loadImageSource(i,s).then(function(h){h.flipY=!1,h.name=c.name||p.name||"",h.name===""&&typeof p.uri=="string"&&p.uri.startsWith("data:image/")===!1&&(h.name=p.uri);const B=(u.samplers||{})[c.sampler]||{};return h.magFilter=Ld[B.magFilter]||hn,h.minFilter=Ld[B.minFilter]||nh,h.wrapS=bd[B.wrapS]||au,h.wrapT=bd[B.wrapT]||au,a.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[d]=v,v}loadImageSource(e,i){const s=this,a=this.json,u=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(g=>g.clone());const c=a.images[e],p=self.URL||self.webkitURL;let d=c.uri||"",v=!1;if(c.bufferView!==void 0)d=s.getDependency("bufferView",c.bufferView).then(function(g){v=!0;const B=new Blob([g],{type:c.mimeType});return d=p.createObjectURL(B),d});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(d).then(function(g){return new Promise(function(B,C){let E=B;i.isImageBitmapLoader===!0&&(E=function(T){const x=new Si(T);x.needsUpdate=!0,B(x)}),i.load(Kr.resolveURL(g,u.path),E,void 0,C)})}).then(function(g){return v===!0&&p.revokeObjectURL(d),g.userData.mimeType=c.mimeType||WB(c.uri),g}).catch(function(g){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),g});return this.sourceCache[e]=h,h}assignTexture(e,i,s,a){const u=this;return this.getDependency("texture",s.index).then(function(c){if(!c)return null;if(s.texCoord!==void 0&&s.texCoord>0&&(c=c.clone(),c.channel=s.texCoord),u.extensions[be.KHR_TEXTURE_TRANSFORM]){const p=s.extensions!==void 0?s.extensions[be.KHR_TEXTURE_TRANSFORM]:void 0;if(p){const d=u.associations.get(c);c=u.extensions[be.KHR_TEXTURE_TRANSFORM].extendTexture(c,p),u.associations.set(c,d)}}return a!==void 0&&("colorSpace"in c?c.colorSpace=a===3001?"srgb":"srgb-linear":c.encoding=a),e[i]=c,c})}assignFinalMaterial(e){const i=e.geometry;let s=e.material;const a=i.attributes.tangent===void 0,u=i.attributes.color!==void 0,c=i.attributes.normal===void 0;if(e.isPoints){const p="PointsMaterial:"+s.uuid;let d=this.cache.get(p);d||(d=new Km,Bi.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,d.sizeAttenuation=!1,this.cache.add(p,d)),s=d}else if(e.isLine){const p="LineBasicMaterial:"+s.uuid;let d=this.cache.get(p);d||(d=new jm,Bi.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,this.cache.add(p,d)),s=d}if(a||u||c){let p="ClonedMaterial:"+s.uuid+":";a&&(p+="derivative-tangents:"),u&&(p+="vertex-colors:"),c&&(p+="flat-shading:");let d=this.cache.get(p);d||(d=s.clone(),u&&(d.vertexColors=!0),c&&(d.flatShading=!0),a&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(p,d),this.associations.set(d,this.associations.get(s))),s=d}e.material=s}getMaterialType(){return rh}loadMaterial(e){const i=this,s=this.json,a=this.extensions,u=s.materials[e];let c;const p={},d=u.extensions||{},v=[];if(d[be.KHR_MATERIALS_UNLIT]){const g=a[be.KHR_MATERIALS_UNLIT];c=g.getMaterialType(),v.push(g.extendParams(p,u,i))}else{const g=u.pbrMetallicRoughness||{};if(p.color=new On(1,1,1),p.opacity=1,Array.isArray(g.baseColorFactor)){const B=g.baseColorFactor;p.color.fromArray(B),p.opacity=B[3]}g.baseColorTexture!==void 0&&v.push(i.assignTexture(p,"map",g.baseColorTexture,3001)),p.metalness=g.metallicFactor!==void 0?g.metallicFactor:1,p.roughness=g.roughnessFactor!==void 0?g.roughnessFactor:1,g.metallicRoughnessTexture!==void 0&&(v.push(i.assignTexture(p,"metalnessMap",g.metallicRoughnessTexture)),v.push(i.assignTexture(p,"roughnessMap",g.metallicRoughnessTexture))),c=this._invokeOne(function(B){return B.getMaterialType&&B.getMaterialType(e)}),v.push(Promise.all(this._invokeAll(function(B){return B.extendMaterialParams&&B.extendMaterialParams(e,p)})))}u.doubleSided===!0&&(p.side=kr);const h=u.alphaMode||$l.OPAQUE;if(h===$l.BLEND?(p.transparent=!0,p.depthWrite=!1):(p.transparent=!1,h===$l.MASK&&(p.alphaTest=u.alphaCutoff!==void 0?u.alphaCutoff:.5)),u.normalTexture!==void 0&&c!==ds&&(v.push(i.assignTexture(p,"normalMap",u.normalTexture)),p.normalScale=new yt(1,1),u.normalTexture.scale!==void 0)){const g=u.normalTexture.scale;p.normalScale.set(g,g)}return u.occlusionTexture!==void 0&&c!==ds&&(v.push(i.assignTexture(p,"aoMap",u.occlusionTexture)),u.occlusionTexture.strength!==void 0&&(p.aoMapIntensity=u.occlusionTexture.strength)),u.emissiveFactor!==void 0&&c!==ds&&(p.emissive=new On().fromArray(u.emissiveFactor)),u.emissiveTexture!==void 0&&c!==ds&&v.push(i.assignTexture(p,"emissiveMap",u.emissiveTexture,3001)),Promise.all(v).then(function(){const g=new c(p);return u.name&&(g.name=u.name),hr(g,u),i.associations.set(g,{materials:e}),u.extensions&&Lr(a,g,u),g})}createUniqueName(e){const i=Qm.sanitizeNodeName(e||"");return i in this.nodeNamesUsed?i+"_"+ ++this.nodeNamesUsed[i]:(this.nodeNamesUsed[i]=0,i)}loadGeometries(e){const i=this,s=this.extensions,a=this.primitiveCache;function u(p){return s[be.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,i).then(function(d){return Nd(d,p,i)})}const c=[];for(let p=0,d=e.length;p<d;p++){const v=e[p],h=XB(v),g=a[h];if(g)c.push(g.promise);else{let B;v.extensions&&v.extensions[be.KHR_DRACO_MESH_COMPRESSION]?B=u(v):B=Nd(new aa,v,i),a[h]={primitive:v,promise:B},c.push(B)}}return Promise.all(c)}loadMesh(e){const i=this,s=this.json,a=this.extensions,u=s.meshes[e],c=u.primitives,p=[];for(let d=0,v=c.length;d<v;d++){const h=c[d].material===void 0?jB(this.cache):this.getDependency("material",c[d].material);p.push(h)}return p.push(i.loadGeometries(c)),Promise.all(p).then(function(d){const v=d.slice(0,d.length-1),h=d[d.length-1],g=[];for(let C=0,E=h.length;C<E;C++){const T=h[C],x=c[C];let _;const M=v[C];if(x.mode===an.TRIANGLES||x.mode===an.TRIANGLE_STRIP||x.mode===an.TRIANGLE_FAN||x.mode===void 0)_=u.isSkinnedMesh===!0?new Vm(T,M):new Du(T,M),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),x.mode===an.TRIANGLE_STRIP?_.geometry=Od(_.geometry,$d):x.mode===an.TRIANGLE_FAN&&(_.geometry=Od(_.geometry,ou));else if(x.mode===an.LINES)_=new Xm(T,M);else if(x.mode===an.LINE_STRIP)_=new Wm(T,M);else if(x.mode===an.LINE_LOOP)_=new Ym(T,M);else if(x.mode===an.POINTS)_=new Zm(T,M);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(_.geometry.morphAttributes).length>0&&VB(_,u),_.name=i.createUniqueName(u.name||"mesh_"+e),hr(_,u),x.extensions&&Lr(a,_,x),i.assignFinalMaterial(_),g.push(_)}for(let C=0,E=g.length;C<E;C++)i.associations.set(g[C],{meshes:e,primitives:C});if(g.length===1)return u.extensions&&Lr(a,g[0],u),g[0];const B=new Ul;u.extensions&&Lr(a,B,u),i.associations.set(B,{meshes:e});for(let C=0,E=g.length;C<E;C++)B.add(g[C]);return B})}loadCamera(e){let i;const s=this.json.cameras[e],a=s[s.type];if(!a){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?i=new xs(fs.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):s.type==="orthographic"&&(i=new oa(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),s.name&&(i.name=this.createUniqueName(s.name)),hr(i,s),Promise.resolve(i)}loadSkin(e){const i=this.json.skins[e],s=[];for(let a=0,u=i.joints.length;a<u;a++)s.push(this._loadNodeShallow(i.joints[a]));return i.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",i.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(a){const u=a.pop(),c=a,p=[],d=[];for(let v=0,h=c.length;v<h;v++){const g=c[v];if(g){p.push(g);const B=new Yo;u!==null&&B.fromArray(u.array,v*16),d.push(B)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',i.joints[v])}return new qm(p,d)})}loadAnimation(e){const s=this.json.animations[e],a=s.name?s.name:"animation_"+e,u=[],c=[],p=[],d=[],v=[];for(let h=0,g=s.channels.length;h<g;h++){const B=s.channels[h],C=s.samplers[B.sampler],E=B.target,T=E.node,x=s.parameters!==void 0?s.parameters[C.input]:C.input,_=s.parameters!==void 0?s.parameters[C.output]:C.output;E.node!==void 0&&(u.push(this.getDependency("node",T)),c.push(this.getDependency("accessor",x)),p.push(this.getDependency("accessor",_)),d.push(C),v.push(E))}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(p),Promise.all(d),Promise.all(v)]).then(function(h){const g=h[0],B=h[1],C=h[2],E=h[3],T=h[4],x=[];for(let _=0,M=g.length;_<M;_++){const w=g[_],F=B[_],z=C[_],H=E[_],j=T[_];if(w===void 0)continue;w.updateMatrix();let K;switch(cr[j.path]){case cr.weights:K=uv;break;case cr.rotation:K=Lf;break;case cr.position:case cr.scale:default:K=lv;break}const J=w.name?w.name:w.uuid,X=H.interpolation!==void 0?KB[H.interpolation]:ih,G=[];cr[j.path]===cr.weights?w.traverse(function(pe){pe.morphTargetInfluences&&G.push(pe.name?pe.name:pe.uuid)}):G.push(J);let q=z.array;if(z.normalized){const pe=Iu(q.constructor),Me=new Float32Array(q.length);for(let me=0,ke=q.length;me<ke;me++)Me[me]=q[me]*pe;q=Me}for(let pe=0,Me=G.length;pe<Me;pe++){const me=new K(G[pe]+"."+cr[j.path],F.array,q,X);H.interpolation==="CUBICSPLINE"&&(me.createInterpolant=function(Te){const Q=this instanceof Lf?JB:xp;return new Q(this.times,this.values,this.getValueSize()/3,Te)},me.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(me)}}return new $m(a,void 0,x)})}createNodeMesh(e){const i=this.json,s=this,a=i.nodes[e];return a.mesh===void 0?null:s.getDependency("mesh",a.mesh).then(function(u){const c=s._getNodeRef(s.meshCache,a.mesh,u);return a.weights!==void 0&&c.traverse(function(p){if(p.isMesh)for(let d=0,v=a.weights.length;d<v;d++)p.morphTargetInfluences[d]=a.weights[d]}),c})}loadNode(e){const i=this.json,s=this,a=i.nodes[e],u=s._loadNodeShallow(e),c=[],p=a.children||[];for(let v=0,h=p.length;v<h;v++)c.push(s.getDependency("node",p[v]));const d=a.skin===void 0?Promise.resolve(null):s.getDependency("skin",a.skin);return Promise.all([u,Promise.all(c),d]).then(function(v){const h=v[0],g=v[1],B=v[2];B!==null&&h.traverse(function(C){C.isSkinnedMesh&&C.bind(B,YB)});for(let C=0,E=g.length;C<E;C++)h.add(g[C]);return h})}_loadNodeShallow(e){const i=this.json,s=this.extensions,a=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const u=i.nodes[e],c=u.name?a.createUniqueName(u.name):"",p=[],d=a._invokeOne(function(v){return v.createNodeMesh&&v.createNodeMesh(e)});return d&&p.push(d),u.camera!==void 0&&p.push(a.getDependency("camera",u.camera).then(function(v){return a._getNodeRef(a.cameraCache,u.camera,v)})),a._invokeAll(function(v){return v.createNodeAttachment&&v.createNodeAttachment(e)}).forEach(function(v){p.push(v)}),this.nodeCache[e]=Promise.all(p).then(function(v){let h;if(u.isBone===!0?h=new ev:v.length>1?h=new Ul:v.length===1?h=v[0]:h=new th,h!==v[0])for(let g=0,B=v.length;g<B;g++)h.add(v[g]);if(u.name&&(h.userData.name=u.name,h.name=c),hr(h,u),u.extensions&&Lr(s,h,u),u.matrix!==void 0){const g=new Yo;g.fromArray(u.matrix),h.applyMatrix4(g)}else u.translation!==void 0&&h.position.fromArray(u.translation),u.rotation!==void 0&&h.quaternion.fromArray(u.rotation),u.scale!==void 0&&h.scale.fromArray(u.scale);return a.associations.has(h)||a.associations.set(h,{}),a.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const i=this.extensions,s=this.json.scenes[e],a=this,u=new Ul;s.name&&(u.name=a.createUniqueName(s.name)),hr(u,s),s.extensions&&Lr(i,u,s);const c=s.nodes||[],p=[];for(let d=0,v=c.length;d<v;d++)p.push(a.getDependency("node",c[d]));return Promise.all(p).then(function(d){for(let h=0,g=d.length;h<g;h++)u.add(d[h]);const v=h=>{const g=new Map;for(const[B,C]of a.associations)(B instanceof Bi||B instanceof Si)&&g.set(B,C);return h.traverse(B=>{const C=a.associations.get(B);C!=null&&g.set(B,C)}),g};return a.associations=v(u),u})}}function qB(t,e,i){const s=e.attributes,a=new cv;if(s.POSITION!==void 0){const p=i.json.accessors[s.POSITION],d=p.min,v=p.max;if(d!==void 0&&v!==void 0){if(a.set(new Ot(d[0],d[1],d[2]),new Ot(v[0],v[1],v[2])),p.normalized){const h=Iu(Ei[p.componentType]);a.min.multiplyScalar(h),a.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const u=e.targets;if(u!==void 0){const p=new Ot,d=new Ot;for(let v=0,h=u.length;v<h;v++){const g=u[v];if(g.POSITION!==void 0){const B=i.json.accessors[g.POSITION],C=B.min,E=B.max;if(C!==void 0&&E!==void 0){if(d.setX(Math.max(Math.abs(C[0]),Math.abs(E[0]))),d.setY(Math.max(Math.abs(C[1]),Math.abs(E[1]))),d.setZ(Math.max(Math.abs(C[2]),Math.abs(E[2]))),B.normalized){const T=Iu(Ei[B.componentType]);d.multiplyScalar(T)}p.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(p)}t.boundingBox=a;const c=new fv;a.getCenter(c.center),c.radius=a.min.distanceTo(a.max)/2,t.boundingSphere=c}function Nd(t,e,i){const s=e.attributes,a=[];function u(c,p){return i.getDependency("accessor",c).then(function(d){t.setAttribute(p,d)})}for(const c in s){const p=Tu[c]||c.toLowerCase();p in t.attributes||a.push(u(s[c],p))}if(e.indices!==void 0&&!t.index){const c=i.getDependency("accessor",e.indices).then(function(p){t.setIndex(p)});a.push(c)}return hr(t,e),qB(t,e,i),Promise.all(a).then(function(){return e.targets!==void 0?QB(t,e.targets,i):t})}class $B extends ah{constructor(e){super(e),this.type=Cn}parse(e){const p=function(w,F){switch(w){case 1:console.error("THREE.RGBELoader Read Error: "+(F||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(F||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(F||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(F||""))}return-1},g=`
`,B=function(w,F,z){F=F||1024;let j=w.pos,K=-1,J=0,X="",G=String.fromCharCode.apply(null,new Uint16Array(w.subarray(j,j+128)));for(;0>(K=G.indexOf(g))&&J<F&&j<w.byteLength;)X+=G,J+=G.length,j+=128,G+=String.fromCharCode.apply(null,new Uint16Array(w.subarray(j,j+128)));return-1<K?(z!==!1&&(w.pos+=J+K+1),X+G.slice(0,K)):!1},C=function(w){const F=/^#\?(\S+)/,z=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,H=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,j=/^\s*FORMAT=(\S+)\s*$/,K=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,J={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let X,G;if(w.pos>=w.byteLength||!(X=B(w)))return p(1,"no header found");if(!(G=X.match(F)))return p(3,"bad initial token");for(J.valid|=1,J.programtype=G[1],J.string+=X+`
`;X=B(w),X!==!1;){if(J.string+=X+`
`,X.charAt(0)==="#"){J.comments+=X+`
`;continue}if((G=X.match(z))&&(J.gamma=parseFloat(G[1])),(G=X.match(H))&&(J.exposure=parseFloat(G[1])),(G=X.match(j))&&(J.valid|=2,J.format=G[1]),(G=X.match(K))&&(J.valid|=4,J.height=parseInt(G[1],10),J.width=parseInt(G[2],10)),J.valid&2&&J.valid&4)break}return J.valid&2?J.valid&4?J:p(3,"missing image size specifier"):p(3,"missing format specifier")},E=function(w,F,z){const H=F;if(H<8||H>32767||w[0]!==2||w[1]!==2||w[2]&128)return new Uint8Array(w);if(H!==(w[2]<<8|w[3]))return p(3,"wrong scanline width");const j=new Uint8Array(4*F*z);if(!j.length)return p(4,"unable to allocate buffer space");let K=0,J=0;const X=4*H,G=new Uint8Array(4),q=new Uint8Array(X);let pe=z;for(;pe>0&&J<w.byteLength;){if(J+4>w.byteLength)return p(1);if(G[0]=w[J++],G[1]=w[J++],G[2]=w[J++],G[3]=w[J++],G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=H)return p(3,"bad rgbe scanline format");let Me=0,me;for(;Me<X&&J<w.byteLength;){me=w[J++];const Te=me>128;if(Te&&(me-=128),me===0||Me+me>X)return p(3,"bad scanline data");if(Te){const Q=w[J++];for(let ue=0;ue<me;ue++)q[Me++]=Q}else q.set(w.subarray(J,J+me),Me),Me+=me,J+=me}const ke=H;for(let Te=0;Te<ke;Te++){let Q=0;j[K]=q[Te+Q],Q+=H,j[K+1]=q[Te+Q],Q+=H,j[K+2]=q[Te+Q],Q+=H,j[K+3]=q[Te+Q],K+=4}pe--}return j},T=function(w,F,z,H){const j=w[F+3],K=Math.pow(2,j-128)/255;z[H+0]=w[F+0]*K,z[H+1]=w[F+1]*K,z[H+2]=w[F+2]*K,z[H+3]=1},x=function(w,F,z,H){const j=w[F+3],K=Math.pow(2,j-128)/255;z[H+0]=gi.toHalfFloat(Math.min(w[F+0]*K,65504)),z[H+1]=gi.toHalfFloat(Math.min(w[F+1]*K,65504)),z[H+2]=gi.toHalfFloat(Math.min(w[F+2]*K,65504)),z[H+3]=gi.toHalfFloat(1)},_=new Uint8Array(e);_.pos=0;const M=C(_);if(M!==-1){const w=M.width,F=M.height,z=E(_.subarray(_.pos),w,F);if(z!==-1){let H,j,K;switch(this.type){case gr:K=z.length/4;const J=new Float32Array(K*4);for(let G=0;G<K;G++)T(z,G*4,J,G*4);H=J,j=gr;break;case Cn:K=z.length/4;const X=new Uint16Array(K*4);for(let G=0;G<K;G++)x(z,G*4,X,G*4);H=X,j=Cn;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:w,height:F,data:H,header:M.string,gamma:M.gamma,exposure:M.exposure,type:j}}}return null}setDataType(e){return this.type=e,this}load(e,i,s,a){function u(c,p){switch(c.type){case gr:case Cn:"colorSpace"in c?c.colorSpace="srgb-linear":c.encoding=3e3,c.minFilter=hn,c.magFilter=hn,c.generateMipmaps=!1,c.flipY=!0;break}i&&i(c,p)}return super.load(e,u,s,a)}}const cs="colorSpace"in new Si;class ey extends ah{constructor(e){super(e),this.type=Cn}parse(e){const J=Math.pow(2.7182818,2.2);function X(A,y){for(var I=0,O=0;O<65536;++O)(O==0||A[O>>3]&1<<(O&7))&&(y[I++]=O);for(var b=I-1;I<65536;)y[I++]=0;return b}function G(A){for(var y=0;y<16384;y++)A[y]={},A[y].len=0,A[y].lit=0,A[y].p=null}const q={l:0,c:0,lc:0};function pe(A,y,I,O,b){for(;I<A;)y=y<<8|Ls(O,b),I+=8;I-=A,q.l=y>>I&(1<<A)-1,q.c=y,q.lc=I}const Me=new Array(59);function me(A){for(var y=0;y<=58;++y)Me[y]=0;for(var y=0;y<65537;++y)Me[A[y]]+=1;for(var I=0,y=58;y>0;--y){var O=I+Me[y]>>1;Me[y]=I,I=O}for(var y=0;y<65537;++y){var b=A[y];b>0&&(A[y]=b|Me[b]++<<6)}}function ke(A,y,I,O,b,N,W){for(var V=I,ee=0,$=0;b<=N;b++){if(V.value-I.value>O)return!1;pe(6,ee,$,A,V);var te=q.l;if(ee=q.c,$=q.lc,W[b]=te,te==63){if(V.value-I.value>O)throw"Something wrong with hufUnpackEncTable";pe(8,ee,$,A,V);var Z=q.l+6;if(ee=q.c,$=q.lc,b+Z>N+1)throw"Something wrong with hufUnpackEncTable";for(;Z--;)W[b++]=0;b--}else if(te>=59){var Z=te-59+2;if(b+Z>N+1)throw"Something wrong with hufUnpackEncTable";for(;Z--;)W[b++]=0;b--}}me(W)}function Te(A){return A&63}function Q(A){return A>>6}function ue(A,y,I,O){for(;y<=I;y++){var b=Q(A[y]),N=Te(A[y]);if(b>>N)throw"Invalid table entry";if(N>14){var W=O[b>>N-14];if(W.len)throw"Invalid table entry";if(W.lit++,W.p){var V=W.p;W.p=new Array(W.lit);for(var ee=0;ee<W.lit-1;++ee)W.p[ee]=V[ee]}else W.p=new Array(1);W.p[W.lit-1]=y}else if(N)for(var $=0,ee=1<<14-N;ee>0;ee--){var W=O[(b<<14-N)+$];if(W.len||W.p)throw"Invalid table entry";W.len=N,W.lit=y,$++}}return!0}const se={c:0,lc:0};function ge(A,y,I,O){A=A<<8|Ls(I,O),y+=8,se.c=A,se.lc=y}const le={c:0,lc:0};function Be(A,y,I,O,b,N,W,V,ee,$){if(A==y){O<8&&(ge(I,O,b,W),I=se.c,O=se.lc),O-=8;var te=I>>O,te=new Uint8Array([te])[0];if(ee.value+te>$)return!1;for(var Z=V[ee.value-1];te-- >0;)V[ee.value++]=Z}else if(ee.value<$)V[ee.value++]=A;else return!1;le.c=I,le.lc=O}function Ve(A){return A&65535}function Oe(A){var y=Ve(A);return y>32767?y-65536:y}const Ee={a:0,b:0};function ct(A,y){var I=Oe(A),O=Oe(y),b=O,N=I+(b&1)+(b>>1),W=N,V=N-b;Ee.a=W,Ee.b=V}function Ct(A,y){var I=Ve(A),O=Ve(y),b=I-(O>>1)&65535,N=O+b-32768&65535;Ee.a=N,Ee.b=b}function qn(A,y,I,O,b,N,W){for(var V=W<16384,ee=I>b?b:I,$=1,te;$<=ee;)$<<=1;for($>>=1,te=$,$>>=1;$>=1;){for(var Z=0,Ze=Z+N*(b-te),ce=N*$,de=N*te,ye=O*$,we=O*te,Ne,He,Ae,xe;Z<=Ze;Z+=de){for(var Le=Z,$e=Z+O*(I-te);Le<=$e;Le+=we){var Re=Le+ye,nt=Le+ce,Dt=nt+ye;V?(ct(A[Le+y],A[nt+y]),Ne=Ee.a,Ae=Ee.b,ct(A[Re+y],A[Dt+y]),He=Ee.a,xe=Ee.b,ct(Ne,He),A[Le+y]=Ee.a,A[Re+y]=Ee.b,ct(Ae,xe),A[nt+y]=Ee.a,A[Dt+y]=Ee.b):(Ct(A[Le+y],A[nt+y]),Ne=Ee.a,Ae=Ee.b,Ct(A[Re+y],A[Dt+y]),He=Ee.a,xe=Ee.b,Ct(Ne,He),A[Le+y]=Ee.a,A[Re+y]=Ee.b,Ct(Ae,xe),A[nt+y]=Ee.a,A[Dt+y]=Ee.b)}if(I&$){var nt=Le+ce;V?ct(A[Le+y],A[nt+y]):Ct(A[Le+y],A[nt+y]),Ne=Ee.a,A[nt+y]=Ee.b,A[Le+y]=Ne}}if(b&$)for(var Le=Z,$e=Z+O*(I-te);Le<=$e;Le+=we){var Re=Le+ye;V?ct(A[Le+y],A[Re+y]):Ct(A[Le+y],A[Re+y]),Ne=Ee.a,A[Re+y]=Ee.b,A[Le+y]=Ne}te=$,$>>=1}return Z}function ht(A,y,I,O,b,N,W,V,ee,$){for(var te=0,Z=0,Ze=V,ce=Math.trunc(b.value+(N+7)/8);b.value<ce;)for(ge(te,Z,I,b),te=se.c,Z=se.lc;Z>=14;){var de=te>>Z-14&16383,ye=y[de];if(ye.len)Z-=ye.len,Be(ye.lit,W,te,Z,I,O,b,ee,$,Ze),te=le.c,Z=le.lc;else{if(!ye.p)throw"hufDecode issues";var we;for(we=0;we<ye.lit;we++){for(var Ne=Te(A[ye.p[we]]);Z<Ne&&b.value<ce;)ge(te,Z,I,b),te=se.c,Z=se.lc;if(Z>=Ne&&Q(A[ye.p[we]])==(te>>Z-Ne&(1<<Ne)-1)){Z-=Ne,Be(ye.p[we],W,te,Z,I,O,b,ee,$,Ze),te=le.c,Z=le.lc;break}}if(we==ye.lit)throw"hufDecode issues"}}var He=8-N&7;for(te>>=He,Z-=He;Z>0;){var ye=y[te<<14-Z&16383];if(ye.len)Z-=ye.len,Be(ye.lit,W,te,Z,I,O,b,ee,$,Ze),te=le.c,Z=le.lc;else throw"hufDecode issues"}return!0}function Ie(A,y,I,O,b,N){var W={value:0},V=I.value,ee=Rt(y,I),$=Rt(y,I);I.value+=4;var te=Rt(y,I);if(I.value+=4,ee<0||ee>=65537||$<0||$>=65537)throw"Something wrong with HUF_ENCSIZE";var Z=new Array(65537),Ze=new Array(16384);G(Ze);var ce=O-(I.value-V);if(ke(A,y,I,ce,ee,$,Z),te>8*(O-(I.value-V)))throw"Something wrong with hufUncompress";ue(Z,ee,$,Ze),ht(Z,Ze,A,y,I,te,$,N,b,W)}function Jt(A,y,I){for(var O=0;O<I;++O)y[O]=A[y[O]]}function tt(A){for(var y=1;y<A.length;y++){var I=A[y-1]+A[y]-128;A[y]=I}}function _n(A,y){for(var I=0,O=Math.floor((A.length+1)/2),b=0,N=A.length-1;!(b>N||(y[b++]=A[I++],b>N));)y[b++]=A[O++]}function Ln(A){for(var y=A.byteLength,I=new Array,O=0,b=new DataView(A);y>0;){var N=b.getInt8(O++);if(N<0){var W=-N;y-=W+1;for(var V=0;V<W;V++)I.push(b.getUint8(O++))}else{var W=N;y-=2;for(var ee=b.getUint8(O++),V=0;V<W+1;V++)I.push(ee)}}return I}function Pi(A,y,I,O,b,N){var Re=new DataView(N.buffer),W=I[A.idx[0]].width,V=I[A.idx[0]].height,ee=3,$=Math.floor(W/8),te=Math.ceil(W/8),Z=Math.ceil(V/8),Ze=W-(te-1)*8,ce=V-(Z-1)*8,de={value:0},ye=new Array(ee),we=new Array(ee),Ne=new Array(ee),He=new Array(ee),Ae=new Array(ee);for(let Xe=0;Xe<ee;++Xe)Ae[Xe]=y[A.idx[Xe]],ye[Xe]=Xe<1?0:ye[Xe-1]+te*Z,we[Xe]=new Float32Array(64),Ne[Xe]=new Uint16Array(64),He[Xe]=new Uint16Array(te*64);for(let Xe=0;Xe<Z;++Xe){var xe=8;Xe==Z-1&&(xe=ce);var Le=8;for(let qe=0;qe<te;++qe){qe==te-1&&(Le=Ze);for(let ze=0;ze<ee;++ze)Ne[ze].fill(0),Ne[ze][0]=b[ye[ze]++],pn(de,O,Ne[ze]),Yr(Ne[ze],we[ze]),Sr(we[ze]);wn(we);for(let ze=0;ze<ee;++ze)Gi(we[ze],He[ze],qe*64)}let At=0;for(let qe=0;qe<ee;++qe){const ze=I[A.idx[qe]].type;for(let ot=8*Xe;ot<8*Xe+xe;++ot){At=Ae[qe][ot];for(let Nn=0;Nn<$;++Nn){const bt=Nn*64+(ot&7)*8;Re.setUint16(At+0*2*ze,He[qe][bt+0],!0),Re.setUint16(At+1*2*ze,He[qe][bt+1],!0),Re.setUint16(At+2*2*ze,He[qe][bt+2],!0),Re.setUint16(At+3*2*ze,He[qe][bt+3],!0),Re.setUint16(At+4*2*ze,He[qe][bt+4],!0),Re.setUint16(At+5*2*ze,He[qe][bt+5],!0),Re.setUint16(At+6*2*ze,He[qe][bt+6],!0),Re.setUint16(At+7*2*ze,He[qe][bt+7],!0),At+=8*2*ze}}if($!=te)for(let ot=8*Xe;ot<8*Xe+xe;++ot){const Nn=Ae[qe][ot]+8*$*2*ze,bt=$*64+(ot&7)*8;for(let xn=0;xn<Le;++xn)Re.setUint16(Nn+xn*2*ze,He[qe][bt+xn],!0)}}}for(var $e=new Uint16Array(W),Re=new DataView(N.buffer),nt=0;nt<ee;++nt){I[A.idx[nt]].decoded=!0;var Dt=I[A.idx[nt]].type;if(I[nt].type==2)for(var pt=0;pt<V;++pt){const Xe=Ae[nt][pt];for(var Tt=0;Tt<W;++Tt)$e[Tt]=Re.getUint16(Xe+Tt*2*Dt,!0);for(var Tt=0;Tt<W;++Tt)Re.setFloat32(Xe+Tt*2*Dt,oe($e[Tt]),!0)}}}function pn(A,y,I){for(var O,b=1;b<64;)O=y[A.value],O==65280?b=64:O>>8==255?b+=O&255:(I[b]=O,b++),A.value++}function Yr(A,y){y[0]=oe(A[0]),y[1]=oe(A[1]),y[2]=oe(A[5]),y[3]=oe(A[6]),y[4]=oe(A[14]),y[5]=oe(A[15]),y[6]=oe(A[27]),y[7]=oe(A[28]),y[8]=oe(A[2]),y[9]=oe(A[4]),y[10]=oe(A[7]),y[11]=oe(A[13]),y[12]=oe(A[16]),y[13]=oe(A[26]),y[14]=oe(A[29]),y[15]=oe(A[42]),y[16]=oe(A[3]),y[17]=oe(A[8]),y[18]=oe(A[12]),y[19]=oe(A[17]),y[20]=oe(A[25]),y[21]=oe(A[30]),y[22]=oe(A[41]),y[23]=oe(A[43]),y[24]=oe(A[9]),y[25]=oe(A[11]),y[26]=oe(A[18]),y[27]=oe(A[24]),y[28]=oe(A[31]),y[29]=oe(A[40]),y[30]=oe(A[44]),y[31]=oe(A[53]),y[32]=oe(A[10]),y[33]=oe(A[19]),y[34]=oe(A[23]),y[35]=oe(A[32]),y[36]=oe(A[39]),y[37]=oe(A[45]),y[38]=oe(A[52]),y[39]=oe(A[54]),y[40]=oe(A[20]),y[41]=oe(A[22]),y[42]=oe(A[33]),y[43]=oe(A[38]),y[44]=oe(A[46]),y[45]=oe(A[51]),y[46]=oe(A[55]),y[47]=oe(A[60]),y[48]=oe(A[21]),y[49]=oe(A[34]),y[50]=oe(A[37]),y[51]=oe(A[47]),y[52]=oe(A[50]),y[53]=oe(A[56]),y[54]=oe(A[59]),y[55]=oe(A[61]),y[56]=oe(A[35]),y[57]=oe(A[36]),y[58]=oe(A[48]),y[59]=oe(A[49]),y[60]=oe(A[57]),y[61]=oe(A[58]),y[62]=oe(A[62]),y[63]=oe(A[63])}function Sr(A){const y=.5*Math.cos(.7853975),I=.5*Math.cos(3.14159/16),O=.5*Math.cos(3.14159/8),b=.5*Math.cos(3*3.14159/16),N=.5*Math.cos(5*3.14159/16),W=.5*Math.cos(3*3.14159/8),V=.5*Math.cos(7*3.14159/16);for(var ee=new Array(4),$=new Array(4),te=new Array(4),Z=new Array(4),Ze=0;Ze<8;++Ze){var ce=Ze*8;ee[0]=O*A[ce+2],ee[1]=W*A[ce+2],ee[2]=O*A[ce+6],ee[3]=W*A[ce+6],$[0]=I*A[ce+1]+b*A[ce+3]+N*A[ce+5]+V*A[ce+7],$[1]=b*A[ce+1]-V*A[ce+3]-I*A[ce+5]-N*A[ce+7],$[2]=N*A[ce+1]-I*A[ce+3]+V*A[ce+5]+b*A[ce+7],$[3]=V*A[ce+1]-N*A[ce+3]+b*A[ce+5]-I*A[ce+7],te[0]=y*(A[ce+0]+A[ce+4]),te[3]=y*(A[ce+0]-A[ce+4]),te[1]=ee[0]+ee[3],te[2]=ee[1]-ee[2],Z[0]=te[0]+te[1],Z[1]=te[3]+te[2],Z[2]=te[3]-te[2],Z[3]=te[0]-te[1],A[ce+0]=Z[0]+$[0],A[ce+1]=Z[1]+$[1],A[ce+2]=Z[2]+$[2],A[ce+3]=Z[3]+$[3],A[ce+4]=Z[3]-$[3],A[ce+5]=Z[2]-$[2],A[ce+6]=Z[1]-$[1],A[ce+7]=Z[0]-$[0]}for(var de=0;de<8;++de)ee[0]=O*A[16+de],ee[1]=W*A[16+de],ee[2]=O*A[48+de],ee[3]=W*A[48+de],$[0]=I*A[8+de]+b*A[24+de]+N*A[40+de]+V*A[56+de],$[1]=b*A[8+de]-V*A[24+de]-I*A[40+de]-N*A[56+de],$[2]=N*A[8+de]-I*A[24+de]+V*A[40+de]+b*A[56+de],$[3]=V*A[8+de]-N*A[24+de]+b*A[40+de]-I*A[56+de],te[0]=y*(A[de]+A[32+de]),te[3]=y*(A[de]-A[32+de]),te[1]=ee[0]+ee[3],te[2]=ee[1]-ee[2],Z[0]=te[0]+te[1],Z[1]=te[3]+te[2],Z[2]=te[3]-te[2],Z[3]=te[0]-te[1],A[0+de]=Z[0]+$[0],A[8+de]=Z[1]+$[1],A[16+de]=Z[2]+$[2],A[24+de]=Z[3]+$[3],A[32+de]=Z[3]-$[3],A[40+de]=Z[2]-$[2],A[48+de]=Z[1]-$[1],A[56+de]=Z[0]-$[0]}function wn(A){for(var y=0;y<64;++y){var I=A[0][y],O=A[1][y],b=A[2][y];A[0][y]=I+1.5747*b,A[1][y]=I-.1873*O-.4682*b,A[2][y]=I+1.8556*O}}function Gi(A,y,I){for(var O=0;O<64;++O)y[I+O]=gi.toHalfFloat(Ui(A[O]))}function Ui(A){return A<=1?Math.sign(A)*Math.pow(Math.abs(A),2.2):Math.sign(A)*Math.pow(J,Math.abs(A)-1)}function Zr(A){return new DataView(A.array.buffer,A.offset.value,A.size)}function bn(A){var y=A.viewer.buffer.slice(A.offset.value,A.offset.value+A.size),I=new Uint8Array(Ln(y)),O=new Uint8Array(I.length);return tt(I),_n(I,O),new DataView(O.buffer)}function _r(A){var y=A.array.slice(A.offset.value,A.offset.value+A.size),I=Ko(y),O=new Uint8Array(I.length);return tt(I),_n(I,O),new DataView(O.buffer)}function Oi(A){for(var y=A.viewer,I={value:A.offset.value},O=new Uint16Array(A.width*A.scanlineBlockSize*(A.channels*A.type)),b=new Uint8Array(8192),N=0,W=new Array(A.channels),V=0;V<A.channels;V++)W[V]={},W[V].start=N,W[V].end=W[V].start,W[V].nx=A.width,W[V].ny=A.lines,W[V].size=A.type,N+=W[V].nx*W[V].ny*W[V].size;var ee=xr(y,I),$=xr(y,I);if($>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ee<=$)for(var V=0;V<$-ee+1;V++)b[V+ee]=$n(y,I);var te=new Uint16Array(65536),Z=X(b,te),Ze=Rt(y,I);Ie(A.array,y,I,Ze,O,N);for(var V=0;V<A.channels;++V)for(var ce=W[V],de=0;de<W[V].size;++de)qn(O,ce.start+de,ce.nx,ce.size,ce.ny,ce.nx*ce.size,Z);Jt(te,O,N);for(var ye=0,we=new Uint8Array(O.buffer.byteLength),Ne=0;Ne<A.lines;Ne++)for(var He=0;He<A.channels;He++){var ce=W[He],Ae=ce.nx*ce.size,xe=new Uint8Array(O.buffer,ce.end*2,Ae*2);we.set(xe,ye),ye+=Ae*2,ce.end+=Ae}return new DataView(we.buffer)}function mn(A){var y=A.array.slice(A.offset.value,A.offset.value+A.size),I=Ko(y);const O=A.lines*A.channels*A.width,b=A.type==1?new Uint16Array(O):new Uint32Array(O);let N=0,W=0;const V=new Array(4);for(let ee=0;ee<A.lines;ee++)for(let $=0;$<A.channels;$++){let te=0;switch(A.type){case 1:V[0]=N,V[1]=V[0]+A.width,N=V[1]+A.width;for(let Z=0;Z<A.width;++Z){const Ze=I[V[0]++]<<8|I[V[1]++];te+=Ze,b[W]=te,W++}break;case 2:V[0]=N,V[1]=V[0]+A.width,V[2]=V[1]+A.width,N=V[2]+A.width;for(let Z=0;Z<A.width;++Z){const Ze=I[V[0]++]<<24|I[V[1]++]<<16|I[V[2]++]<<8;te+=Ze,b[W]=te,W++}break}}return new DataView(b.buffer)}function Hs(A){var y=A.viewer,I={value:A.offset.value},O=new Uint8Array(A.width*A.lines*(A.channels*A.type*2)),b={version:Lt(y,I),unknownUncompressedSize:Lt(y,I),unknownCompressedSize:Lt(y,I),acCompressedSize:Lt(y,I),dcCompressedSize:Lt(y,I),rleCompressedSize:Lt(y,I),rleUncompressedSize:Lt(y,I),rleRawSize:Lt(y,I),totalAcUncompressedCount:Lt(y,I),totalDcUncompressedCount:Lt(y,I),acCompression:Lt(y,I)};if(b.version<2)throw"EXRLoader.parse: "+vn.compression+" version "+b.version+" is unsupported";for(var N=new Array,W=xr(y,I)-2;W>0;){var V=qr(y.buffer,I),ee=$n(y,I),$=ee>>2&3,te=(ee>>4)-1,Z=new Int8Array([te])[0],Ze=$n(y,I);N.push({name:V,index:Z,type:Ze,compression:$}),W-=V.length+3}for(var ce=vn.channels,de=new Array(A.channels),ye=0;ye<A.channels;++ye){var we=de[ye]={},Ne=ce[ye];we.name=Ne.name,we.compression=0,we.decoded=!1,we.type=Ne.pixelType,we.pLinear=Ne.pLinear,we.width=A.width,we.height=A.lines}for(var He={idx:new Array(3)},Ae=0;Ae<A.channels;++Ae)for(var we=de[Ae],ye=0;ye<N.length;++ye){var xe=N[ye];we.name==xe.name&&(we.compression=xe.compression,xe.index>=0&&(He.idx[xe.index]=Ae),we.offset=Ae)}if(b.acCompressedSize>0)switch(b.acCompression){case 0:var Re=new Uint16Array(b.totalAcUncompressedCount);Ie(A.array,y,I,b.acCompressedSize,Re,b.totalAcUncompressedCount);break;case 1:var Le=A.array.slice(I.value,I.value+b.totalAcUncompressedCount),$e=Ko(Le),Re=new Uint16Array($e.buffer);I.value+=b.totalAcUncompressedCount;break}if(b.dcCompressedSize>0){var nt={array:A.array,offset:I,size:b.dcCompressedSize},Dt=new Uint16Array(_r(nt).buffer);I.value+=b.dcCompressedSize}if(b.rleRawSize>0){var Le=A.array.slice(I.value,I.value+b.rleCompressedSize),$e=Ko(Le),pt=Ln($e.buffer);I.value+=b.rleCompressedSize}for(var Tt=0,Xe=new Array(de.length),ye=0;ye<Xe.length;++ye)Xe[ye]=new Array;for(var At=0;At<A.lines;++At)for(var qe=0;qe<de.length;++qe)Xe[qe].push(Tt),Tt+=de[qe].width*A.type*2;Pi(He,Xe,de,Re,Dt,O);for(var ye=0;ye<de.length;++ye){var we=de[ye];if(!we.decoded)switch(we.compression){case 2:for(var ze=0,ot=0,At=0;At<A.lines;++At){for(var Nn=Xe[ye][ze],bt=0;bt<we.width;++bt){for(var xn=0;xn<2*we.type;++xn)O[Nn++]=pt[ot+xn*we.width*we.height];ot++}ze++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(O.buffer)}function qr(A,y){for(var I=new Uint8Array(A),O=0;I[y.value+O]!=0;)O+=1;var b=new TextDecoder().decode(I.slice(y.value,y.value+O));return y.value=y.value+O+1,b}function Aa(A,y,I){var O=new TextDecoder().decode(new Uint8Array(A).slice(y.value,y.value+I));return y.value=y.value+I,O}function Ba(A,y){var I=wr(A,y),O=Rt(A,y);return[I,O]}function ya(A,y){var I=Rt(A,y),O=Rt(A,y);return[I,O]}function wr(A,y){var I=A.getInt32(y.value,!0);return y.value=y.value+4,I}function Rt(A,y){var I=A.getUint32(y.value,!0);return y.value=y.value+4,I}function Ls(A,y){var I=A[y.value];return y.value=y.value+1,I}function $n(A,y){var I=A.getUint8(y.value);return y.value=y.value+1,I}const Lt=function(A,y){let I;return"getBigInt64"in DataView.prototype?I=Number(A.getBigInt64(y.value,!0)):I=A.getUint32(y.value+4,!0)+Number(A.getUint32(y.value,!0)<<32),y.value+=8,I};function Et(A,y){var I=A.getFloat32(y.value,!0);return y.value+=4,I}function Ca(A,y){return gi.toHalfFloat(Et(A,y))}function oe(A){var y=(A&31744)>>10,I=A&1023;return(A>>15?-1:1)*(y?y===31?I?NaN:1/0:Math.pow(2,y-15)*(1+I/1024):6103515625e-14*(I/1024))}function xr(A,y){var I=A.getUint16(y.value,!0);return y.value+=2,I}function Ea(A,y){return oe(xr(A,y))}function Sa(A,y,I,O){for(var b=I.value,N=[];I.value<b+O-1;){var W=qr(y,I),V=wr(A,I),ee=$n(A,I);I.value+=3;var $=wr(A,I),te=wr(A,I);N.push({name:W,pixelType:V,pLinear:ee,xSampling:$,ySampling:te})}return I.value+=1,N}function bs(A,y){var I=Et(A,y),O=Et(A,y),b=Et(A,y),N=Et(A,y),W=Et(A,y),V=Et(A,y),ee=Et(A,y),$=Et(A,y);return{redX:I,redY:O,greenX:b,greenY:N,blueX:W,blueY:V,whiteX:ee,whiteY:$}}function Ns(A,y){var I=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],O=$n(A,y);return I[O]}function _a(A,y){var I=Rt(A,y),O=Rt(A,y),b=Rt(A,y),N=Rt(A,y);return{xMin:I,yMin:O,xMax:b,yMax:N}}function ks(A,y){var I=["INCREASING_Y"],O=$n(A,y);return I[O]}function zs(A,y){var I=Et(A,y),O=Et(A,y);return[I,O]}function Js(A,y){var I=Et(A,y),O=Et(A,y),b=Et(A,y);return[I,O,b]}function wa(A,y,I,O,b){if(O==="string"||O==="stringvector"||O==="iccProfile")return Aa(y,I,b);if(O==="chlist")return Sa(A,y,I,b);if(O==="chromaticities")return bs(A,I);if(O==="compression")return Ns(A,I);if(O==="box2i")return _a(A,I);if(O==="lineOrder")return ks(A,I);if(O==="float")return Et(A,I);if(O==="v2f")return zs(A,I);if(O==="v3f")return Js(A,I);if(O==="int")return wr(A,I);if(O==="rational")return Ba(A,I);if(O==="timecode")return ya(A,I);if(O==="preview")return I.value+=b,"skipped";I.value+=b}function xa(A,y,I){const O={};if(A.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";O.version=A.getUint8(4);const b=A.getUint8(5);O.spec={singleTile:!!(b&2),longName:!!(b&4),deepFormat:!!(b&8),multiPart:!!(b&16)},I.value=8;for(var N=!0;N;){var W=qr(y,I);if(W==0)N=!1;else{var V=qr(y,I),ee=Rt(A,I),$=wa(A,y,I,V,ee);$===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${V}'.`):O[W]=$}}if(b!=0)throw console.error("EXRHeader:",O),"THREE.EXRLoader: provided file is currently unsupported.";return O}function Ma(A,y,I,O,b){const N={size:0,viewer:y,array:I,offset:O,width:A.dataWindow.xMax-A.dataWindow.xMin+1,height:A.dataWindow.yMax-A.dataWindow.yMin+1,channels:A.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:A.channels[0].pixelType,uncompress:null,getter:null,format:null,[cs?"colorSpace":"encoding"]:null};switch(A.compression){case"NO_COMPRESSION":N.lines=1,N.uncompress=Zr;break;case"RLE_COMPRESSION":N.lines=1,N.uncompress=bn;break;case"ZIPS_COMPRESSION":N.lines=1,N.uncompress=_r;break;case"ZIP_COMPRESSION":N.lines=16,N.uncompress=_r;break;case"PIZ_COMPRESSION":N.lines=32,N.uncompress=Oi;break;case"PXR24_COMPRESSION":N.lines=16,N.uncompress=mn;break;case"DWAA_COMPRESSION":N.lines=32,N.uncompress=Hs;break;case"DWAB_COMPRESSION":N.lines=256,N.uncompress=Hs;break;default:throw"EXRLoader.parse: "+A.compression+" is unsupported"}if(N.scanlineBlockSize=N.lines,N.type==1)switch(b){case gr:N.getter=Ea,N.inputSize=2;break;case Cn:N.getter=xr,N.inputSize=2;break}else if(N.type==2)switch(b){case gr:N.getter=Et,N.inputSize=4;break;case Cn:N.getter=Ca,N.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+N.type+" for "+A.compression+".";N.blockCount=(A.dataWindow.yMax+1)/N.scanlineBlockSize;for(var W=0;W<N.blockCount;W++)Lt(y,O);N.outputChannels=N.channels==3?4:N.channels;const V=N.width*N.height*N.outputChannels;switch(b){case gr:N.byteArray=new Float32Array(V),N.channels<N.outputChannels&&N.byteArray.fill(1,0,V);break;case Cn:N.byteArray=new Uint16Array(V),N.channels<N.outputChannels&&N.byteArray.fill(15360,0,V);break;default:console.error("THREE.EXRLoader: unsupported type: ",b);break}return N.bytesPerLine=N.width*N.inputSize*N.channels,N.outputChannels==4?N.format=Xd:N.format=hv,cs?N.colorSpace="srgb-linear":N.encoding=3e3,N}const Mr=new DataView(e),Hi=new Uint8Array(e),Tr={value:0},vn=xa(Mr,e,Tr),Ge=Ma(vn,Mr,Hi,Tr,this.type),Ks={value:0},Ta={R:0,G:1,B:2,A:3,Y:0};for(let A=0;A<Ge.height/Ge.scanlineBlockSize;A++){const y=Rt(Mr,Tr);Ge.size=Rt(Mr,Tr),Ge.lines=y+Ge.scanlineBlockSize>Ge.height?Ge.height-y:Ge.scanlineBlockSize;const O=Ge.size<Ge.lines*Ge.bytesPerLine?Ge.uncompress(Ge):Zr(Ge);Tr.value+=Ge.size;for(let b=0;b<Ge.scanlineBlockSize;b++){const N=b+A*Ge.scanlineBlockSize;if(N>=Ge.height)break;for(let W=0;W<Ge.channels;W++){const V=Ta[vn.channels[W].name];for(let ee=0;ee<Ge.width;ee++){Ks.value=(b*(Ge.channels*Ge.width)+W*Ge.width+ee)*Ge.inputSize;const $=(Ge.height-1-N)*(Ge.width*Ge.outputChannels)+ee*Ge.outputChannels+V;Ge.byteArray[$]=Ge.getter(O,Ks)}}}}return{header:vn,width:Ge.width,height:Ge.height,data:Ge.byteArray,format:Ge.format,[cs?"colorSpace":"encoding"]:Ge[cs?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,i,s,a){function u(c,p){cs?c.colorSpace=p.colorSpace:c.encoding=p.encoding,c.minFilter=hn,c.magFilter=hn,c.generateMipmaps=!1,c.flipY=!1,i&&i(c,p)}return super.load(e,u,s,a)}}const tu=new WeakMap;class ty extends eh{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,i,s,a){const u=new Wo(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,c=>{const p={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(c,p).then(i).catch(a)},s,a)}decodeDracoFile(e,i,s,a){const u={attributeIDs:s||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!s};this.decodeGeometry(e,u).then(i)}decodeGeometry(e,i){for(const d in i.attributeTypes){const v=i.attributeTypes[d];v.BYTES_PER_ELEMENT!==void 0&&(i.attributeTypes[d]=v.name)}const s=JSON.stringify(i);if(tu.has(e)){const d=tu.get(e);if(d.key===s)return d.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const u=this.workerNextTaskID++,c=e.byteLength,p=this._getWorker(u,c).then(d=>(a=d,new Promise((v,h)=>{a._callbacks[u]={resolve:v,reject:h},a.postMessage({type:"decode",id:u,taskConfig:i,buffer:e},[e])}))).then(d=>this._createGeometry(d.geometry));return p.catch(()=>!0).then(()=>{a&&u&&this._releaseTask(a,u)}),tu.set(e,{key:s,promise:p}),p}_createGeometry(e){const i=new aa;e.index&&i.setIndex(new Xn(e.index.array,1));for(let s=0;s<e.attributes.length;s++){const a=e.attributes[s],u=a.name,c=a.array,p=a.itemSize;i.setAttribute(u,new Xn(c,p))}return i}_loadLibrary(e,i){const s=new Wo(this.manager);return s.setPath(this.decoderPath),s.setResponseType(i),s.setWithCredentials(this.withCredentials),new Promise((a,u)=>{s.load(e,a,void 0,u)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",i=[];return e?i.push(this._loadLibrary("draco_decoder.js","text")):(i.push(this._loadLibrary("draco_wasm_wrapper.js","text")),i.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(i).then(s=>{const a=s[0];e||(this.decoderConfig.wasmBinary=s[1]);const u=ny.toString(),c=["/* draco decoder */",a,"","/* worker */",u.substring(u.indexOf("{")+1,u.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(e,i){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(u){const c=u.data;switch(c.type){case"decode":a._callbacks[c.id].resolve(c);break;case"error":a._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,u){return a._taskLoad>u._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[e]=i,s._taskLoad+=i,s})}_releaseTask(e,i){e._taskLoad-=e._taskCosts[i],delete e._callbacks[i],delete e._taskCosts[i]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function ny(){let t,e;onmessage=function(c){const p=c.data;switch(p.type){case"init":t=p.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(g){h({draco:g})},DracoDecoderModule(t)});break;case"decode":const d=p.buffer,v=p.taskConfig;e.then(h=>{const g=h.draco,B=new g.Decoder,C=new g.DecoderBuffer;C.Init(new Int8Array(d),d.byteLength);try{const E=i(g,B,C,v),T=E.attributes.map(x=>x.array.buffer);E.index&&T.push(E.index.array.buffer),self.postMessage({type:"decode",id:p.id,geometry:E},T)}catch(E){console.error(E),self.postMessage({type:"error",id:p.id,error:E.message})}finally{g.destroy(C),g.destroy(B)}});break}};function i(c,p,d,v){const h=v.attributeIDs,g=v.attributeTypes;let B,C;const E=p.GetEncodedGeometryType(d);if(E===c.TRIANGULAR_MESH)B=new c.Mesh,C=p.DecodeBufferToMesh(d,B);else if(E===c.POINT_CLOUD)B=new c.PointCloud,C=p.DecodeBufferToPointCloud(d,B);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!C.ok()||B.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+C.error_msg());const T={index:null,attributes:[]};for(const x in h){const _=self[g[x]];let M,w;if(v.useUniqueIDs)w=h[x],M=p.GetAttributeByUniqueId(B,w);else{if(w=p.GetAttributeId(B,c[h[x]]),w===-1)continue;M=p.GetAttribute(B,w)}T.attributes.push(a(c,p,B,x,_,M))}return E===c.TRIANGULAR_MESH&&(T.index=s(c,p,B)),c.destroy(B),T}function s(c,p,d){const h=d.num_faces()*3,g=h*4,B=c._malloc(g);p.GetTrianglesUInt32Array(d,g,B);const C=new Uint32Array(c.HEAPF32.buffer,B,h).slice();return c._free(B),{array:C,itemSize:1}}function a(c,p,d,v,h,g){const B=g.num_components(),E=d.num_points()*B,T=E*h.BYTES_PER_ELEMENT,x=u(c,h),_=c._malloc(T);p.GetAttributeDataArrayForAllPoints(d,g,x,T,_);const M=new h(c.HEAPF32.buffer,_,E).slice();return c._free(_),{name:v,array:M,itemSize:B}}function u(c,p){switch(p){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}}let jo;const nu=()=>{if(jo)return jo;const t="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",e="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",i=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),s=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let a=t;WebAssembly.validate(i)&&(a=e);let u;const c=WebAssembly.instantiate(p(a),{}).then(g=>{u=g.instance,u.exports.__wasm_call_ctors()});function p(g){const B=new Uint8Array(g.length);for(let E=0;E<g.length;++E){const T=g.charCodeAt(E);B[E]=T>96?T-71:T>64?T-65:T>47?T+4:T>46?63:62}let C=0;for(let E=0;E<g.length;++E)B[C++]=B[E]<60?s[B[E]]:(B[E]-60)*64+B[++E];return B.buffer.slice(0,C)}function d(g,B,C,E,T,x){const _=u.exports.sbrk,M=C+3&-4,w=_(M*E),F=_(T.length),z=new Uint8Array(u.exports.memory.buffer);z.set(T,F);const H=g(w,C,E,F,T.length);if(H===0&&x&&x(w,M,E),B.set(z.subarray(w,w+C*E)),_(w-_(0)),H!==0)throw new Error(`Malformed buffer data: ${H}`)}const v={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return jo={ready:c,supported:!0,decodeVertexBuffer(g,B,C,E,T){d(u.exports.meshopt_decodeVertexBuffer,g,B,C,E,u.exports[v[T]])},decodeIndexBuffer(g,B,C,E){d(u.exports.meshopt_decodeIndexBuffer,g,B,C,E)},decodeIndexSequence(g,B,C,E){d(u.exports.meshopt_decodeIndexSequence,g,B,C,E)},decodeGltfBuffer(g,B,C,E,T,x){d(u.exports[h[T]],g,B,C,E,u.exports[v[x]])}},jo};let Qo=null,Mp="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function Tp(t,e,i){return s=>{i&&i(s),t&&(Qo||(Qo=new ty),Qo.setDecoderPath(typeof t=="string"?t:Mp),s.setDRACOLoader(Qo)),e&&s.setMeshoptDecoder(typeof nu=="function"?nu():nu)}}function va(t,e=!0,i=!0,s){return Di(nc,t,Tp(e,i,s))}va.preload=(t,e=!0,i=!0,s)=>Di.preload(nc,t,Tp(e,i,s));va.clear=t=>Di.clear(nc,t);va.setDecoderPath=t=>{Mp=t};function ry(t,e,i){const s=zt(B=>B.size),a=zt(B=>B.viewport),u=typeof t=="number"?t:s.width*a.dpr,c=typeof e=="number"?e:s.height*a.dpr,p=(typeof t=="number"?i:t)||{},{samples:d=0,depth:v,...h}=p,g=P.useMemo(()=>{const B=new Sn(u,c,{minFilter:hn,magFilter:hn,type:Cn,...h});return v&&(B.depthTexture=new lh(u,c,gr)),B.samples=d,B},[]);return P.useLayoutEffect(()=>{g.setSize(u,c),d&&(g.samples=d)},[d,g,u,c]),P.useEffect(()=>()=>g.dispose(),[]),g}const iy=t=>typeof t=="function",sy=P.forwardRef(({envMap:t,resolution:e=256,frames:i=1/0,makeDefault:s,children:a,...u},c)=>{const p=zt(({set:x})=>x),d=zt(({camera:x})=>x),v=zt(({size:x})=>x),h=P.useRef(null),g=P.useRef(null),B=ry(e);P.useLayoutEffect(()=>{u.manual||(h.current.aspect=v.width/v.height)},[v,u]),P.useLayoutEffect(()=>{h.current.updateProjectionMatrix()});let C=0,E=null;const T=iy(a);return Ts(x=>{T&&(i===1/0||C<i)&&(g.current.visible=!1,x.gl.setRenderTarget(B),E=x.scene.background,t&&(x.scene.background=t),x.gl.render(x.scene,h.current),x.scene.background=E,x.gl.setRenderTarget(null),g.current.visible=!0,C++)}),P.useLayoutEffect(()=>{if(s){const x=d;return p(()=>({camera:h.current})),()=>p(()=>({camera:x}))}},[h,s,p]),P.createElement(P.Fragment,null,P.createElement("perspectiveCamera",Cr({ref:Mg([h,c])},u),!T&&a),P.createElement("group",{ref:g},T&&a(B.texture)))}),ru={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},oy="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",kd=t=>Array.isArray(t);function Ip({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:i=void 0,encoding:s=void 0,extensions:a}={}){var u;let c=null,p=!1,d;if(i){if(!(i in ru))throw new Error("Preset must be one of: "+Object.keys(ru).join(", "));t=ru[i],e=oy}if(p=kd(t),d=kd(t)?"cube":t.startsWith("data:application/exr")?"exr":t.startsWith("data:application/hdr")?"hdr":(u=t.split(".").pop())==null||(u=u.split("?"))==null||(u=u.shift())==null?void 0:u.toLowerCase(),c=p?vv:d==="hdr"?$B:d==="exr"?ey:null,!c)throw new Error("useEnvironment: Unrecognized file extension: "+t);const v=Di(c,p?[t]:t,C=>{C.setPath==null||C.setPath(e),a&&a(C)}),h=p?v[0]:v;h.mapping=p?pv:mv;const g=3001,B=3e3;return"colorSpace"in h?h.colorSpace=s??p?"srgb":"srgb-linear":h.encoding=s??p?g:B,h}const ay=t=>t.current&&t.current.isScene,ly=t=>ay(t)?t.current:t;function rc(t,e,i,s,a=0){const u=ly(e||i),c=u.background,p=u.environment,d=u.backgroundBlurriness||0;return t!=="only"&&(u.environment=s),t&&(u.background=s),t&&u.backgroundBlurriness!==void 0&&(u.backgroundBlurriness=a),()=>{t!=="only"&&(u.environment=p),t&&(u.background=c),t&&u.backgroundBlurriness!==void 0&&(u.backgroundBlurriness=d)}}function ic({scene:t,background:e=!1,blur:i,map:s}){const a=zt(u=>u.scene);return P.useLayoutEffect(()=>{if(s)return rc(e,t,a,s,i)},[a,t,s,e,i]),null}function Rp({background:t=!1,scene:e,blur:i,...s}){const a=Ip(s),u=zt(c=>c.scene);return P.useLayoutEffect(()=>rc(t,e,u,a,i),[a,t,e,u,i]),null}function uy({children:t,near:e=1,far:i=1e3,resolution:s=256,frames:a=1,map:u,background:c=!1,blur:p,scene:d,files:v,path:h,preset:g=void 0,extensions:B}){const C=zt(w=>w.gl),E=zt(w=>w.scene),T=P.useRef(null),[x]=P.useState(()=>new As),_=P.useMemo(()=>{const w=new gv(s);return w.texture.type=Cn,w},[s]);P.useLayoutEffect(()=>(a===1&&T.current.update(C,x),rc(c,d,E,_.texture,p)),[t,x,_.texture,d,E,c,a,C]);let M=1;return Ts(()=>{(a===1/0||M<a)&&(T.current.update(C,x),M++)}),P.createElement(P.Fragment,null,Zv(P.createElement(P.Fragment,null,t,P.createElement("cubeCamera",{ref:T,args:[e,i,_]}),v||g?P.createElement(Rp,{background:!0,files:v,preset:g,path:h,extensions:B}):u?P.createElement(ic,{background:!0,map:u,extensions:B}):null),x))}function cy(t){var e,i,s,a;const u=Ip(t),c=t.map||u;P.useMemo(()=>Gu({GroundProjectedEnvImpl:yB}),[]);const p=P.useMemo(()=>[c],[c]),d=(e=t.ground)==null?void 0:e.height,v=(i=t.ground)==null?void 0:i.radius,h=(s=(a=t.ground)==null?void 0:a.scale)!==null&&s!==void 0?s:1e3;return P.createElement(P.Fragment,null,P.createElement(ic,Cr({},t,{map:c})),P.createElement("groundProjectedEnvImpl",{args:p,scale:h,height:d,radius:v}))}function fy(t){return t.ground?P.createElement(cy,t):t.map?P.createElement(ic,t):t.children?P.createElement(uy,t):P.createElement(Rp,t)}/**
 * postprocessing v6.33.3 build Mon Oct 30 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */var Dp="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Ue={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},Fp="",xt="srgb",ga="srgb-linear",Wn={NONE:0,DEPTH:1,CONVOLUTION:2},Qe={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},sc={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Pp=Number(Ms.replace(/\D+/g,"")),Gp=Pp>=152,dy=new Map([[uh,ga],[ch,xt]]),hy=new Map([[ga,uh],[xt,ch]]);function Ti(t){return t===null?null:Gp?t.outputColorSpace:dy.get(t.outputEncoding)}function Br(t,e){t!==null&&(Gp?t.colorSpace=e:t.encoding=hy.get(e))}function Os(t){return Pp<154?t.replace("colorspace_fragment","encodings_fragment"):t}var py=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,my="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",vy=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],gy=class extends Zn{constructor(t=new bf){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new We(null),texelSize:new We(new bf),scale:new We(1),kernel:new We(0)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:py,vertexShader:my}),this.fragmentShader=Os(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=sc.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return vy[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const i=1/t,s=1/e;this.uniforms.texelSize.value.set(i,s,i*.5,s*.5)}},Ay=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,Up=class extends Zn{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new We(null),opacity:new We(1)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ay,vertexShader:Dp}),this.fragmentShader=Os(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},By=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,yy="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",Cy=class extends Zn{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new We(null),normalBuffer:new We(null),texelSize:new We(new yt)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:By,vertexShader:yy})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Ii){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Ey=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,Sy="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",_y=class extends Zn{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new We(null),texelSize:new We(new yt)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ey,vertexShader:Sy}),this.fragmentShader=Os(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},wy=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,xy="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",My=class extends Zn{constructor(t,e,i,s,a=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Ms.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new We(null),depthBuffer:new We(null),resolution:new We(new yt),texelSize:new We(new yt),cameraNear:new We(.3),cameraFar:new We(1e3),aspect:new We(1),time:new We(0)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:a}),t&&this.setShaderParts(t),e&&this.setDefines(e),i&&this.setUniforms(i),this.copyCameraSettings(s)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=Ii){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=wy.replace(Qe.FRAGMENT_HEAD,t.get(Qe.FRAGMENT_HEAD)||"").replace(Qe.FRAGMENT_MAIN_UV,t.get(Qe.FRAGMENT_MAIN_UV)||"").replace(Qe.FRAGMENT_MAIN_IMAGE,t.get(Qe.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=xy.replace(Qe.VERTEX_HEAD,t.get(Qe.VERTEX_HEAD)||"").replace(Qe.VERTEX_MAIN_SUPPORT,t.get(Qe.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=Os(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof xs?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const i=this.uniforms;i.resolution.value.set(t,e),i.texelSize.value.set(1/t,1/e),i.aspect.value=t/e}static get Section(){return Qe}},Ty=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,Iy=class extends Zn{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Ms.replace(/\D+/g,"")},uniforms:{inputBuffer:new We(null),threshold:new We(0),smoothing:new We(1),range:new We(null)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ty,vertexShader:Dp}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},Ry=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,Dy="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Fy=class extends Zn{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new We(null),supportBuffer:new We(null),texelSize:new We(new yt),radius:new We(.85)},blending:Vr,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Ry,vertexShader:Dy}),this.fragmentShader=Os(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Py=new Zd,fr=null;function Gy(){if(fr===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);fr=new aa,fr.setAttribute!==void 0?(fr.setAttribute("position",new Xn(t,3)),fr.setAttribute("uv",new Xn(e,2))):(fr.addAttribute("position",new Xn(t,3)),fr.addAttribute("uv",new Xn(e,2)))}return fr}var Zt=class Op{constructor(e="Pass",i=new As,s=Py){this.name=e,this.renderer=null,this.scene=i,this.camera=s,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const i=this.fullscreenMaterial;i!==null&&(i.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let i=this.screen;i!==null?i.material=e:(i=new Du(Gy(),e),i.frustumCulled=!1,this.scene===null&&(this.scene=new As),this.scene.add(i),this.screen=i)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,i=Ii){}render(e,i,s,a,u){throw new Error("Render method not implemented!")}setSize(e,i){}initialize(e,i,s){}dispose(){for(const e of Object.keys(this)){const i=this[e];(i instanceof Sn||i instanceof Bi||i instanceof Si||i instanceof Op)&&this[e].dispose()}}},Uy=class extends Zt{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new Up,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Sn(1,1,{minFilter:hn,magFilter:hn,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,i,s,a){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,i){i!==void 0&&(this.renderTarget.texture.type=i,i!==yr?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Ti(t)===xt&&Br(this.renderTarget.texture,xt))}},Oy=class extends Zt{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,i,s,a){const u=t.state.buffers.stencil;u.setLocked(!1),u.setTest(!1)}},zd=new On,Hp=class extends Zt{constructor(t=!0,e=!0,i=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=i,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,i){this.color=t,this.depth=e,this.stencil=i}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,i,s,a){const u=this.overrideClearColor,c=this.overrideClearAlpha,p=t.getClearAlpha(),d=u!==null,v=c>=0;d?(t.getClearColor(zd),t.setClearColor(u,v?c:p)):v&&t.setClearAlpha(c),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),d?t.setClearColor(zd,p):v&&t.setClearAlpha(p)}},Lp=class extends Zt{constructor(t,e,i=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new Hp,this.overrideMaterialManager=i===null?null:new Kd(i),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new Kd(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,i,s,a){const u=this.scene,c=this.camera,p=this.selection,d=c.layers.mask,v=u.background,h=t.shadowMap.autoUpdate,g=this.renderToScreen?null:e;p!==null&&c.layers.set(p.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(u.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(g),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,u,c):t.render(u,c),c.layers.mask=d,u.background=v,t.shadowMap.autoUpdate=h}},Hy=class extends Zt{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:i=Ht.AUTO_SIZE,height:s=Ht.AUTO_SIZE,resolutionX:a=i,resolutionY:u=s}={}){super("DepthDownsamplingPass");const c=new Cy;c.normalBuffer=t,this.fullscreenMaterial=c,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Sn(1,1,{minFilter:Bs,magFilter:Bs,depthBuffer:!1,type:gr}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const p=this.resolution=new Ht(this,a,u,e);p.addEventListener("change",d=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=Ii){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,i,s,a){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const i=this.resolution;i.setBaseSize(t,e),this.renderTarget.setSize(i.width,i.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,i){const s=t.getContext();if(!(s.getExtension("EXT_color_buffer_float")||s.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function Jd(t,e,i){for(const s of e){const a="$1"+t+s.charAt(0).toUpperCase()+s.slice(1),u=new RegExp("([^\\.])(\\b"+s+"\\b)","g");for(const c of i.entries())c[1]!==null&&i.set(c[0],c[1].replace(u,a))}}function Ly(t,e,i){let s=e.getFragmentShader(),a=e.getVertexShader();const u=s!==void 0&&/mainImage/.test(s),c=s!==void 0&&/mainUv/.test(s);if(i.attributes|=e.getAttributes(),s===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(c&&i.attributes&Wn.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!u&&!c)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const p=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,d=i.shaderParts;let v=d.get(Qe.FRAGMENT_HEAD)||"",h=d.get(Qe.FRAGMENT_MAIN_UV)||"",g=d.get(Qe.FRAGMENT_MAIN_IMAGE)||"",B=d.get(Qe.VERTEX_HEAD)||"",C=d.get(Qe.VERTEX_MAIN_SUPPORT)||"";const E=new Set,T=new Set;if(c&&(h+=`	${t}MainUv(UV);
`,i.uvTransformation=!0),a!==null&&/mainSupport/.test(a)){const M=/mainSupport *\([\w\s]*?uv\s*?\)/.test(a);C+=`	${t}MainSupport(`,C+=M?`vUv);
`:`);
`;for(const w of a.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const F of w[1].split(/\s*,\s*/))i.varyings.add(F),E.add(F),T.add(F);for(const w of a.matchAll(p))T.add(w[1])}for(const M of s.matchAll(p))T.add(M[1]);for(const M of e.defines.keys())T.add(M.replace(/\([\w\s,]*\)/g,""));for(const M of e.uniforms.keys())T.add(M);T.delete("while"),T.delete("for"),T.delete("if"),e.uniforms.forEach((M,w)=>i.uniforms.set(t+w.charAt(0).toUpperCase()+w.slice(1),M)),e.defines.forEach((M,w)=>i.defines.set(t+w.charAt(0).toUpperCase()+w.slice(1),M));const x=new Map([["fragment",s],["vertex",a]]);Jd(t,T,i.defines),Jd(t,T,x),s=x.get("fragment"),a=x.get("vertex");const _=e.blendMode;if(i.blendModes.set(_.blendFunction,_),u){e.inputColorSpace!==null&&e.inputColorSpace!==i.colorSpace&&(g+=e.inputColorSpace===xt?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Fp?i.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(i.colorSpace=e.inputColorSpace);const M=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;g+=`${t}MainImage(color0, UV, `,i.attributes&Wn.DEPTH&&M.test(s)&&(g+="depth, ",i.readDepth=!0),g+=`color1);
	`;const w=t+"BlendOpacity";i.uniforms.set(w,_.opacity),g+=`color0 = blend${_.blendFunction}(color0, color1, ${w});

	`,v+=`uniform float ${w};

`}if(v+=s+`
`,a!==null&&(B+=a+`
`),d.set(Qe.FRAGMENT_HEAD,v),d.set(Qe.FRAGMENT_MAIN_UV,h),d.set(Qe.FRAGMENT_MAIN_IMAGE,g),d.set(Qe.VERTEX_HEAD,B),d.set(Qe.VERTEX_MAIN_SUPPORT,C),e.extensions!==null)for(const M of e.extensions)i.extensions.add(M)}}var by=class extends Zt{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new My(null,null,null,t),this.listener=i=>this.handleEvent(i),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,i)=>i.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new Xy;let e=0;for(const c of this.effects)if(c.blendMode.blendFunction===Ue.DST)t.attributes|=c.getAttributes()&Wn.DEPTH;else{if(t.attributes&c.getAttributes()&Wn.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${c.name})`);Ly("e"+e++,c,t)}let i=t.shaderParts.get(Qe.FRAGMENT_HEAD),s=t.shaderParts.get(Qe.FRAGMENT_MAIN_IMAGE),a=t.shaderParts.get(Qe.FRAGMENT_MAIN_UV);const u=/\bblend\b/g;for(const c of t.blendModes.values())i+=c.getShaderCode().replace(u,`blend${c.blendFunction}`)+`
`;t.attributes&Wn.DEPTH?(t.readDepth&&(s=`float depth = readDepth(UV);

	`+s),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===xt&&(s+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(a=`vec2 transformedUv = vUv;
`+a,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(Qe.FRAGMENT_HEAD,i),t.shaderParts.set(Qe.FRAGMENT_MAIN_IMAGE,s),t.shaderParts.set(Qe.FRAGMENT_MAIN_UV,a);for(const[c,p]of t.shaderParts)p!==null&&t.shaderParts.set(c,p.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=Ii){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const i of this.effects)i.setDepthTexture(t,e)}render(t,e,i,s,a){for(const u of this.effects)u.update(t,e,s);if(!this.skipRendering||this.renderToScreen){const u=this.fullscreenMaterial;u.inputBuffer=e.texture,u.time+=s*this.timeScale,t.setRenderTarget(this.renderToScreen?null:i),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const i of this.effects)i.setSize(t,e)}initialize(t,e,i){this.renderer=t;for(const s of this.effects)s.initialize(t,e,i);this.updateMaterial(),i!==void 0&&i!==yr&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},Ny=class extends Zt{constructor({kernelSize:t=sc.MEDIUM,resolutionScale:e=.5,width:i=Ht.AUTO_SIZE,height:s=Ht.AUTO_SIZE,resolutionX:a=i,resolutionY:u=s}={}){super("KawaseBlurPass"),this.renderTargetA=new Sn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const c=this.resolution=new Ht(this,a,u,e);c.addEventListener("change",p=>this.setSize(c.baseWidth,c.baseHeight)),this._blurMaterial=new gy,this._blurMaterial.kernelSize=t,this.copyMaterial=new Up}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,i,s,a){const u=this.scene,c=this.camera,p=this.renderTargetA,d=this.renderTargetB,v=this.blurMaterial,h=v.kernelSequence;let g=e;this.fullscreenMaterial=v;for(let B=0,C=h.length;B<C;++B){const E=B&1?d:p;v.kernel=h[B],v.inputBuffer=g.texture,t.setRenderTarget(E),t.render(u,c),g=E}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=g.texture,t.setRenderTarget(this.renderToScreen?null:i),t.render(u,c)}setSize(t,e){const i=this.resolution;i.setBaseSize(t,e);const s=i.width,a=i.height;this.renderTargetA.setSize(s,a),this.renderTargetB.setSize(s,a),this.blurMaterial.setSize(t,e)}initialize(t,e,i){i!==void 0&&(this.renderTargetA.texture.type=i,this.renderTargetB.texture.type=i,i!==yr?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Ti(t)===xt&&(Br(this.renderTargetA.texture,xt),Br(this.renderTargetB.texture,xt)))}static get AUTO_SIZE(){return Ht.AUTO_SIZE}},ky=class extends Zt{constructor({renderTarget:t,luminanceRange:e,colorOutput:i,resolutionScale:s=1,width:a=Ht.AUTO_SIZE,height:u=Ht.AUTO_SIZE,resolutionX:c=a,resolutionY:p=u}={}){super("LuminancePass"),this.fullscreenMaterial=new Iy(i,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Sn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const d=this.resolution=new Ht(this,c,p,s);d.addEventListener("change",v=>this.setSize(d.baseWidth,d.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,i,s,a){const u=this.fullscreenMaterial;u.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const i=this.resolution;i.setBaseSize(t,e),this.renderTarget.setSize(i.width,i.height)}initialize(t,e,i){i!==void 0&&i!==yr&&(this.renderTarget.texture.type=i,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},zy=class extends Zt{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new Hp(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,i,s,a){const u=t.getContext(),c=t.state.buffers,p=this.scene,d=this.camera,v=this.clearPass,h=this.inverted?0:1,g=1-h;c.color.setMask(!1),c.depth.setMask(!1),c.color.setLocked(!0),c.depth.setLocked(!0),c.stencil.setTest(!0),c.stencil.setOp(u.REPLACE,u.REPLACE,u.REPLACE),c.stencil.setFunc(u.ALWAYS,h,4294967295),c.stencil.setClear(g),c.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?v.render(t,null):(v.render(t,e),v.render(t,i))),this.renderToScreen?(t.setRenderTarget(null),t.render(p,d)):(t.setRenderTarget(e),t.render(p,d),t.setRenderTarget(i),t.render(p,d)),c.color.setLocked(!1),c.depth.setLocked(!1),c.stencil.setLocked(!1),c.stencil.setFunc(u.EQUAL,1,4294967295),c.stencil.setOp(u.KEEP,u.KEEP,u.KEEP),c.stencil.setLocked(!0)}},Jy=class extends Zt{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Sn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new _y,this.upsamplingMaterial=new Fy,this.resolution=new yt}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let i=0;i<t;++i){const s=e.clone();s.texture.name="Downsampling.Mipmap"+i,this.downsamplingMipmaps.push(s)}this.upsamplingMipmaps.push(e);for(let i=1,s=t-1;i<s;++i){const a=e.clone();a.texture.name="Upsampling.Mipmap"+i,this.upsamplingMipmaps.push(a)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,i,s,a){const{scene:u,camera:c}=this,{downsamplingMaterial:p,upsamplingMaterial:d}=this,{downsamplingMipmaps:v,upsamplingMipmaps:h}=this;let g=e;this.fullscreenMaterial=p;for(let B=0,C=v.length;B<C;++B){const E=v[B];p.setSize(g.width,g.height),p.inputBuffer=g.texture,t.setRenderTarget(E),t.render(u,c),g=E}this.fullscreenMaterial=d;for(let B=h.length-1;B>=0;--B){const C=h[B];d.setSize(g.width,g.height),d.inputBuffer=g.texture,d.supportBuffer=v[B].texture,t.setRenderTarget(C),t.render(u,c),g=C}}setSize(t,e){const i=this.resolution;i.set(t,e);let s=i.width,a=i.height;for(let u=0,c=this.downsamplingMipmaps.length;u<c;++u)s=Math.round(s*.5),a=Math.round(a*.5),this.downsamplingMipmaps[u].setSize(s,a),u<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[u].setSize(s,a)}initialize(t,e,i){if(i!==void 0){const s=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const a of s)a.texture.type=i;if(i!==yr)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Ti(t)===xt)for(const a of s)Br(a.texture,xt)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},Ky=class extends Zt{constructor(t,e,{renderTarget:i,resolutionScale:s=1,width:a=Ht.AUTO_SIZE,height:u=Ht.AUTO_SIZE,resolutionX:c=a,resolutionY:p=u}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Lp(t,e,new Av);const d=this.renderPass;d.ignoreBackground=!0,d.skipShadowMapUpdate=!0;const v=d.getClearPass();v.overrideClearColor=new On(7829503),v.overrideClearAlpha=1,this.renderTarget=i,this.renderTarget===void 0&&(this.renderTarget=new Sn(1,1,{minFilter:Bs,magFilter:Bs}),this.renderTarget.texture.name="NormalPass.Target");const h=this.resolution=new Ht(this,c,p,s);h.addEventListener("change",g=>this.setSize(h.baseWidth,h.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,i,s,a){const u=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,u,u)}setSize(t,e){const i=this.resolution;i.setBaseSize(t,e),this.renderTarget.setSize(i.width,i.height)}},iu=1/1e3,jy=1e3,Qy=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*iu}get fixedDelta(){return this._fixedDelta*iu}set fixedDelta(t){this._fixedDelta=t*jy}get elapsed(){return this._elapsed*iu}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},Vy=class{constructor(e=null,{depthBuffer:i=!0,stencilBuffer:s=!1,multisampling:a=0,frameBufferType:u}={}){this.renderer=null,this.inputBuffer=this.createBuffer(i,s,u,a),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new Uy,this.depthTexture=null,this.passes=[],this.timer=new Qy,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const i=this.inputBuffer,s=this.multisampling;s>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):s!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(i.depthBuffer,i.stencilBuffer,i.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const i=e.getSize(new yt),s=e.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;a===yr&&Ti(e)===xt&&(Br(this.inputBuffer.texture,xt),Br(this.outputBuffer.texture,xt),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(i.width,i.height);for(const u of this.passes)u.initialize(e,s,a)}}replaceRenderer(e,i=!0){const s=this.renderer,a=s.domElement.parentNode;return this.setRenderer(e),i&&a!==null&&(a.removeChild(s.domElement),a.appendChild(e.domElement)),s}createDepthTexture(){const e=this.depthTexture=new lh;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Bv,e.type=yv):e.type=Cv,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,i,s,a){const u=this.renderer,c=u===null?new yt:u.getDrawingBufferSize(new yt),p={minFilter:hn,magFilter:hn,stencilBuffer:i,depthBuffer:e,type:s},d=new Sn(c.width,c.height,p);return a>0&&(d.ignoreDepthForMultisampleCopy=!1,d.samples=a),s===yr&&Ti(u)===xt&&Br(d.texture,xt),d.texture.name="EffectComposer.Buffer",d.texture.generateMipmaps=!1,d}setMainScene(e){for(const i of this.passes)i.mainScene=e}setMainCamera(e){for(const i of this.passes)i.mainCamera=e}addPass(e,i){const s=this.passes,a=this.renderer,u=a.getDrawingBufferSize(new yt),c=a.getContext().getContextAttributes().alpha,p=this.inputBuffer.texture.type;if(e.setRenderer(a),e.setSize(u.width,u.height),e.initialize(a,c,p),this.autoRenderToScreen&&(s.length>0&&(s[s.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),i!==void 0?s.splice(i,0,e):s.push(e),this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const d=this.createDepthTexture();for(e of s)e.setDepthTexture(d)}else e.setDepthTexture(this.depthTexture)}removePass(e){const i=this.passes,s=i.indexOf(e);if(s!==-1&&i.splice(s,1).length>0){if(this.depthTexture!==null){const c=(d,v)=>d||v.needsDepthTexture;i.reduce(c,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&s===i.length&&(e.renderToScreen=!1,i.length>0&&(i[i.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const i=this.renderer,s=this.copyPass;let a=this.inputBuffer,u=this.outputBuffer,c=!1,p,d,v;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const h of this.passes)h.enabled&&(h.render(i,a,u,e,c),h.needsSwap&&(c&&(s.renderToScreen=h.renderToScreen,p=i.getContext(),d=i.state.buffers.stencil,d.setFunc(p.NOTEQUAL,1,4294967295),s.render(i,a,u,e,c),d.setFunc(p.EQUAL,1,4294967295)),v=a,a=u,u=v),h instanceof zy?c=!0:h instanceof Oy&&(c=!1))}setSize(e,i,s){const a=this.renderer,u=a.getSize(new yt);(e===void 0||i===void 0)&&(e=u.width,i=u.height),(u.width!==e||u.height!==i)&&a.setSize(e,i,s);const c=a.getDrawingBufferSize(new yt);this.inputBuffer.setSize(c.width,c.height),this.outputBuffer.setSize(c.width,c.height);for(const p of this.passes)p.setSize(c.width,c.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},Xy=class{constructor(){this.shaderParts=new Map([[Qe.FRAGMENT_HEAD,null],[Qe.FRAGMENT_MAIN_UV,null],[Qe.FRAGMENT_MAIN_IMAGE,null],[Qe.VERTEX_HEAD,null],[Qe.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Wn.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=ga}},su=!1,Kd=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let i;if(e.material.flatShading)switch(e.material.side){case kr:i=this.materialsFlatShadedDoubleSide;break;case Lo:i=this.materialsFlatShadedBackSide;break;default:i=this.materialsFlatShaded;break}else switch(e.material.side){case kr:i=this.materialsDoubleSide;break;case Lo:i=this.materialsBackSide;break;default:i=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=i[2]:e.isInstancedMesh?e.material=i[1]:e.material=i[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Zn))return t.clone();const e=t.uniforms,i=new Map;for(const a in e){const u=e[a].value;u.isRenderTargetTexture&&(e[a].value=null,i.set(a,u))}const s=t.clone();for(const a of i)e[a[0]].value=a[1],s.uniforms[a[0]].value=a[1];return s}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const i of e)i.uniforms=Object.assign({},t.uniforms),i.side=oh;e[2].skinning=!0,this.materialsBackSide=e.map(i=>{const s=this.cloneMaterial(i);return s.uniforms=Object.assign({},t.uniforms),s.side=Lo,s}),this.materialsDoubleSide=e.map(i=>{const s=this.cloneMaterial(i);return s.uniforms=Object.assign({},t.uniforms),s.side=kr,s}),this.materialsFlatShaded=e.map(i=>{const s=this.cloneMaterial(i);return s.uniforms=Object.assign({},t.uniforms),s.flatShading=!0,s}),this.materialsFlatShadedBackSide=e.map(i=>{const s=this.cloneMaterial(i);return s.uniforms=Object.assign({},t.uniforms),s.flatShading=!0,s.side=Lo,s}),this.materialsFlatShadedDoubleSide=e.map(i=>{const s=this.cloneMaterial(i);return s.uniforms=Object.assign({},t.uniforms),s.flatShading=!0,s.side=kr,s})}}render(t,e,i){const s=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,su){const a=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,i);for(const u of a)u[0].material=u[1];this.meshCount!==a.size&&a.clear()}else{const a=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,i),e.overrideMaterial=a}t.shadowMap.enabled=s}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return su}static set workaroundEnabled(t){su=t}},dr=-1,Ht=class extends Fu{constructor(t,e=dr,i=dr,s=1){super(),this.resizable=t,this.baseSize=new yt(1,1),this.preferredSize=new yt(e,i),this.target=this.preferredSize,this.s=s,this.effectiveSize=new yt,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,i=this.effectiveSize,s=this.scale;e.width!==dr?i.width=e.width:e.height!==dr?i.width=Math.round(e.height*(t.width/Math.max(t.height,1))):i.width=Math.round(t.width*s),e.height!==dr?i.height=e.height:e.width!==dr?i.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):i.height=Math.round(t.height*s)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(dr),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return dr}},Wy="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",Yy="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",Zy="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",qy="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",$y="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",e1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",t1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",n1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",r1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",i1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",s1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",o1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",a1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",l1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",u1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",c1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",f1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",d1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",h1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",p1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",m1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",v1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",g1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",A1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",B1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",y1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",C1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",E1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",S1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",_1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",w1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",x1="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",M1=new Map([[Ue.ADD,Wy],[Ue.ALPHA,Yy],[Ue.AVERAGE,Zy],[Ue.COLOR,qy],[Ue.COLOR_BURN,$y],[Ue.COLOR_DODGE,e1],[Ue.DARKEN,t1],[Ue.DIFFERENCE,n1],[Ue.DIVIDE,r1],[Ue.DST,null],[Ue.EXCLUSION,i1],[Ue.HARD_LIGHT,s1],[Ue.HARD_MIX,o1],[Ue.HUE,a1],[Ue.INVERT,l1],[Ue.INVERT_RGB,u1],[Ue.LIGHTEN,c1],[Ue.LINEAR_BURN,f1],[Ue.LINEAR_DODGE,d1],[Ue.LINEAR_LIGHT,h1],[Ue.LUMINOSITY,p1],[Ue.MULTIPLY,m1],[Ue.NEGATION,v1],[Ue.NORMAL,g1],[Ue.OVERLAY,A1],[Ue.PIN_LIGHT,B1],[Ue.REFLECT,y1],[Ue.SATURATION,C1],[Ue.SCREEN,E1],[Ue.SOFT_LIGHT,S1],[Ue.SRC,_1],[Ue.SUBTRACT,w1],[Ue.VIVID_LIGHT,x1]]),T1=class extends Fu{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new We(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return M1.get(this.blendFunction)}},Ru=class extends Fu{constructor(t,e,{attributes:i=Wn.NONE,blendFunction:s=Ue.NORMAL,defines:a=new Map,uniforms:u=new Map,extensions:c=null,vertexShader:p=null}={}){super(),this.name=t,this.renderer=null,this.attributes=i,this.fragmentShader=e,this.vertexShader=p,this.defines=a,this.uniforms=u,this.extensions=c,this.blendMode=new T1(s),this.blendMode.addEventListener("change",d=>this.setChanged()),this._inputColorSpace=ga,this._outputColorSpace=Fp}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=Ii){}update(t,e,i){}setSize(t,e){}initialize(t,e,i){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Sn||e instanceof Bi||e instanceof Si||e instanceof Zt)&&this[t].dispose()}}},I1=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,R1=class extends Ru{constructor({blendFunction:t=Ue.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:i=.025,mipmapBlur:s=!1,intensity:a=1,radius:u=.85,levels:c=8,kernelSize:p=sc.LARGE,resolutionScale:d=.5,width:v=Ht.AUTO_SIZE,height:h=Ht.AUTO_SIZE,resolutionX:g=v,resolutionY:B=h}={}){super("BloomEffect",I1,{blendFunction:t,uniforms:new Map([["map",new We(null)],["intensity",new We(a)]])}),this.renderTarget=new Sn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Ny({kernelSize:p}),this.luminancePass=new ky({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=i,this.mipmapBlurPass=new Jy,this.mipmapBlurPass.enabled=s,this.mipmapBlurPass.radius=u,this.mipmapBlurPass.levels=c,this.uniforms.get("map").value=s?this.mipmapBlurPass.texture:this.renderTarget.texture;const C=this.resolution=new Ht(this,g,B,d);C.addEventListener("change",E=>this.setSize(C.baseWidth,C.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,i){const s=this.renderTarget,a=this.luminancePass;a.enabled?(a.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,a.renderTarget):this.blurPass.render(t,a.renderTarget,s)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,s)}setSize(t,e){const i=this.resolution;i.setBaseSize(t,e),this.renderTarget.setSize(i.width,i.height),this.blurPass.resolution.copy(i),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,i){this.blurPass.initialize(t,e,i),this.luminancePass.initialize(t,e,i),this.mipmapBlurPass.initialize(t,e,i),i!==void 0&&(this.renderTarget.texture.type=i,Ti(t)===xt&&Br(this.renderTarget.texture,xt))}};const D1=P.createContext(null),jd=t=>(t.getAttributes()&Wn.CONVOLUTION)===Wn.CONVOLUTION,F1=Jr.memo(P.forwardRef(({children:t,camera:e,scene:i,resolutionScale:s,enabled:a=!0,renderPriority:u=1,autoClear:c=!0,depthBuffer:p,disableNormalPass:d,stencilBuffer:v,multisampling:h=8,frameBufferType:g=Cn},B)=>{const{gl:C,scene:E,camera:T,size:x}=zt(),_=i||E,M=e||T,[w,F,z]=P.useMemo(()=>{const J=iB(),X=new Vy(C,{depthBuffer:p,stencilBuffer:v,multisampling:h>0&&J?h:0,frameBufferType:g});X.addPass(new Lp(_,M));let G=null,q=null;return d||(q=new Ky(_,M),q.enabled=!1,X.addPass(q),s!==void 0&&J&&(G=new Hy({normalBuffer:q.texture,resolutionScale:s}),G.enabled=!1,X.addPass(G))),[X,q,G]},[M,C,p,v,h,g,_,d,s]);P.useEffect(()=>w==null?void 0:w.setSize(x.width,x.height),[w,x]),Ts((J,X)=>{if(a){const G=C.autoClear;C.autoClear=c,v&&!c&&C.clearStencil(),w.render(X),C.autoClear=G}},a?u:0);const H=P.useRef(null),j=Qv(H);P.useLayoutEffect(()=>{const J=[];if(H.current&&j.current&&w){const X=j.current.objects;for(let G=0;G<X.length;G++){const q=X[G];if(q instanceof Ru){const pe=[q];if(!jd(q)){let me=null;for(;(me=X[G+1])instanceof Ru&&!jd(me);)pe.push(me),G++}const Me=new by(M,...pe);J.push(Me)}else q instanceof Zt&&J.push(q)}for(const G of J)w==null||w.addPass(G);F&&(F.enabled=!0),z&&(z.enabled=!0)}return()=>{for(const X of J)w==null||w.removePass(X);F&&(F.enabled=!1),z&&(z.enabled=!1)}},[w,t,M,F,z,j]);const K=P.useMemo(()=>({composer:w,normalPass:F,downSamplingPass:z,resolutionScale:s,camera:M,scene:_}),[w,F,z,s,M,_]);return P.useImperativeHandle(B,()=>w,[w]),Pe.jsx(D1.Provider,{value:K,children:Pe.jsx("group",{ref:H,children:t})})}));let P1=0;const Qd=new WeakMap,G1=(t,e)=>Jr.forwardRef(function({blendFunction:s=e==null?void 0:e.blendFunction,opacity:a=e==null?void 0:e.opacity,...u},c){let p=Qd.get(t);if(!p){const h=`@react-three/postprocessing/${t.name}-${P1++}`;Gu({[h]:t}),Qd.set(t,p=h)}const d=zt(h=>h.camera),v=Jr.useMemo(()=>{var h,g;return[...(h=e==null?void 0:e.args)!=null?h:[],...(g=u.args)!=null?g:[{...e,...u}]]},[JSON.stringify(u)]);return Pe.jsx(p,{camera:d,"blendMode-blendFunction":s,"blendMode-opacity-value":a,...u,ref:c,args:v})}),U1=G1(R1,{blendFunction:Ue.ADD}),O1=[{label:"About",value:"About",id:1},{label:"Portfolio",value:"Portfolio",id:2},{label:"Contact",value:"Contact",id:3}],H1=()=>{const t=va("/assets/scene.gltf");return Pe.jsx("primitive",{scale:20,object:t.scene,rotation:[2.2,-.3,0]})},L1=t=>{const e=P.useRef(),i=s=>{switch(console.log(s),s){case"About":document.getElementById("About").scrollIntoView({behavior:"smooth"});break;case"Portfolio":document.getElementById("Portfolio").scrollIntoView({behavior:"smooth"});break;case"Contact":document.getElementById("Contact").scrollIntoView({behavior:"smooth"});break}};return Ts(s=>{const a=s.clock.getElapsedTime();e.current.rotation.x=-Math.PI/1.75+Math.cos(a/4)/8,e.current.rotation.z=(1+Math.sin(a/1.5))/20,e.current.position.y=(1+Math.sin(a/1.5))/10}),Pe.jsxs("group",{ref:e,...t,dispose:null,children:[O1.map(s=>Pe.jsx("mesh",{onClick:()=>i(s.label),children:Pe.jsx(xg,{wrapperClass:!0,scale:4,rotation:[Math.PI/1.5,0,0],position:[12,0,(s.id-2)*-3],transform:!0,children:Pe.jsx("div",{onClick:()=>i(s.value),children:Pe.jsx("div",{className:`group relative cursor-pointer flex h-28px justify-between items-center
                             text-black w-[97px] text-center text-sm hover:text-white `,children:Pe.jsx("div",{className:"absolute z-20 h-full text-2xl text-center font-extrabold align-middle right-0 block transform ",children:s.label})})})})},s.id)),Pe.jsx(H1,{}),Pe.jsx(F1,{children:Pe.jsx(U1,{luminanceThreshold:0,luminanceSmoothing:.9,height:100})})]})},b1=()=>Pe.jsx("div",{className:"h-[70vh] mt-0 md:pt-0 md:w-full md:h-[70vh]",children:Pe.jsxs(vg,{shadows:!0,dpr:[1,2],gl:{preserveDrawingBuffer:!0},children:[Pe.jsx(sy,{makeDefault:!0,fov:90,position:[0,0,30],focusDistance:[0,0]}),Pe.jsx("ambientLight",{color:"#ff0a65",intensity:.5}),Pe.jsx("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),Pe.jsx(rB,{global:!0,config:{mass:2,tension:500},snap:{mass:4,tension:1500},rotation:[0,0,0],polar:[-Math.PI/3,Math.PI/4],azimuth:[-Math.PI/2,Math.PI/8],children:Pe.jsx(L1,{rotation:[-Math.PI/2,0,0],position:[0,.25,0]})}),Pe.jsx(fy,{preset:"city"})]})});function N1(){const[t,e]=Jr.useState(!0);return Pe.jsx("div",{children:t&&Pe.jsx("div",{className:"justify-center items-center absolute overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Pe.jsx("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Pe.jsxs("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Pe.jsx("div",{className:"relative p-6 flex-auto",children:Pe.jsx("p",{className:"my-4 text-blueGray-500 text-lg leading-relaxed",children:"Please note that this website requires significant computational resources due to rendering of 3D objects and may not perform optimally on older mobile devices."})}),Pe.jsx("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:Pe.jsx("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>e(!1),children:"Close"})})]})})})})}const j1=()=>Pe.jsxs("div",{className:"w-screen h-screen",children:[Pe.jsxs("div",{className:"top-[20px] left-[20px] ml-8 md:top-[60px] md:pl-24 text-slate-300",id:"Hero",children:[Pe.jsxs("h1",{className:"drop-shadow-md text-primary md:text-[60px]",children:[Pe.jsx("span",{className:"text-[30px]",children:"Hi,"}),Pe.jsx("br",{}),"My name is Arian"]}),Pe.jsx("h3",{className:"text-white mt-6 text-lg font-semibold",children:"Welcome to my Portfolio"})]}),Pe.jsx("div",{className:"md:hidden block",children:Pe.jsx(N1,{})}),Pe.jsx(b1,{})]});export{j1 as default};
